<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MYP Design Explorer</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<style>
* { box-sizing:border-box; margin:0; padding:0; }
:root {
  --bg:#f7f4ef; --surface:#fff; --surface2:#edeae4; --border:#ddd8cf;
  --text:#111; --muted:#333; --dim:#555;
  --ca:#29a8d4; --ca-bg:#e4f5fb;
  --cb:#d49800; --cb-bg:#fef3c7;
  --cc:#28a85e; --cc-bg:#e2f7ec;
  --cd:#e03c3c; --cd-bg:#fdeaea;
  --l1-bg:#fde8f0; --l1:#9a1548; --l1-bd:#f4aac8; --l1-bg-tbl:rgba(253,232,240,0.55);
  --l2-bg:#e2f7ec; --l2:#146832; --l2-bd:#82d8a4; --l2-bg-tbl:rgba(226,247,236,0.55);
  --l3-bg:#e4f5fb; --l3:#0e5878; --l3-bd:#7ecce8; --l3-bg-tbl:rgba(228,245,251,0.55);
  --l4-bg:#f0eaff; --l4:#4a18a8; --l4-bd:#b898f2; --l4-bg-tbl:rgba(240,234,255,0.55);
}
body { background:var(--bg); color:var(--text); font-family:'Nunito',sans-serif; font-size:17px; line-height:1.65; min-height:100vh; display:flex; flex-direction:column; }

/* HEADER */
header { background:var(--surface); border-bottom:3px solid var(--border); padding:18px 36px; display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap; flex-shrink:0; position:sticky; top:0; z-index:200; }
.hdr-left { display:flex; align-items:center; gap:14px; }
.hdr-icon { font-size:36px; line-height:1; }
.hdr-title { font-size:24px; font-weight:900; color:var(--text); }
.hdr-sub { font-size:14px; font-weight:700; color:var(--muted); margin-top:2px; }
.hdr-btns { display:flex; gap:10px; flex-wrap:wrap; }
.prog-btn { display:flex; align-items:center; gap:8px; padding:11px 20px; border-radius:50px; border:2.5px solid var(--l2-bd); background:var(--l2-bg); cursor:pointer; font-size:14px; font-weight:900; color:var(--l2); font-family:'Nunito',sans-serif; transition:all .15s; }
.prog-btn:hover,.prog-btn.active { background:var(--l2); color:#fff; border-color:var(--l2); }
.diff-btn { display:flex; align-items:center; gap:8px; padding:11px 20px; border-radius:50px; border:2.5px solid var(--l4-bd); background:var(--l4-bg); cursor:pointer; font-size:14px; font-weight:900; color:var(--l4); font-family:'Nunito',sans-serif; transition:all .15s; }
.diff-btn:hover,.diff-btn.active { background:var(--l4); color:#fff; border-color:var(--l4); }

/* LAYOUT */
.layout { display:flex; flex:1; overflow:hidden; }

/* SIDEBAR */
.sidebar { background:var(--surface); border-right:3px solid var(--border); padding:22px 16px; display:flex; flex-direction:column; gap:16px; width:295px; min-width:295px; flex-shrink:0; height:100%; overflow-y:auto; overflow-x:hidden; }
.main { flex:1; overflow-y:auto; padding:30px 36px; }
.sidebar::-webkit-scrollbar { width:4px; } .sidebar::-webkit-scrollbar-thumb { background:var(--border); border-radius:4px; }.flabel { font-size:11px; font-weight:900; letter-spacing:.12em; text-transform:uppercase; color:var(--dim); margin-bottom:8px; }
.crit-btn { display:flex; align-items:center; gap:10px; padding:9px 13px; border-radius:12px; border:2.5px solid transparent; background:transparent; cursor:pointer; width:100%; text-align:left; transition:all .15s; margin-bottom:3px; font-family:'Nunito',sans-serif; }
.crit-btn:hover { background:var(--bg); }
.cswatch { width:14px; height:14px; border-radius:4px; flex-shrink:0; }
.crit-btn[data-c="A"] .cswatch{background:var(--ca);} .crit-btn[data-c="A"].on{border-color:var(--ca);background:var(--ca-bg);}
.crit-btn[data-c="B"] .cswatch{background:var(--cb);} .crit-btn[data-c="B"].on{border-color:var(--cb);background:var(--cb-bg);}
.crit-btn[data-c="C"] .cswatch{background:var(--cc);} .crit-btn[data-c="C"].on{border-color:var(--cc);background:var(--cc-bg);}
.crit-btn[data-c="D"] .cswatch{background:var(--cd);} .crit-btn[data-c="D"].on{border-color:var(--cd);background:var(--cd-bg);}
.clabel{font-size:15px;font-weight:900;color:var(--text);} .csub{font-size:12px;font-weight:700;color:var(--muted);margin-top:1px;}
.strand-btn{display:flex;align-items:flex-start;gap:8px;padding:9px 12px;border-radius:10px;border:2px solid transparent;background:transparent;cursor:pointer;width:100%;text-align:left;transition:all .15s;margin-bottom:3px;font-family:'Nunito',sans-serif;}
.strand-btn:hover{background:var(--bg);} .strand-btn.on{background:var(--bg);border-color:var(--border);}
.snum{font-size:12px;font-weight:900;color:var(--dim);margin-top:2px;width:15px;flex-shrink:0;} .strand-btn.on .snum{color:var(--muted);}
.stxt{font-size:13px;font-weight:700;color:var(--muted);line-height:1.4;} .strand-btn.on .stxt{color:var(--text);font-weight:900;}
.grade-btn{display:flex;align-items:center;gap:10px;padding:9px 13px;border-radius:10px;border:2px solid var(--border);background:var(--bg);cursor:pointer;width:100%;text-align:left;transition:all .15s;margin-bottom:4px;font-family:'Nunito',sans-serif;font-size:14px;font-weight:700;color:var(--muted);}
.grade-btn:hover{border-color:#999;color:var(--text);} .grade-btn.on{background:var(--surface);border-color:#888;color:var(--text);font-weight:900;}
.tbox{width:18px;height:18px;border-radius:5px;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:900;flex-shrink:0;color:transparent;transition:all .15s;}
.grade-btn.on .tbox{background:var(--text);border-color:var(--text);color:#fff;}
.lvl-pills{display:flex;flex-direction:column;gap:4px;}
.lvl-pill{padding:7px 12px;border-radius:10px;border:2px solid transparent;background:var(--bg);cursor:pointer;font-size:13px;font-weight:700;font-family:'Nunito',sans-serif;color:var(--muted);transition:all .15s;text-align:left;width:100%;}
.lvl-pill:hover{border-color:var(--border);}
.lvl-pill.on[data-lv="1"]{background:var(--l1-bg);border-color:var(--l1-bd);color:var(--l1);font-weight:900;}
.lvl-pill.on[data-lv="2"]{background:var(--l2-bg);border-color:var(--l2-bd);color:var(--l2);font-weight:900;}
.lvl-pill.on[data-lv="3"]{background:var(--l3-bg);border-color:var(--l3-bd);color:var(--l3);font-weight:900;}
.lvl-pill.on[data-lv="4"]{background:var(--l4-bg);border-color:var(--l4-bd);color:var(--l4);font-weight:900;}
.vtoggle{display:flex;gap:3px;background:var(--bg);border:2px solid var(--border);border-radius:10px;padding:3px;}
.vbtn{flex:1;padding:8px 4px;border-radius:7px;border:none;background:transparent;cursor:pointer;font-size:13px;font-weight:900;color:var(--dim);transition:all .15s;font-family:'Nunito',sans-serif;}
.vbtn:hover{color:var(--text);} .vbtn.on{background:var(--surface);color:var(--text);box-shadow:0 2px 6px rgba(0,0,0,.1);}

/* MAIN */
.crumb{font-size:14px;font-weight:700;color:var(--dim);margin-bottom:14px;display:flex;align-items:center;gap:6px;}
.crumb strong{color:var(--text);font-weight:900;} .crumb-sep{color:var(--border);}
.sec-hdr{margin-bottom:20px;padding-bottom:16px;border-bottom:3px solid var(--border);}
.crit-tag{display:inline-flex;align-items:center;gap:6px;padding:5px 14px;border-radius:50px;font-size:13px;font-weight:900;margin-bottom:10px;border:2px solid;}
.sec-title{font-size:28px;font-weight:900;color:var(--text);line-height:1.2;}
.sec-meta{font-size:14px;font-weight:700;color:var(--muted);margin-top:6px;}

/* Key Words bar */
.cmd-key{background:var(--surface);border:2px solid var(--border);border-radius:14px;padding:14px 18px;margin-bottom:20px;display:flex;align-items:center;gap:12px;flex-wrap:wrap;}
.cmd-key-lbl{font-size:12px;font-weight:900;color:var(--text);text-transform:uppercase;letter-spacing:.1em;flex-shrink:0;}
.cmd-key-items{display:flex;gap:6px;flex-wrap:wrap;}
.cmd-pill{display:flex;align-items:center;gap:5px;padding:5px 12px;border-radius:50px;border:2px solid;font-size:13px;font-weight:900;cursor:help;transition:transform .1s;}
.cmd-pill:hover{transform:scale(1.07);}
.cmd-pill.lv1{background:var(--l1-bg);color:var(--l1);border-color:var(--l1-bd);}
.cmd-pill.lv2{background:var(--l2-bg);color:var(--l2);border-color:var(--l2-bd);}
.cmd-pill.lv3{background:var(--l3-bg);color:var(--l3);border-color:var(--l3-bd);}
.cmd-pill.lv4{background:var(--l4-bg);color:var(--l4);border-color:var(--l4-bd);}
.cmd-key-hint{font-size:13px;font-weight:700;color:var(--muted);margin-left:4px;}

/* GRID cards */
.grid-view{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:18px;}
.rcard{border:2.5px solid;border-radius:16px;padding:20px 22px;position:relative;overflow:hidden;transition:box-shadow .15s,transform .15s;}
.rcard[data-lv="1"]{background:var(--l1-bg);border-color:var(--l1-bd);}
.rcard[data-lv="2"]{background:var(--l2-bg);border-color:var(--l2-bd);}
.rcard[data-lv="3"]{background:var(--l3-bg);border-color:var(--l3-bd);}
.rcard[data-lv="4"]{background:var(--l4-bg);border-color:var(--l4-bd);}
.rcard:hover{box-shadow:0 6px 22px rgba(0,0,0,.12);transform:translateY(-2px);}
.card-top{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px;}
.card-grade{font-size:13px;font-weight:900;color:var(--text);text-transform:uppercase;letter-spacing:.05em;}
.lvl-badge{padding:4px 12px;border-radius:50px;font-size:12px;font-weight:900;border:2px solid;}
.lvl-badge.lv1{background:#fff;color:var(--l1);border-color:var(--l1-bd);}
.lvl-badge.lv2{background:#fff;color:var(--l2);border-color:var(--l2-bd);}
.lvl-badge.lv3{background:#fff;color:var(--l3);border-color:var(--l3-bd);}
.lvl-badge.lv4{background:#fff;color:var(--l4);border-color:var(--l4-bd);}
.card-txt{font-size:17px;font-weight:700;line-height:1.75;color:var(--text);}

/* TABLE */
.tbl-wrap{border:2.5px solid var(--border);border-radius:16px;overflow:hidden;overflow-x:auto;}
table{width:100%;border-collapse:collapse;}
thead{background:var(--surface2);}
thead th{padding:14px 20px;text-align:left;font-size:13px;font-weight:900;color:var(--text);text-transform:uppercase;letter-spacing:.06em;border-bottom:3px solid var(--border);white-space:nowrap;}
thead th.th-lv1{background:var(--l1-bg);color:var(--l1);border-bottom-color:var(--l1-bd);}
thead th.th-lv2{background:var(--l2-bg);color:var(--l2);border-bottom-color:var(--l2-bd);}
thead th.th-lv3{background:var(--l3-bg);color:var(--l3);border-bottom-color:var(--l3-bd);}
thead th.th-lv4{background:var(--l4-bg);color:var(--l4);border-bottom-color:var(--l4-bd);}
tbody tr{border-bottom:2px solid var(--border);}
tbody tr:last-child{border-bottom:none;}
tbody td{padding:18px 20px;vertical-align:top;font-size:17px;font-weight:700;line-height:1.75;color:var(--text);}
tbody td:first-child{font-weight:900;font-size:14px;color:var(--text);white-space:nowrap;background:var(--surface2);border-right:2px solid var(--border);}
tbody td.td-lv1{background:var(--l1-bg-tbl);}
tbody td.td-lv2{background:var(--l2-bg-tbl);}
tbody td.td-lv3{background:var(--l3-bg-tbl);}
tbody td.td-lv4{background:var(--l4-bg-tbl);}
.tbl-tag{display:inline-block;padding:3px 10px;border-radius:50px;font-size:12px;font-weight:900;margin-bottom:6px;border:2px solid;background:#fff;}
.tbl-tag.lv1{color:var(--l1);border-color:var(--l1-bd);}
.tbl-tag.lv2{color:var(--l2);border-color:var(--l2-bd);}
.tbl-tag.lv3{color:var(--l3);border-color:var(--l3-bd);}
.tbl-tag.lv4{color:var(--l4);border-color:var(--l4-bd);}

/* COMPARE */
.cmp-grp{margin-bottom:28px;}
.cmp-grp-title{font-size:15px;font-weight:900;color:var(--text);text-transform:uppercase;letter-spacing:.07em;margin-bottom:10px;display:flex;align-items:center;gap:10px;}
.cmp-wrap{border:2.5px solid var(--border);border-radius:16px;overflow:hidden;overflow-x:auto;}
.cmp-grid{display:grid;min-width:600px;}
.cmp-hd{padding:13px 20px;font-size:13px;font-weight:900;color:var(--text);text-transform:uppercase;letter-spacing:.06em;border-bottom:2px solid var(--border);text-align:center;}
.cmp-hd:not(:last-child){border-right:2px solid var(--border);}
.cmp-hd.lv1{background:var(--l1-bg);color:var(--l1);}
.cmp-hd.lv2{background:var(--l2-bg);color:var(--l2);}
.cmp-hd.lv3{background:var(--l3-bg);color:var(--l3);}
.cmp-hd.lv4{background:var(--l4-bg);color:var(--l4);}
.cmp-cell{padding:20px;font-size:17px;font-weight:700;line-height:1.75;color:var(--text);background:#fff;}
.cmp-cell:not(:last-child){border-right:2px solid var(--border);}
.cmp-cell.lv1{background:var(--l1-bg-tbl);}
.cmp-cell.lv2{background:var(--l2-bg-tbl);}
.cmp-cell.lv3{background:var(--l3-bg-tbl);}
.cmp-cell.lv4{background:var(--l4-bg-tbl);}

/* INLINE command term highlight */
.ct{font-weight:900;border-bottom:3px dotted;cursor:help;border-radius:3px;padding:1px 3px;}
.ct.lv1{color:var(--l1);background:rgba(255,255,255,0.7);border-bottom-color:var(--l1);}
.ct.lv2{color:var(--l2);background:rgba(255,255,255,0.7);border-bottom-color:var(--l2);}
.ct.lv3{color:var(--l3);background:rgba(255,255,255,0.7);border-bottom-color:var(--l3);}
.ct.lv4{color:var(--l4);background:rgba(255,255,255,0.7);border-bottom-color:var(--l4);}

/* TOOLTIP */
.tip{position:fixed;z-index:9999;border-radius:16px;padding:0;max-width:330px;pointer-events:none;opacity:0;transition:opacity .12s;box-shadow:0 10px 32px rgba(0,0,0,.35);font-family:'Nunito',sans-serif;overflow:hidden;}
.tip.show{opacity:1;}
.tip-head{padding:14px 18px 12px;}
.tip-head.lv1{background:var(--l1-bg);}
.tip-head.lv2{background:var(--l2-bg);}
.tip-head.lv3{background:var(--l3-bg);}
.tip-head.lv4{background:var(--l4-bg);}
.tip-word{font-size:20px;font-weight:900;}
.tip-head.lv1 .tip-word{color:var(--l1);}
.tip-head.lv2 .tip-word{color:var(--l2);}
.tip-head.lv3 .tip-word{color:var(--l3);}
.tip-head.lv4 .tip-word{color:var(--l4);}
.tip-lvl{font-size:11px;font-weight:900;letter-spacing:.1em;text-transform:uppercase;margin-top:2px;opacity:.7;}
.tip-head.lv1 .tip-lvl{color:var(--l1);}
.tip-head.lv2 .tip-lvl{color:var(--l2);}
.tip-head.lv3 .tip-lvl{color:var(--l3);}
.tip-head.lv4 .tip-lvl{color:var(--l4);}
.tip-body{padding:12px 18px 14px;background:#111;}
.tip-simple{font-size:14px;font-weight:800;color:#fff;margin-bottom:10px;line-height:1.5;}
.tip-ex-label{font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.1em;color:rgba(255,255,255,.45);margin-bottom:5px;}
.tip-ex{font-size:13px;font-weight:700;color:rgba(255,255,255,.85);font-style:italic;line-height:1.55;}

/* SHARED MODAL BASE */
.modal-bg{position:fixed;inset:0;background:rgba(17,17,17,.5);z-index:1000;display:none;align-items:center;justify-content:center;padding:24px;backdrop-filter:blur(4px);}
.modal-bg.open{display:flex;}
.modal{background:var(--surface);border-radius:20px;border:3px solid var(--border);width:100%;max-width:840px;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px rgba(0,0,0,.22);}
.modal-hdr{padding:24px 30px 20px;border-bottom:3px solid var(--border);display:flex;align-items:center;justify-content:space-between;}
.modal-title{font-size:24px;font-weight:900;color:var(--text);}
.modal-sub{font-size:14px;font-weight:700;color:var(--muted);margin-top:3px;}
.close-x{width:36px;height:36px;border-radius:10px;border:2px solid var(--border);background:var(--bg);cursor:pointer;font-size:16px;font-weight:900;color:var(--muted);display:flex;align-items:center;justify-content:center;transition:all .15s;font-family:'Nunito',sans-serif;}
.close-x:hover{border-color:#888;color:var(--text);}
.modal-body{padding:26px 30px;}

/* COMPARE MODAL */
.sel-row{display:grid;grid-template-columns:1fr auto 1fr;gap:16px;align-items:center;margin-bottom:26px;}
.vs{font-size:20px;font-weight:900;color:var(--dim);text-align:center;}
.tsel{padding:11px 38px 11px 16px;border-radius:12px;border:2.5px solid var(--border);background:var(--bg);font-size:15px;font-weight:900;color:var(--text);cursor:pointer;font-family:'Nunito',sans-serif;appearance:none;width:100%;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%23555' stroke-width='2' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 14px center;}
.tsel:focus{outline:none;border-color:var(--l4-bd);}
.cmp-result{display:grid;grid-template-columns:1fr 1fr;gap:18px;}
.ccard{border-radius:14px;border:2.5px solid;overflow:hidden;}
.ccard.lv1{border-color:var(--l1-bd);} .ccard.lv2{border-color:var(--l2-bd);} .ccard.lv3{border-color:var(--l3-bd);} .ccard.lv4{border-color:var(--l4-bd);}
.ccard-hd{padding:16px 20px;}
.ccard.lv1 .ccard-hd{background:var(--l1-bg);color:var(--l1);}
.ccard.lv2 .ccard-hd{background:var(--l2-bg);color:var(--l2);}
.ccard.lv3 .ccard-hd{background:var(--l3-bg);color:var(--l3);}
.ccard.lv4 .ccard-hd{background:var(--l4-bg);color:var(--l4);}
.ccard-word{font-size:24px;font-weight:900;}
.ccard-lvltag{font-size:11px;font-weight:900;letter-spacing:.1em;text-transform:uppercase;opacity:.65;margin-top:2px;}
.ccard-body{padding:18px 20px;}
.ccard-simple{font-size:16px;font-weight:800;color:var(--text);line-height:1.55;margin-bottom:14px;}
.ccard-ex-lbl{font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.1em;color:var(--dim);margin-bottom:6px;}
.ccard-ex{font-size:14px;font-weight:700;color:var(--text);line-height:1.65;padding:12px 14px;border-radius:10px;margin-bottom:10px;border:2px solid;}
.ccard.lv1 .ccard-ex{background:var(--l1-bg);border-color:var(--l1-bd);}
.ccard.lv2 .ccard-ex{background:var(--l2-bg);border-color:var(--l2-bd);}
.ccard.lv3 .ccard-ex{background:var(--l3-bg);border-color:var(--l3-bd);}
.ccard.lv4 .ccard-ex{background:var(--l4-bg);border-color:var(--l4-bd);}
.ccard-used{font-size:13px;font-weight:700;color:var(--muted);line-height:1.6;}
.ccard-used strong{color:var(--text);font-weight:900;}
.key-diff{grid-column:1/-1;margin-top:2px;padding:18px 20px;border-radius:12px;background:#fffbea;border:2.5px solid #f0d060;font-size:15px;font-weight:700;line-height:1.65;color:#2a2200;}
.key-diff strong{font-weight:900;color:#111;}

/* PROGRESSION MODAL */
.prog-modal{max-width:900px;}
.prog-selectors{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:14px;margin-bottom:28px;}
.prog-sel-wrap{display:flex;flex-direction:column;gap:6px;}
.prog-sel-label{font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.1em;color:var(--dim);}
.prog-sel{padding:10px 36px 10px 14px;border-radius:12px;border:2.5px solid var(--border);background:var(--bg);font-size:14px;font-weight:800;color:var(--text);cursor:pointer;font-family:'Nunito',sans-serif;appearance:none;width:100%;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%23555' stroke-width='2' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right 13px center;}
.prog-sel:focus{outline:none;border-color:var(--l4-bd);}
.prog-track{display:flex;flex-direction:column;}
.prog-step{display:grid;grid-template-columns:56px 1fr;}
.prog-spine{display:flex;flex-direction:column;align-items:center;}
.prog-dot{width:44px;height:44px;border-radius:50%;border:3px solid;display:flex;align-items:center;justify-content:center;font-size:18px;flex-shrink:0;z-index:1;transition:transform .15s;}
.prog-step:hover .prog-dot{transform:scale(1.12);}
.prog-dot.lv1{background:var(--l1-bg);border-color:var(--l1);}
.prog-dot.lv2{background:var(--l2-bg);border-color:var(--l2);}
.prog-dot.lv3{background:var(--l3-bg);border-color:var(--l3);}
.prog-dot.lv4{background:var(--l4-bg);border-color:var(--l4);}
.prog-line{width:3px;flex:1;min-height:20px;}
.prog-line.lv1{background:var(--l1-bd);}
.prog-line.lv2{background:var(--l2-bd);}
.prog-line.lv3{background:var(--l3-bd);}
.prog-line.lv4{background:var(--l4-bd);}
.prog-step:last-child .prog-line{display:none;}
.prog-content{padding:0 0 24px 18px;}
.prog-card{border-radius:14px;border:2.5px solid;overflow:hidden;transition:box-shadow .15s,transform .15s;}
.prog-card:hover{box-shadow:0 4px 18px rgba(0,0,0,.11);transform:translateX(3px);}
.prog-card.lv1{border-color:var(--l1-bd);}
.prog-card.lv2{border-color:var(--l2-bd);}
.prog-card.lv3{border-color:var(--l3-bd);}
.prog-card.lv4{border-color:var(--l4-bd);}
.prog-card-hd{padding:12px 18px;display:flex;align-items:center;justify-content:space-between;gap:12px;}
.prog-card.lv1 .prog-card-hd{background:var(--l1-bg);}
.prog-card.lv2 .prog-card-hd{background:var(--l2-bg);}
.prog-card.lv3 .prog-card-hd{background:var(--l3-bg);}
.prog-card.lv4 .prog-card-hd{background:var(--l4-bg);}
.prog-lvl-name{font-size:16px;font-weight:900;}
.prog-card.lv1 .prog-lvl-name{color:var(--l1);}
.prog-card.lv2 .prog-lvl-name{color:var(--l2);}
.prog-card.lv3 .prog-lvl-name{color:var(--l3);}
.prog-card.lv4 .prog-lvl-name{color:var(--l4);}
.prog-score{padding:3px 10px;border-radius:50px;font-size:13px;font-weight:900;border:2px solid;background:#fff;}
.prog-card.lv1 .prog-score{color:var(--l1);border-color:var(--l1-bd);}
.prog-card.lv2 .prog-score{color:var(--l2);border-color:var(--l2-bd);}
.prog-card.lv3 .prog-score{color:var(--l3);border-color:var(--l3-bd);}
.prog-card.lv4 .prog-score{color:var(--l4);border-color:var(--l4-bd);}
.prog-card-body{padding:16px 18px;background:#fff;}
.prog-rubric{font-size:17px;font-weight:800;color:var(--text);line-height:1.6;margin-bottom:14px;}
.prog-changed{border-radius:10px;padding:12px 14px;border-left:4px solid;margin-bottom:12px;}
.prog-card.lv1 .prog-changed{background:#fdf0f6;border-color:var(--l1);}
.prog-card.lv2 .prog-changed{background:#edfaf3;border-color:var(--l2);}
.prog-card.lv3 .prog-changed{background:#eaf6fd;border-color:var(--l3);}
.prog-card.lv4 .prog-changed{background:#f3eeff;border-color:var(--l4);}
.prog-changed-lbl{font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.1em;margin-bottom:5px;}
.prog-card.lv1 .prog-changed-lbl{color:var(--l1);}
.prog-card.lv2 .prog-changed-lbl{color:var(--l2);}
.prog-card.lv3 .prog-changed-lbl{color:var(--l3);}
.prog-card.lv4 .prog-changed-lbl{color:var(--l4);}
.prog-changed-txt{font-size:15px;font-weight:700;color:var(--text);line-height:1.6;}
.prog-ex-lbl{font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.1em;color:var(--dim);margin-bottom:5px;}
.prog-ex{font-size:14px;font-weight:700;color:var(--text);line-height:1.65;padding:11px 14px;border-radius:10px;border:2px solid;font-style:italic;}
.prog-card.lv1 .prog-ex{background:var(--l1-bg);border-color:var(--l1-bd);}
.prog-card.lv2 .prog-ex{background:var(--l2-bg);border-color:var(--l2-bd);}
.prog-card.lv3 .prog-ex{background:var(--l3-bg);border-color:var(--l3-bd);}
.prog-card.lv4 .prog-ex{background:var(--l4-bg);border-color:var(--l4-bd);}

.fade{animation:fup .22s ease forwards;}
@keyframes fup{from{opacity:0;transform:translateY(6px);}to{opacity:1;transform:translateY(0);}}
.empty{padding:80px;text-align:center;}
.empty p{font-size:22px;font-weight:900;color:var(--text);margin-bottom:8px;}
.empty span{font-size:15px;font-weight:700;color:var(--muted);}

@media(max-width:860px){
  .layout{grid-template-columns:1fr;}
  .sidebar{position:static;height:auto;border-right:none;border-bottom:3px solid var(--border);}
  .main{padding:20px;}
  .cmp-result{grid-template-columns:1fr;}
  .sel-row{grid-template-columns:1fr;}
  .prog-selectors{grid-template-columns:1fr;}
}

/* ── CHECKLIST BUTTON ── */
.check-btn{display:flex;align-items:center;gap:8px;padding:11px 20px;border-radius:50px;border:2.5px solid #ffb347;background:#fff8ee;cursor:pointer;font-size:14px;font-weight:900;color:#c25a00;font-family:'Nunito',sans-serif;transition:all .15s;}
.check-btn:hover,.check-btn.active{background:#c25a00;color:#fff;border-color:#c25a00;}

/* ── CHECKLIST MODAL ── */
#clBg{z-index:1100;}
.cl-modal{max-width:780px;max-height:95vh;}

/* Step wizard */
.cl-wizard{display:flex;flex-direction:column;gap:0;}
.cl-step{display:none;}
.cl-step.active{display:block;}

/* Step header */
.cl-step-hdr{text-align:center;padding:10px 0 28px;}
.cl-step-num{display:inline-block;background:#f0eaff;color:var(--l4);border:2px solid var(--l4-bd);border-radius:50px;font-size:12px;font-weight:900;padding:3px 14px;margin-bottom:10px;letter-spacing:.08em;text-transform:uppercase;}
.cl-step-title{font-size:22px;font-weight:900;color:var(--text);margin-bottom:6px;}
.cl-step-sub{font-size:15px;font-weight:700;color:var(--muted);}

/* Choice cards grid */
.cl-choices{display:grid;gap:12px;}
.cl-choices.cols2{grid-template-columns:1fr 1fr;}
.cl-choices.cols4{grid-template-columns:1fr 1fr 1fr 1fr;}
.cl-choice{border:2.5px solid var(--border);border-radius:14px;padding:16px 14px;cursor:pointer;text-align:center;transition:all .15s;background:var(--surface);position:relative;}
.cl-choice:hover{border-color:#aaa;transform:translateY(-2px);box-shadow:0 4px 14px rgba(0,0,0,.1);}
.cl-choice.sel{border-color:var(--l4);background:var(--l4-bg);transform:translateY(-2px);box-shadow:0 4px 14px rgba(74,24,168,.15);}
.cl-choice-icon{font-size:32px;margin-bottom:8px;}
.cl-choice-name{font-size:14px;font-weight:900;color:var(--text);}
.cl-choice-sub{font-size:12px;font-weight:700;color:var(--muted);margin-top:3px;}
.cl-choice.sel .cl-choice-name{color:var(--l4);}
.cl-choice.sel .cl-choice-sub{color:var(--l4);}
/* level colours for level cards */
.cl-choice[data-lv="1"]:hover,.cl-choice[data-lv="1"].sel{border-color:var(--l1);background:var(--l1-bg);}
.cl-choice[data-lv="1"].sel .cl-choice-name{color:var(--l1);}
.cl-choice[data-lv="2"]:hover,.cl-choice[data-lv="2"].sel{border-color:var(--l2);background:var(--l2-bg);}
.cl-choice[data-lv="2"].sel .cl-choice-name{color:var(--l2);}
.cl-choice[data-lv="3"]:hover,.cl-choice[data-lv="3"].sel{border-color:var(--l3);background:var(--l3-bg);}
.cl-choice[data-lv="3"].sel .cl-choice-name{color:var(--l3);}
.cl-choice[data-lv="4"]:hover,.cl-choice[data-lv="4"].sel{border-color:var(--l4);background:var(--l4-bg);}
.cl-choice[data-lv="4"].sel .cl-choice-name{color:var(--l4);}

/* Wizard nav */
.cl-nav{display:flex;justify-content:space-between;align-items:center;padding-top:24px;border-top:2px solid var(--border);margin-top:24px;}
.cl-nav-back{padding:10px 20px;border-radius:50px;border:2px solid var(--border);background:var(--bg);font-size:14px;font-weight:900;color:var(--muted);cursor:pointer;font-family:'Nunito',sans-serif;transition:all .15s;}
.cl-nav-back:hover{border-color:#888;color:var(--text);}
.cl-nav-next{padding:10px 28px;border-radius:50px;border:none;background:var(--l4);font-size:14px;font-weight:900;color:#fff;cursor:pointer;font-family:'Nunito',sans-serif;transition:all .15s;box-shadow:0 3px 12px rgba(74,24,168,.3);}
.cl-nav-next:hover{background:#3a0e88;}
.cl-nav-next:disabled{background:#ccc;box-shadow:none;cursor:not-allowed;}
.cl-dots{display:flex;gap:7px;}
.cl-dot{width:9px;height:9px;border-radius:50%;background:var(--border);transition:all .2s;}
.cl-dot.on{background:var(--l4);transform:scale(1.3);}

/* ── CHECKLIST OUTPUT STEP ── */
.cl-output{display:flex;flex-direction:column;gap:16px;}

/* Celebration banner */
.cl-banner{border-radius:16px;padding:20px 24px;text-align:center;position:relative;overflow:hidden;}
.cl-banner.lv1{background:var(--l1-bg);border:2.5px solid var(--l1-bd);}
.cl-banner.lv2{background:var(--l2-bg);border:2.5px solid var(--l2-bd);}
.cl-banner.lv3{background:var(--l3-bg);border:2.5px solid var(--l3-bd);}
.cl-banner.lv4{background:var(--l4-bg);border:2.5px solid var(--l4-bd);}
.cl-banner-icon{font-size:40px;margin-bottom:6px;}
.cl-banner-title{font-size:20px;font-weight:900;}
.cl-banner.lv1 .cl-banner-title{color:var(--l1);}
.cl-banner.lv2 .cl-banner-title{color:var(--l2);}
.cl-banner.lv3 .cl-banner-title{color:var(--l3);}
.cl-banner.lv4 .cl-banner-title{color:var(--l4);}
.cl-banner-sub{font-size:14px;font-weight:700;color:var(--muted);margin-top:4px;}

/* Game widget */
.cl-game{border-radius:16px;border:2.5px solid var(--border);overflow:hidden;}
.cl-game-hdr{padding:12px 18px;display:flex;align-items:center;justify-content:space-between;background:var(--surface2);}
.cl-game-title{font-size:13px;font-weight:900;color:var(--text);text-transform:uppercase;letter-spacing:.06em;}
.cl-game-prog{font-size:13px;font-weight:900;color:var(--muted);}
.cl-game-canvas{padding:12px 18px 16px;background:#fff;text-align:center;min-height:130px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;}
canvas#gameCanvas{border-radius:10px;max-width:100%;}

/* Checklist items */
.cl-list{display:flex;flex-direction:column;gap:8px;}
.cl-item{display:flex;align-items:flex-start;gap:14px;padding:14px 16px;border-radius:12px;border:2px solid var(--border);background:var(--surface);cursor:pointer;transition:all .2s;user-select:none;}
.cl-item:hover{border-color:#aaa;box-shadow:0 2px 8px rgba(0,0,0,.07);}
.cl-item.done{opacity:.65;}
.cl-item.done .cl-item-txt{text-decoration:line-through;color:var(--muted);}
.cl-checkbox{width:26px;height:26px;border-radius:8px;border:2.5px solid var(--border);flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:900;transition:all .2s;margin-top:1px;}
.cl-item.done .cl-checkbox{background:var(--l2);border-color:var(--l2);color:#fff;}
.cl-item-body{flex:1;}
.cl-item-txt{font-size:16px;font-weight:700;color:var(--text);line-height:1.55;}
.cl-item-hint{font-size:13px;font-weight:700;color:var(--muted);margin-top:3px;font-style:italic;}

/* Progress bar */
.cl-progress-wrap{background:var(--surface2);border-radius:10px;padding:12px 16px;display:flex;align-items:center;gap:14px;}
.cl-progress-label{font-size:13px;font-weight:900;color:var(--text);flex-shrink:0;}
.cl-progress-bar{flex:1;height:12px;background:var(--border);border-radius:6px;overflow:hidden;}
.cl-progress-fill{height:100%;border-radius:6px;transition:width .4s cubic-bezier(.34,1.56,.64,1);background:var(--l2);}
.cl-progress-pct{font-size:13px;font-weight:900;color:var(--muted);flex-shrink:0;min-width:36px;text-align:right;}

/* Confetti burst (JS-driven) */
.confetti-piece{position:fixed;border-radius:3px;pointer-events:none;z-index:9999;animation:confettiFall 1.2s ease-in forwards;}
@keyframes confettiFall{0%{opacity:1;transform:translateY(0) rotate(0deg);}100%{opacity:0;transform:translateY(300px) rotate(720deg);}}

/* Reset btn */
.cl-reset{margin-top:8px;padding:9px 20px;border-radius:50px;border:2px solid var(--border);background:var(--bg);font-size:13px;font-weight:900;color:var(--muted);cursor:pointer;font-family:'Nunito',sans-serif;transition:all .15s;align-self:center;}
.cl-reset:hover{border-color:#888;color:var(--text);}


/* ═══════════════════════════════════════
   LEARN DESIGN TAB
═══════════════════════════════════════ */

/* Top-level mode switcher */
.mode-bar{background:var(--surface);border-bottom:3px solid var(--border);display:flex;gap:0;padding:0 36px;flex-shrink:0;position:sticky;top:0;z-index:199;}
.mode-tab{padding:14px 24px;border:none;background:transparent;cursor:pointer;font-family:'Nunito',sans-serif;font-size:15px;font-weight:800;color:var(--muted);border-bottom:4px solid transparent;margin-bottom:-3px;transition:all .15s;display:flex;align-items:center;gap:8px;}
.mode-tab:hover{color:var(--text);}
.mode-tab.on{color:var(--text);border-bottom-color:var(--l4);}

/* Hide/show main panels */
.panel{display:none;}
.panel.on{display:flex;flex:1;overflow:hidden;}
.panel-flex{display:none;}
.panel-flex.on{display:flex;flex:1;overflow:hidden;}

/* ── LEARN LAYOUT ── */
.learn-layout{display:flex;flex:1;overflow:hidden;}
.learn-nav{background:var(--surface);border-right:3px solid var(--border);padding:22px 16px;display:flex;flex-direction:column;gap:6px;width:260px;min-width:260px;flex-shrink:0;height:100%;overflow-y:auto;overflow-x:hidden;}
.learn-nav::-webkit-scrollbar{width:4px;} .learn-nav::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px;}
.learn-nav-section{font-size:10px;font-weight:900;letter-spacing:.14em;text-transform:uppercase;color:var(--dim);padding:14px 12px 6px;margin-top:4px;}
.learn-nav-section:first-child{margin-top:0;}
.learn-nav-btn{display:flex;align-items:center;gap:10px;padding:10px 13px;border-radius:12px;border:2px solid transparent;background:transparent;cursor:pointer;width:100%;text-align:left;font-family:'Nunito',sans-serif;font-size:14px;font-weight:700;color:var(--muted);transition:all .15s;}
.learn-nav-btn:hover{background:var(--bg);color:var(--text);}
.learn-nav-btn.on{background:var(--l4-bg);border-color:var(--l4-bd);color:var(--l4);font-weight:900;}
.learn-nav-icon{font-size:18px;flex-shrink:0;}

/* ── LEARN CONTENT ── */
.learn-content{padding:36px 44px;max-width:860px;flex:1;overflow-y:auto;}
.learn-section{display:none;}
.learn-section.on{display:block;}

/* Article header */
.learn-art-hdr{margin-bottom:28px;padding-bottom:20px;border-bottom:3px solid var(--border);}
.learn-art-badge{display:inline-flex;align-items:center;gap:6px;padding:5px 14px;border-radius:50px;font-size:12px;font-weight:900;border:2px solid;margin-bottom:10px;background:var(--l4-bg);color:var(--l4);border-color:var(--l4-bd);}
.learn-art-title{font-size:30px;font-weight:900;color:var(--text);line-height:1.2;margin-bottom:8px;}
.learn-art-sub{font-size:16px;font-weight:700;color:var(--muted);line-height:1.6;}

/* Cards grid */
.learn-cards{display:grid;gap:16px;margin:24px 0;}
.learn-cards.cols2{grid-template-columns:1fr 1fr;}
.learn-cards.cols3{grid-template-columns:1fr 1fr 1fr;}
.learn-card{border-radius:16px;border:2.5px solid var(--border);padding:20px;background:var(--surface);transition:box-shadow .15s,transform .15s;}
.learn-card:hover{box-shadow:0 4px 18px rgba(0,0,0,.1);transform:translateY(-2px);}
.learn-card-icon{font-size:28px;margin-bottom:10px;}
.learn-card-title{font-size:16px;font-weight:900;color:var(--text);margin-bottom:6px;}
.learn-card-body{font-size:14px;font-weight:700;color:var(--muted);line-height:1.65;}
/* Colour variants */
.learn-card.ca{border-color:var(--ca);background:var(--ca-bg);}
.learn-card.cb{border-color:var(--cb);background:var(--cb-bg);}
.learn-card.cc{border-color:var(--cc);background:var(--cc-bg);}
.learn-card.cd{border-color:var(--cd);background:var(--cd-bg);}
.learn-card.lv1{border-color:var(--l1-bd);background:var(--l1-bg);}
.learn-card.lv2{border-color:var(--l2-bd);background:var(--l2-bg);}
.learn-card.lv3{border-color:var(--l3-bd);background:var(--l3-bg);}
.learn-card.lv4{border-color:var(--l4-bd);background:var(--l4-bg);}

/* Prose */
.learn-prose{font-size:16px;font-weight:700;color:var(--text);line-height:1.8;margin-bottom:20px;}
.learn-prose strong{font-weight:900;}
.learn-h2{font-size:20px;font-weight:900;color:var(--text);margin:28px 0 12px;display:flex;align-items:center;gap:10px;}
.learn-h3{font-size:17px;font-weight:900;color:var(--text);margin:20px 0 8px;}

/* Callout boxes */
.learn-callout{border-radius:14px;padding:18px 20px;border-left:5px solid;margin:20px 0;}
.learn-callout.tip{background:#f0eaff;border-color:var(--l4);} .learn-callout.tip .lc-lbl{color:var(--l4);}
.learn-callout.warn{background:#fffbea;border-color:#f0c040;} .learn-callout.warn .lc-lbl{color:#7a5a00;}
.learn-callout.good{background:#e2f7ec;border-color:var(--l2);} .learn-callout.good .lc-lbl{color:var(--l2);}
.learn-callout.bad{background:#fde8f0;border-color:var(--l1);} .learn-callout.bad .lc-lbl{color:var(--l1);}
.lc-lbl{font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.1em;margin-bottom:6px;}
.lc-txt{font-size:15px;font-weight:700;color:var(--text);line-height:1.65;}

/* Design cycle SVG ring */
.dc-ring-wrap{display:flex;justify-content:center;margin:24px 0;}

/* ACCESSFM table */
.accessfm-table{width:100%;border-collapse:collapse;border-radius:14px;overflow:hidden;border:2.5px solid var(--border);margin:20px 0;}
.accessfm-table th,.accessfm-table td{padding:14px 18px;text-align:left;border-bottom:2px solid var(--border);font-size:15px;}
.accessfm-table th{font-size:12px;font-weight:900;text-transform:uppercase;letter-spacing:.08em;background:var(--surface2);}
.accessfm-table tr:last-child td{border-bottom:none;}
.accessfm-table tr:hover td{background:var(--bg);}
.af-letter{font-size:22px;font-weight:900;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0;}

/* Cite example box */
.cite-box{background:var(--surface2);border-radius:12px;padding:16px 18px;border:2px solid var(--border);font-size:14px;font-weight:700;color:var(--text);line-height:1.8;margin:10px 0;font-family:monospace;}
.cite-label{font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.1em;color:var(--dim);margin-bottom:6px;}

/* AI accordion */
.ai-crit{border:2.5px solid var(--border);border-radius:14px;overflow:hidden;margin-bottom:12px;}
.ai-crit-hdr{display:flex;align-items:center;gap:12px;padding:14px 18px;cursor:pointer;background:var(--surface);transition:background .15s;user-select:none;}
.ai-crit-hdr:hover{background:var(--bg);}
.ai-crit-hdr.open{background:var(--surface2);}
.ai-crit-badge{width:34px;height:34px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:900;flex-shrink:0;}
.ai-crit-name{font-size:16px;font-weight:900;color:var(--text);flex:1;}
.ai-crit-arrow{font-size:14px;color:var(--dim);transition:transform .2s;}
.ai-crit-hdr.open .ai-crit-arrow{transform:rotate(90deg);}
.ai-crit-body{display:none;padding:0 18px 18px;}
.ai-crit-hdr.open + .ai-crit-body{display:block;}
.ai-strand{border-radius:12px;padding:14px 16px;margin-top:12px;border:2px solid;}
.ai-strand-title{font-size:14px;font-weight:900;margin-bottom:10px;}
.ai-do{border-radius:8px;padding:10px 13px;margin:6px 0;font-size:14px;font-weight:700;line-height:1.6;}
.ai-do.yes{background:#e2f7ec;border-left:4px solid var(--l2);color:var(--text);}
.ai-do.no{background:#fde8f0;border-left:4px solid var(--l1);color:var(--text);}
.ai-prompt-box{background:#f0eaff;border-radius:10px;padding:12px 14px;border:2px solid var(--l4-bd);margin-top:10px;}
.ai-prompt-lbl{font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.1em;color:var(--l4);margin-bottom:5px;}
.ai-prompt{font-size:14px;font-weight:700;color:#2a0060;line-height:1.6;font-style:italic;}

/* Design principles list */
.dp-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin:20px 0;}
.dp-card{border-radius:14px;padding:18px;border:2.5px solid var(--border);background:var(--surface);}
.dp-num{font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.1em;color:var(--dim);margin-bottom:4px;}
.dp-name{font-size:17px;font-weight:900;color:var(--text);margin-bottom:6px;}
.dp-body{font-size:14px;font-weight:700;color:var(--muted);line-height:1.6;}
.dp-example{font-size:13px;font-weight:700;font-style:italic;color:var(--text);background:var(--bg);border-radius:8px;padding:8px 12px;margin-top:8px;}

@media(max-width:860px){
  .learn-layout{flex-direction:column;}
  .learn-nav{position:static;height:auto;width:100%;min-width:0;border-right:none;border-bottom:3px solid var(--border);}
  .learn-content{padding:20px;overflow-y:visible;}
  .learn-cards.cols2,.learn-cards.cols3,.dp-grid{grid-template-columns:1fr;}
  .mode-bar{padding:0 16px;}
}

</style>
</head>
<body>

<div class="tip" id="tip">
  <div class="tip-head" id="tipHead">
    <div class="tip-word" id="tipWord"></div>
    <div class="tip-lvl" id="tipLvl"></div>
  </div>
  <div class="tip-body">
    <div class="tip-simple" id="tipSimple"></div>
    <div class="tip-ex-label">Example at this level:</div>
    <div class="tip-ex" id="tipEx"></div>
  </div>
</div>


<!-- Checklist modal -->
<div class="modal-bg" id="clBg">
  <div class="modal cl-modal">
    <div class="modal-hdr">
      <div>
        <div class="modal-title">&#9989; Success Criteria Checklist</div>
        <div class="modal-sub" id="clModalSub">Set your goal and choose your game!</div>
      </div>
      <button class="close-x" id="clClose">X</button>
    </div>
    <div class="modal-body">

      <!-- Step 1: Choose criterion -->
      <div class="cl-step active" id="clStep1">
        <div class="cl-step-hdr">
          <div class="cl-step-num">Step 1 of 5</div>
          <div class="cl-step-title">Which Criterion are you working on?</div>
          <div class="cl-step-sub">Pick the one your teacher has assigned.</div>
        </div>
        <div class="cl-choices cols2" id="clCritChoices">
          <div class="cl-choice" data-val="A"><div class="cl-choice-icon">&#128269;</div><div class="cl-choice-name">Criterion A</div><div class="cl-choice-sub">Inquiring &amp; Analyzing</div></div>
          <div class="cl-choice" data-val="B"><div class="cl-choice-icon">&#128161;</div><div class="cl-choice-name">Criterion B</div><div class="cl-choice-sub">Developing Ideas</div></div>
          <div class="cl-choice" data-val="C"><div class="cl-choice-icon">&#128736;</div><div class="cl-choice-name">Criterion C</div><div class="cl-choice-sub">Creating the Solution</div></div>
          <div class="cl-choice" data-val="D"><div class="cl-choice-icon">&#128203;</div><div class="cl-choice-name">Criterion D</div><div class="cl-choice-sub">Evaluating</div></div>
        </div>
        <div class="cl-nav">
          <div></div>
          <div class="cl-dots"><div class="cl-dot on"></div><div class="cl-dot"></div><div class="cl-dot"></div><div class="cl-dot"></div><div class="cl-dot"></div></div>
          <button class="cl-nav-next" id="clNext1" disabled onclick="clGoStep(2)">Next &#8594;</button>
        </div>
      </div>

      <!-- Step 2: Choose strand -->
      <div class="cl-step" id="clStep2">
        <div class="cl-step-hdr">
          <div class="cl-step-num">Step 2 of 5</div>
          <div class="cl-step-title">Which Strand are you focusing on?</div>
          <div class="cl-step-sub">Pick the specific skill area for this task.</div>
        </div>
        <div class="cl-choices" id="clStrandChoices" style="grid-template-columns:1fr 1fr;"></div>
        <div class="cl-nav">
          <button class="cl-nav-back" onclick="clGoStep(1)">&#8592; Back</button>
          <div class="cl-dots"><div class="cl-dot"></div><div class="cl-dot on"></div><div class="cl-dot"></div><div class="cl-dot"></div><div class="cl-dot"></div></div>
          <button class="cl-nav-next" id="clNext2" disabled onclick="clGoStep(3)">Next &#8594;</button>
        </div>
      </div>

      <!-- Step 3: Choose level + grade -->
      <div class="cl-step" id="clStep3">
        <div class="cl-step-hdr">
          <div class="cl-step-num">Step 3 of 5</div>
          <div class="cl-step-title">What level are you aiming for?</div>
          <div class="cl-step-sub">Challenge yourself! Higher levels need more depth and evidence.</div>
        </div>
        <div class="cl-choices cols4" id="clLvlChoices">
          <div class="cl-choice" data-val="1" data-lv="1"><div class="cl-choice-icon">&#128543;</div><div class="cl-choice-name">1-2</div><div class="cl-choice-sub">Not Yet There</div></div>
          <div class="cl-choice" data-val="2" data-lv="2"><div class="cl-choice-icon">&#128077;</div><div class="cl-choice-name">3-4</div><div class="cl-choice-sub">Meeting</div></div>
          <div class="cl-choice" data-val="3" data-lv="3"><div class="cl-choice-icon">&#128640;</div><div class="cl-choice-name">5-6</div><div class="cl-choice-sub">Exceeding</div></div>
          <div class="cl-choice" data-val="4" data-lv="4"><div class="cl-choice-icon">&#127942;</div><div class="cl-choice-name">7-8</div><div class="cl-choice-sub">Excelling</div></div>
        </div>
        <div style="margin-top:18px;display:grid;grid-template-columns:1fr 1fr;gap:14px;">
          <div>
            <div class="prog-sel-label" style="margin-bottom:8px;">Your grade level:</div>
            <select class="prog-sel" id="clGrade">
              <option value="MYP1">MYP 1 - Grade 6</option>
              <option value="MYP3">MYP 3 - Grades 7 and 8</option>
              <option value="MYP5" selected>MYP 5 - Grades 9 and 10</option>
            </select>
          </div>
          <div>
            <div class="prog-sel-label" style="margin-bottom:8px;">Your unit:</div>
            <select class="prog-sel" id="clUnit">
              <option value="">Select your unit...</option>
              <option value="MYP1-PD-desk-organizer">MYP 1 - Desk Organizers (Product)</option>
              <option value="MYP1-DD-scratch">MYP 1 - Educational Games with Scratch (Digital)</option>
              <option value="MYP3-PD-clock">MYP 3 - Upcycled Clock (Product)</option>
              <option value="MYP3-DD-home">MYP 3 - Calamity-Proof Sustainable Homes (Digital)</option>
              <option value="MYP3-PD-f1">MYP 3 - F1 Car Designs using Onshape (Product)</option>
              <option value="MYP3-DD-capcut">MYP 3 - Content Creation with CapCut (Digital)</option>
              <option value="MYP5-PD-device-station">MYP 5 - Device Station (Product)</option>
              <option value="MYP5-DD-endstar">MYP 5 - Advanced Game Dev with Endstar (Digital)</option>
              <option value="MYP5-PD-assistive">MYP 5 - Assistive Device for the Elderly (Product)</option>
              <option value="MYP5-DD-python">MYP 5 - App Development with Python (Digital)</option>
              <option value="SDGs">Designing for a Better Future (SDGs)</option>
            </select>
          </div>
        </div>
        <div class="cl-nav">
          <button class="cl-nav-back" onclick="clGoStep(2)">&#8592; Back</button>
          <div class="cl-dots"><div class="cl-dot"></div><div class="cl-dot"></div><div class="cl-dot on"></div><div class="cl-dot"></div><div class="cl-dot"></div></div>
          <button class="cl-nav-next" id="clNext3" disabled onclick="clGoStep(4)">Next &#8594;</button>
        </div>
      </div>

      <!-- Step 4: Choose game -->
      <div class="cl-step" id="clStep4">
        <div class="cl-step-hdr">
          <div class="cl-step-num">Step 4 of 5</div>
          <div class="cl-step-title">Pick your reward game!</div>
          <div class="cl-step-sub">Every time you tick a task, your game will progress!</div>
        </div>
        <div class="cl-choices" style="grid-template-columns:1fr 1fr 1fr;" id="clGameChoices">
          <div class="cl-choice" data-val="plant"><div class="cl-choice-icon">&#127807;</div><div class="cl-choice-name">Grow a Plant</div><div class="cl-choice-sub">Tick tasks to grow from seed to flower!</div></div>
          <div class="cl-choice" data-val="f1"><div class="cl-choice-icon">&#127947;</div><div class="cl-choice-name">F1 Race</div><div class="cl-choice-sub">Tick tasks to speed your car to the finish!</div></div>
          <div class="cl-choice" data-val="animal"><div class="cl-choice-icon">&#128062;</div><div class="cl-choice-name">Rescue Animal</div><div class="cl-choice-sub">Tick tasks to nurse an animal back to health!</div></div>
        </div>
        <div class="cl-nav">
          <button class="cl-nav-back" onclick="clGoStep(3)">&#8592; Back</button>
          <div class="cl-dots"><div class="cl-dot"></div><div class="cl-dot"></div><div class="cl-dot"></div><div class="cl-dot on"></div><div class="cl-dot"></div></div>
          <button class="cl-nav-next" id="clNext4" disabled onclick="clGenerate()">Generate my Checklist! &#127775;</button>
        </div>
      </div>

      <!-- Step 5: The actual checklist -->
      <div class="cl-step" id="clStep5">
        <div class="cl-output" id="clOutput"></div>
        <div id="clProgressCheckResult" style="display:none;margin:16px 0;padding:18px 22px;border-radius:14px;border:2.5px solid var(--l4-bd);background:var(--l4-bg);font-size:16px;font-weight:800;color:var(--l4);line-height:1.6;"></div>
        <div style="display:flex;justify-content:space-between;align-items:center;padding-top:20px;border-top:2px solid var(--border);margin-top:8px;">
          <button class="cl-reset" onclick="clGoStep(1)">&#8592; Start Over</button>
          <button class="cl-nav-next" onclick="clProgressCheck()" style="background:var(--l4);">&#128200; Progress Check</button>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- Compare modal -->
<div class="modal-bg" id="cmpBg">
  <div class="modal">
    <div class="modal-hdr">
      <div>
        <div class="modal-title">Compare Command Terms</div>
        <div class="modal-sub">Pick two words and see exactly how they are different!</div>
      </div>
      <button class="close-x" id="cmpClose">X</button>
    </div>
    <div class="modal-body">
      <div class="sel-row">
        <select class="tsel" id="sel1"></select>
        <div class="vs">VS</div>
        <select class="tsel" id="sel2"></select>
      </div>
      <div class="cmp-result" id="cmpResult"></div>
    </div>
  </div>
</div>

<!-- Progression modal -->
<div class="modal-bg" id="progBg">
  <div class="modal prog-modal">
    <div class="modal-hdr">
      <div>
        <div class="modal-title">Design Progression</div>
        <div class="modal-sub">Watch how the expectation grows from Level 1-2 all the way to 7-8.</div>
      </div>
      <button class="close-x" id="progClose">X</button>
    </div>
    <div class="modal-body">
      <div class="prog-selectors">
        <div class="prog-sel-wrap">
          <div class="prog-sel-label">Criterion</div>
          <select class="prog-sel" id="progCrit"></select>
        </div>
        <div class="prog-sel-wrap">
          <div class="prog-sel-label">Strand</div>
          <select class="prog-sel" id="progStrand"></select>
        </div>
        <div class="prog-sel-wrap">
          <div class="prog-sel-label">Grade Level</div>
          <select class="prog-sel" id="progGrade">
            <option value="MYP1">MYP 1 - Grade 6</option>
            <option value="MYP3">MYP 3 - Grades 7 and 8</option>
            <option value="MYP5" selected>MYP 5 - Grades 9 and 10</option>
          </select>
        </div>
        <div class="prog-sel-wrap">
          <div class="prog-sel-label">Unit (optional)</div>
          <select class="prog-sel" id="progUnit">
            <option value="">All units (generic examples)</option>
            <option value="MYP1-PD-desk-organizer">MYP 1 - Desk Organizers</option>
            <option value="MYP1-DD-scratch">MYP 1 - Scratch Games</option>
            <option value="MYP3-PD-clock">MYP 3 - Upcycled Clock</option>
            <option value="MYP3-DD-home">MYP 3 - Sustainable Homes</option>
            <option value="MYP3-PD-f1">MYP 3 - F1 Car Design</option>
            <option value="MYP3-DD-capcut">MYP 3 - Content Creation</option>
            <option value="MYP5-PD-device-station">MYP 5 - Device Station</option>
            <option value="MYP5-DD-endstar">MYP 5 - Endstar Game Dev</option>
            <option value="MYP5-PD-assistive">MYP 5 - Assistive Device</option>
            <option value="MYP5-DD-python">MYP 5 - Python App</option>
            <option value="SDGs">SDGs - Better Future</option>
          </select>
        </div>
      </div>
      <div id="progTrack"></div>
    </div>
  </div>
</div>

<header>
  <div class="hdr-left">
    <div class="hdr-icon">&#128208;</div>
    <div>
      <div class="hdr-title">MYP Design Explorer</div>
      <div class="hdr-sub">MYP Design Explorer is your ultimate companion for mastering the IB MYP Design Cycle.</div>
    </div>
  </div>
  <div class="hdr-btns">
    <button class="check-btn" id="check-btn-hdr">&#9989; Success Criteria Checklist</button>
    <button class="prog-btn" id="progBtn">&#128200; Design Progression</button>
    <button class="diff-btn" id="diffBtn">&#128260; Compare Command Terms</button>
  </div>
</header>

<!-- Mode bar -->
<div class="mode-bar">
  <button class="mode-tab on" id="modeRubric">&#128209; Rubric Explorer</button>
  <button class="mode-tab" id="modeLearn">&#127979; Learn Design</button>
</div>

<!-- RUBRIC PANEL -->
<div class="panel-flex on" id="panelRubric" style="flex-direction:row;">
<div class="layout" style="width:100%;flex:1;overflow:hidden;">
  <aside class="sidebar">
    <div>
      <div class="flabel">Criterion</div>
      <button class="crit-btn on" data-c="A"><span class="cswatch"></span><div><div class="clabel">Criterion A</div><div class="csub">Inquiring &amp; Analyzing</div></div></button>
      <button class="crit-btn" data-c="B"><span class="cswatch"></span><div><div class="clabel">Criterion B</div><div class="csub">Developing Ideas</div></div></button>
      <button class="crit-btn" data-c="C"><span class="cswatch"></span><div><div class="clabel">Criterion C</div><div class="csub">Creating the Solution</div></div></button>
      <button class="crit-btn" data-c="D"><span class="cswatch"></span><div><div class="clabel">Criterion D</div><div class="csub">Evaluating</div></div></button>
    </div>
    <div><div class="flabel">Strand</div><div id="strandBtns"></div></div>
    <div>
      <div class="flabel">Grade Level</div>
      <button class="grade-btn on" data-g="MYP1"><span class="tbox">v</span>MYP 1 - Grade 6</button>
      <button class="grade-btn on" data-g="MYP3"><span class="tbox">v</span>MYP 3 - Grades 7 and 8</button>
      <button class="grade-btn on" data-g="MYP5"><span class="tbox">v</span>MYP 5 - Grades 9 and 10</button>
    </div>
    <div>
      <div class="flabel">Success Criteria</div>
      <div class="lvl-pills">
        <button class="lvl-pill on" data-lv="1">1-2 Not Yet There</button>
        <button class="lvl-pill on" data-lv="2">3-4 Meeting</button>
        <button class="lvl-pill on" data-lv="3">5-6 Exceeding</button>
        <button class="lvl-pill on" data-lv="4">7-8 Excelling</button>
      </div>
    </div>
    <div>
      <div class="flabel">View</div>
      <div style="padding:9px 13px;border-radius:10px;border:2px solid var(--border);background:var(--surface2);font-size:14px;font-weight:900;color:var(--text);text-align:center;">&#128203; Table View</div>
    </div>
  </aside>
  <main class="main" id="mainArea"></main>
</div>
</div><!-- /panelRubric -->

<!-- LEARN DESIGN PANEL -->
<div class="panel on" id="panelLearn" style="display:none;flex:1;overflow:hidden;">
<div class="learn-layout">

  <!-- LEFT NAV -->
  <nav class="learn-nav">
    <div class="learn-nav-section">Foundations</div>
    <button class="learn-nav-btn on" data-sec="design-cycle"><span class="learn-nav-icon">&#9851;</span>The Design Cycle</button>
    <button class="learn-nav-btn" data-sec="design-principles"><span class="learn-nav-icon">&#127775;</span>Design Principles</button>
    <button class="learn-nav-btn" data-sec="accessfm"><span class="learn-nav-icon">&#128269;</span>ACCESS FM</button>
    <button class="learn-nav-btn" data-sec="product-analysis"><span class="learn-nav-icon">&#128301;</span>Product Analysis Methods</button>
    <div class="learn-nav-section">Research Skills</div>
    <button class="learn-nav-btn" data-sec="primary-secondary"><span class="learn-nav-icon">&#128202;</span>Primary vs Secondary Research</button>
    <button class="learn-nav-btn" data-sec="citing"><span class="learn-nav-icon">&#128218;</span>How to Cite Sources</button>
    <button class="learn-nav-btn" data-sec="specifications"><span class="learn-nav-icon">&#9989;</span>Writing Specifications</button>
    <div class="learn-nav-section">Design Skills</div>
    <button class="learn-nav-btn" data-sec="drawing"><span class="learn-nav-icon">&#9999;</span>Design Drawing Types</button>
    <button class="learn-nav-btn" data-sec="materials"><span class="learn-nav-icon">&#129520;</span>Materials & Properties</button>
    <button class="learn-nav-btn" data-sec="testing"><span class="learn-nav-icon">&#128300;</span>Product Testing Methods</button>
    <div class="learn-nav-section">Using AI Wisely</div>
    <button class="learn-nav-btn" data-sec="ai-integrity"><span class="learn-nav-icon">&#129302;</span>AI & Academic Integrity</button>
    <button class="learn-nav-btn" data-sec="ai-criteria"><span class="learn-nav-icon">&#127919;</span>AI for Each Criterion</button>
  </nav>

  <!-- CONTENT AREA -->
  <div class="learn-content">

    <!-- ══ DESIGN CYCLE ══ -->
    <div class="learn-section on" id="sec-design-cycle">
      <div class="learn-art-hdr">
        <div class="learn-art-badge">&#9851; Foundations</div>
        <div class="learn-art-title">The MYP Design Cycle</div>
        <div class="learn-art-sub">The Design Cycle is the four-step process every MYP Design student follows to solve real problems  -  it is not just a sequence, it is a way of thinking.</div>
      </div>

      <!-- SVG cycle diagram -->
      <div class="dc-ring-wrap">
        <svg viewBox="0 0 420 300" width="420" height="300" font-family="Nunito,sans-serif">
          <!-- Central circle -->
          <circle cx="210" cy="150" r="48" fill="#f0eaff" stroke="#b898f2" stroke-width="3"/>
          <text x="210" y="144" text-anchor="middle" font-size="13" font-weight="900" fill="#4a18a8">Design</text>
          <text x="210" y="160" text-anchor="middle" font-size="13" font-weight="900" fill="#4a18a8">Cycle</text>

          <!-- A - Inquiring (top) -->
          <circle cx="210" cy="46" r="42" fill="#e4f5fb" stroke="#29a8d4" stroke-width="3"/>
          <text x="210" y="40" text-anchor="middle" font-size="13" font-weight="900" fill="#0e5878">Criterion A</text>
          <text x="210" y="56" text-anchor="middle" font-size="11" font-weight="800" fill="#29a8d4">Inquiring &amp;</text>
          <text x="210" y="68" text-anchor="middle" font-size="11" font-weight="800" fill="#29a8d4">Analyzing</text>

          <!-- B - Developing (right) -->
          <circle cx="366" cy="150" r="42" fill="#fef3c7" stroke="#d49800" stroke-width="3"/>
          <text x="366" y="144" text-anchor="middle" font-size="13" font-weight="900" fill="#7a5000">Criterion B</text>
          <text x="366" y="160" text-anchor="middle" font-size="11" font-weight="800" fill="#d49800">Developing</text>
          <text x="366" y="172" text-anchor="middle" font-size="11" font-weight="800" fill="#d49800">Ideas</text>

          <!-- C - Creating (bottom) -->
          <circle cx="210" cy="254" r="42" fill="#e2f7ec" stroke="#28a85e" stroke-width="3"/>
          <text x="210" y="248" text-anchor="middle" font-size="13" font-weight="900" fill="#146832">Criterion C</text>
          <text x="210" y="264" text-anchor="middle" font-size="11" font-weight="800" fill="#28a85e">Creating the</text>
          <text x="210" y="276" text-anchor="middle" font-size="11" font-weight="800" fill="#28a85e">Solution</text>

          <!-- D - Evaluating (left) -->
          <circle cx="54" cy="150" r="42" fill="#fdeaea" stroke="#e03c3c" stroke-width="3"/>
          <text x="54" y="144" text-anchor="middle" font-size="13" font-weight="900" fill="#7a1010">Criterion D</text>
          <text x="54" y="160" text-anchor="middle" font-size="11" font-weight="800" fill="#e03c3c">Evaluating</text>

          <!-- Arrows between them (curved arcs) -->
          <defs>
            <marker id="arr" markerWidth="8" markerHeight="8" refX="4" refY="4" orient="auto">
              <path d="M0,0 L8,4 L0,8 Z" fill="#999"/>
            </marker>
          </defs>
          <!-- A→B -->
          <path d="M248,74 Q310,74 326,110" fill="none" stroke="#bbb" stroke-width="2.5" marker-end="url(#arr)"/>
          <!-- B→C -->
          <path d="M340,188 Q340,240 256,252" fill="none" stroke="#bbb" stroke-width="2.5" marker-end="url(#arr)"/>
          <!-- C→D -->
          <path d="M170,268 Q110,268 82,210" fill="none" stroke="#bbb" stroke-width="2.5" marker-end="url(#arr)"/>
          <!-- D→A -->
          <path d="M76,110 Q100,58 170,56" fill="none" stroke="#bbb" stroke-width="2.5" marker-end="url(#arr)"/>
        </svg>
      </div>

      <div class="learn-cards cols2">
        <div class="learn-card ca">
          <div class="learn-card-icon">&#128269;</div>
          <div class="learn-card-title">Criterion A  -  Inquiring &amp; Analyzing</div>
          <div class="learn-card-body">You research the problem deeply. Who has the problem? Why does it exist? What already exists that tries to solve it? You build a design brief that justifies why your solution is needed.</div>
        </div>
        <div class="learn-card cb">
          <div class="learn-card-icon">&#128161;</div>
          <div class="learn-card-title">Criterion B  -  Developing Ideas</div>
          <div class="learn-card-body">You create a detailed specification of what your solution must do, then design multiple possible solutions. You choose the best one and justify why  -  always referring back to your specification.</div>
        </div>
        <div class="learn-card cc">
          <div class="learn-card-icon">&#128736;</div>
          <div class="learn-card-title">Criterion C  -  Creating the Solution</div>
          <div class="learn-card-body">You plan your making process, then build your solution using the correct techniques. You document changes you make along the way and why you made them.</div>
        </div>
        <div class="learn-card cd">
          <div class="learn-card-icon">&#128203;</div>
          <div class="learn-card-title">Criterion D  -  Evaluating</div>
          <div class="learn-card-body">You test your finished solution against your specification using real data. You evaluate honestly  -  both successes and failures  -  and explain how it could be improved and what impact it has.</div>
        </div>
      </div>

      <div class="learn-callout tip">
        <div class="lc-lbl">&#128161; Key Idea</div>
        <div class="lc-txt">The cycle does <strong>not</strong> have to go in a straight line. Real designers go backwards  -  you might discover during <strong>making</strong> that your <strong>specification</strong> needs updating, or during <strong>testing</strong> that you need to <strong>redesign</strong> part of your solution. That's not failure  -  that's good design thinking!</div>
      </div>
    </div>

    <!-- ══ DESIGN PRINCIPLES ══ -->
    <div class="learn-section" id="sec-design-principles">
      <div class="learn-art-hdr">
        <div class="learn-art-badge">&#127775; Foundations</div>
        <div class="learn-art-title">Design Principles</div>
        <div class="learn-art-sub">Great design isn't accidental. These core principles guide designers to create products that are not only beautiful but functional, sustainable, and user-centred.</div>
      </div>

      <div class="dp-grid">
        <div class="dp-card"><div class="dp-num">Principle 01</div><div class="dp-name">&#129505; Form follows Function</div><div class="dp-body">A product's shape should be driven by what it needs to DO, not just how it looks. Beauty comes from a design that works perfectly.</div><div class="dp-example">A hammer has a heavy metal head and a long grip  -  not because it looks good, but because that shape delivers the most force.</div></div>
        <div class="dp-card"><div class="dp-num">Principle 02</div><div class="dp-name">&#128106; User-Centred Design</div><div class="dp-body">Design for the real human who will use it. Understand their needs, abilities, and limitations before deciding what your product looks or works like.</div><div class="dp-example">A water bottle designed for elderly users has a wider grip and a no-squeeze lid because small hands and reduced strength were considered first.</div></div>
        <div class="dp-card"><div class="dp-num">Principle 03</div><div class="dp-name">&#9854; Ergonomics</div><div class="dp-body">Products must fit the human body comfortably and safely. Ergonomics considers size, reach, strength, and comfort so people can use products without injury or strain.</div><div class="dp-example">A keyboard with a slight upward curve reduces wrist strain  -  designed around how human wrists naturally rest.</div></div>
        <div class="dp-card"><div class="dp-num">Principle 04</div><div class="dp-name">&#9855; Universal Design</div><div class="dp-body">Design so that as many people as possible can use it  -  regardless of age, ability, or disability. Good universal design benefits everyone, not just those with special needs.</div><div class="dp-example">Kerb cuts in pavements were designed for wheelchair users but are used constantly by cyclists, parents with prams, and delivery workers.</div></div>
        <div class="dp-card"><div class="dp-num">Principle 05</div><div class="dp-name">&#127807; Sustainability</div><div class="dp-body">Design with the full lifecycle in mind: where do the materials come from? How much energy does making it use? What happens when it breaks or is no longer needed?</div><div class="dp-example">A modular product where only broken parts are replaced instead of the whole product reduces waste dramatically.</div></div>
        <div class="dp-card"><div class="dp-num">Principle 06</div><div class="dp-name">&#128396; Less is More (Minimalism)</div><div class="dp-body">Remove everything that isn't necessary. Simpler products are usually easier to use, cheaper to make, and more reliable. Every feature should earn its place.</div><div class="dp-example">The original iPod had one button and a scroll wheel  -  most music players at the time had 30+ buttons. Apple's simplicity won.</div></div>
        <div class="dp-card"><div class="dp-num">Principle 07</div><div class="dp-name">&#9993; Clear Communication</div><div class="dp-body">A product should communicate how it works without instructions. Buttons should look pressable, handles should invite gripping, and colours should signal function.</div><div class="dp-example">A red button on a machine signals danger/stop. A green button signals start/safe. This is colour language that users already know.</div></div>
        <div class="dp-card"><div class="dp-num">Principle 08</div><div class="dp-name">&#128504; Iteration</div><div class="dp-body">No design is perfect on the first try. Great designers prototype, test, get feedback, and improve  -  repeatedly. Each version is better than the last.</div><div class="dp-example">Dyson built over 5,000 prototypes of his vacuum cleaner before reaching the final version that worked perfectly.</div></div>
      </div>

      <div class="learn-callout good">
        <div class="lc-lbl">&#9989; Apply This in Your Assessment</div>
        <div class="lc-txt">When you analyse existing products in <strong>Criterion A</strong> or justify your design choices in <strong>Criterion B</strong>, use these principles by name. Saying "this product demonstrates good ergonomics because..." shows much deeper thinking than just "it looks comfortable."</div>
      </div>
    </div>

    <!-- ══ ACCESS FM ══ -->
    <div class="learn-section" id="sec-accessfm">
      <div class="learn-art-hdr">
        <div class="learn-art-badge">&#128269; Foundations</div>
        <div class="learn-art-title">ACCESS FM</div>
        <div class="learn-art-sub">ACCESS FM is a framework for analysing existing products. It gives you a structured way to evaluate ANY product from multiple angles - and is especially powerful in Criterion A Strand 3.</div>
      </div>
      <div class="learn-callout tip">
        <div class="lc-lbl">&#128161; What is ACCESS FM?</div>
        <div class="lc-txt">ACCESS FM stands for <strong>Aesthetics, Cost, Customer, Environment, Safety, Size, Function, and Materials</strong>. Using all 8 headings ensures you analyse a product deeply - not just its appearance or its purpose, but all the factors that make it succeed or fail.</div>
      </div>
      <table class="accessfm-table">
        <thead><tr><th>Letter</th><th>Stands for</th><th>What to consider</th><th>Example question</th></tr></thead>
        <tbody>
          <tr><td><span class="af-letter" style="background:#e91e63">A</span></td><td><strong>Aesthetics</strong></td><td>How it looks, sounds, smells, feels. Colour, texture, finish, shape, style.</td><td>Does the colour choice attract the target audience? Does the shape feel premium?</td></tr>
          <tr><td><span class="af-letter" style="background:#9c27b0">C</span></td><td><strong>Cost</strong></td><td>Purchase price, manufacturing cost, running costs, value for money.</td><td>Is it affordable for the target audience? Is it worth what it costs?</td></tr>
          <tr><td><span class="af-letter" style="background:#2196f3">C</span></td><td><strong>Customer</strong></td><td>Who is it designed for? Age, gender, lifestyle, ability, income.</td><td>Does the design suit the actual person who will use it?</td></tr>
          <tr><td><span class="af-letter" style="background:#4caf50">E</span></td><td><strong>Environment</strong></td><td>Sustainability, recyclability, impact during manufacture and disposal, carbon footprint.</td><td>Where do the materials come from? Can it be recycled at end of life?</td></tr>
          <tr><td><span class="af-letter" style="background:#ff5722">S</span></td><td><strong>Safety</strong></td><td>Risk of injury in use, safety standards met, age-appropriate safety features.</td><td>Are there sharp edges? Does it meet safety regulations for this age group?</td></tr>
          <tr><td><span class="af-letter" style="background:#607d8b">S</span></td><td><strong>Size</strong></td><td>Dimensions, weight, portability, ergonomic fit for the user.</td><td>Is it the right size for the target user's hands? Does it fit in a school bag?</td></tr>
          <tr><td><span class="af-letter" style="background:#ff9800">F</span></td><td><strong>Function</strong></td><td>What it does, how well it works, reliability, ease of use.</td><td>Does it do what it claims? Is it easy to use without instructions?</td></tr>
          <tr><td><span class="af-letter" style="background:#795548">M</span></td><td><strong>Materials</strong></td><td>What it is made from, properties of those materials, why those materials were chosen.</td><td>Why was plastic used instead of metal? Is the material appropriate for its purpose?</td></tr>
        </tbody>
      </table>
      <div class="learn-callout good">
        <div class="lc-lbl">&#128203; How to Use ACCESS FM in an Assessment</div>
        <div class="lc-txt">Don't just list facts. For each letter, <strong>evaluate</strong>: say what you found AND what that means for your own design. Example: "The existing product uses ABS plastic (Materials) - this is lightweight and mouldable, which suits a portable product. However it is not recyclable, which is a weakness I will address by using recycled HDPE in my design." That is analysis, not just description.</div>
      </div>

      <div class="learn-h2">&#128300; Using ACCESS FM to Write Survey Questions</div>
      <div class="learn-prose">ACCESS FM is not just for analysing existing products. You can use each category to design powerful survey questions that justify your chosen design. Here is how each category can become a survey question to validate your design decisions:</div>
      <table class="accessfm-table">
        <thead><tr><th>Category</th><th>Survey Question Example</th><th>How it justifies your design</th></tr></thead>
        <tbody>
          <tr><td><strong>Aesthetics</strong></td><td>"Which colour option would you prefer for this product: natural wood finish, white, or black?" (circle one)</td><td>Proves your colour/style choices are based on user preference, not guesswork.</td></tr>
          <tr><td><strong>Cost</strong></td><td>"What is the maximum you would pay for this product? Under $10 / $10-20 / $20-30 / Over $30"</td><td>Justifies your material budget and price point in your specification.</td></tr>
          <tr><td><strong>Customer</strong></td><td>"How often do you experience [the problem]? Daily / A few times a week / Rarely / Never"</td><td>Proves who needs the product and how urgently they need it.</td></tr>
          <tr><td><strong>Environment</strong></td><td>"How important is it that this product uses sustainable/recycled materials? Rate 1 (not important) to 5 (very important)"</td><td>Justifies sustainability decisions in your material specification.</td></tr>
          <tr><td><strong>Safety</strong></td><td>"Do you have any concerns about safety when using [similar products]? If yes, describe:"</td><td>Provides evidence for safety-related specification criteria.</td></tr>
          <tr><td><strong>Size</strong></td><td>"Where would you primarily store/use this product? On a desk / In a bag / On a shelf / Other"</td><td>Justifies your dimension and portability specification criteria.</td></tr>
          <tr><td><strong>Function</strong></td><td>"Which features are most important to you? Rank 1-5: [list features]"</td><td>Directly justifies which functions you include in your specification.</td></tr>
          <tr><td><strong>Materials</strong></td><td>"What material quality do you prefer: lightweight plastic / solid wood / metal / recycled cardboard?"</td><td>Justifies your material choices with user-validated evidence.</td></tr>
        </tbody>
      </table>

      <div class="learn-h2">&#127919; ACCESS FM by Unit</div>
      <div class="learn-prose">Here are examples of how to apply ACCESS FM analysis for each unit:</div>

      <div class="learn-cards cols2">
        <div class="learn-card ca">
          <div class="learn-card-icon">&#128196;</div>
          <div class="learn-card-title">Desk Organizer (MYP 1 Product)</div>
          <div class="learn-card-body"><strong>Aesthetics:</strong> Does the colour match a student's desk environment?<br><strong>Cost:</strong> Can it be made from materials under $5?<br><strong>Customer:</strong> Designed for Grade 6 students aged 11-12.<br><strong>Function:</strong> Can it hold pens, rulers, and a tablet?<br><strong>Size:</strong> Fits on a standard school desk (max 30cm wide).<br><strong>Materials:</strong> Cardboard, wood, or recycled plastic?</div>
        </div>
        <div class="learn-card cb">
          <div class="learn-card-icon">&#128187;</div>
          <div class="learn-card-title">Scratch Game (MYP 1 Digital)</div>
          <div class="learn-card-body"><strong>Aesthetics:</strong> Are the sprites visually engaging and appropriate for your target audience?<br><strong>Customer:</strong> Who is your game designed for? Consider age range, interests, and ability level - your audience could be younger students, peers, or even adults.<br><strong>Function:</strong> Does the game teach the intended concept effectively?<br><strong>Safety:</strong> Is the content age-appropriate and free from disturbing elements?<br><strong>Cost:</strong> Free to develop and free to play - key advantage to highlight.</div>
        </div>
        <div class="learn-card cc">
          <div class="learn-card-icon">&#9200;</div>
          <div class="learn-card-title">Upcycled Clock (MYP 3 Product)</div>
          <div class="learn-card-body"><strong>Materials:</strong> What waste materials are being repurposed (vinyl, tin, wood)?<br><strong>Environment:</strong> Does using salvaged materials reduce waste vs buying new?<br><strong>Function:</strong> Does the clock mechanism keep accurate time?<br><strong>Aesthetics:</strong> Does the upcycled material create an interesting visual?<br><strong>Safety:</strong> Are there sharp edges from cutting or drilling?</div>
        </div>
        <div class="learn-card cd">
          <div class="learn-card-icon">&#127968;</div>
          <div class="learn-card-title">Sustainable Home (MYP 3 Digital)</div>
          <div class="learn-card-body"><strong>Environment:</strong> Does the design minimise energy use and carbon footprint?<br><strong>Safety:</strong> Are there emergency exits and disaster-resistant structural features?<br><strong>Customer:</strong> Who lives in the home - family size, accessibility needs?<br><strong>Function:</strong> Does the floor plan facilitate daily living efficiently?<br><strong>Size:</strong> Are room dimensions proportional and liveable?</div>
        </div>
        <div class="learn-card lv3">
          <div class="learn-card-icon">&#127947;</div>
          <div class="learn-card-title">F1 Car (MYP 3 Product)</div>
          <div class="learn-card-body"><strong>Aesthetics:</strong> Does the livery and body shape look like a competitive F1 car?<br><strong>Function:</strong> Is the aerodynamic shape optimised for downforce and speed?<br><strong>Materials:</strong> Does the chosen material balance weight and strength?<br><strong>Size:</strong> Does the model meet competition regulations for scale?<br><strong>Cost:</strong> Does the design fit within the materials budget?</div>
        </div>
        <div class="learn-card lv4">
          <div class="learn-card-icon">&#128247;</div>
          <div class="learn-card-title">Assistive Device (MYP 5 Product)</div>
          <div class="learn-card-body"><strong>Customer:</strong> Designed for elderly users - considers reduced grip strength and dexterity.<br><strong>Safety:</strong> No sharp edges, stable, will not tip or fall during use.<br><strong>Function:</strong> Solves the specific daily challenge identified in research.<br><strong>Ergonomics (Size):</strong> Handles, buttons, and interfaces sized for elderly hands.<br><strong>Materials:</strong> Non-toxic, washable, durable materials appropriate for daily use.</div>
        </div>
      </div>
    </div>

    <!-- ══ PRODUCT ANALYSIS METHODS ══ -->
    <div class="learn-section" id="sec-product-analysis">
      <div class="learn-art-hdr">
        <div class="learn-art-badge">&#128301; Foundations</div>
        <div class="learn-art-title">Product Analysis Methods</div>
        <div class="learn-art-sub">When analysing existing products in Criterion A Strand 3, strong students don't just describe - they evaluate using structured frameworks. Here are the key methods you should know and use.</div>
      </div>

      <div class="learn-callout tip">
        <div class="lc-lbl">&#128161; Why Use a Framework?</div>
        <div class="lc-txt">Using a named analysis method shows the examiner you are thinking systematically, not just listing observations. The goal is always to connect what you find in existing products to decisions you will make in your own design.</div>
      </div>

      <!-- ACCESS FM reminder -->
      <div class="learn-h2">&#128269; 1. ACCESS FM</div>
      <div class="learn-prose">The most important framework for MYP Design. Analyse any product under all 8 headings: <strong>Aesthetics, Cost, Customer, Environment, Safety, Size, Function, Materials</strong>. See the dedicated ACCESS FM section for full guidance and examples.</div>
      <div class="learn-callout good">
        <div class="lc-lbl">&#9989; In your assessment</div>
        <div class="lc-txt">Use ACCESS FM as your primary analysis structure. Address every letter - even if one area is not relevant, briefly explain why.</div>
      </div>

      <!-- Strengths & Weaknesses -->
      <div class="learn-h2">&#9878; 2. Strengths &amp; Weaknesses (S&amp;W)</div>
      <div class="learn-prose">One of the most straightforward product evaluation tools. You identify what the product does well (strengths) and where it falls short (weaknesses). The key is to <strong>link your findings to your own design</strong> - don't just list them.</div>
      <div class="learn-cards cols2">
        <div class="learn-card lv2">
          <div class="learn-card-icon">&#9989;</div>
          <div class="learn-card-title">Strengths</div>
          <div class="learn-card-body">What does this product do well? Consider: durability, ease of use, aesthetics, functionality, value for money, safety, sustainability.<br><br><strong>Example:</strong> "The ergonomic handle is a strength - it reduces user fatigue, which is critical for my elderly target audience. I will incorporate a similar handle shape into my design."</div>
        </div>
        <div class="learn-card lv1">
          <div class="learn-card-icon">&#10060;</div>
          <div class="learn-card-title">Weaknesses</div>
          <div class="learn-card-body">Where does this product fail or disappoint? Consider: fragility, high cost, poor usability, environmental impact, safety issues.<br><br><strong>Example:</strong> "The plastic casing cracks under moderate impact - a weakness I will address by using a thicker ABS shell in my design specification."</div>
        </div>
      </div>
      <div class="learn-callout warn">
        <div class="lc-lbl">&#9888; Common mistake</div>
        <div class="lc-txt">Listing strengths and weaknesses without connecting them to your design is worth very little at higher levels. Always add: <em>"This means my design will / will not..."</em></div>
      </div>

      <!-- PMI / PNI -->
      <div class="learn-h2">&#43; &#8722; &#9733; 3. PMI / PNI (Plus, Minus, Interesting / Positive, Negative, Inspiration)</div>
      <div class="learn-prose">Developed by Edward de Bono, <strong>PMI (Plus, Minus, Interesting)</strong> is a structured thinking tool. In design, it is often adapted as <strong>PNI (Positive, Negative, Inspiration)</strong> - the third column being the most powerful for MYP students because it asks: <em>what does this make me want to do in my own design?</em></div>
      <table class="accessfm-table">
        <thead><tr><th style="background:var(--l2-bg);color:var(--l2);">&#43; Positive / Plus</th><th style="background:var(--l1-bg);color:var(--l1);">&#8722; Negative / Minus</th><th style="background:var(--l4-bg);color:var(--l4);">&#9733; Interesting / Inspiration</th></tr></thead>
        <tbody>
          <tr>
            <td>What works well? What features add value?<br><br><em>Example: "The magnetic clasp makes it very quick to open one-handed."</em></td>
            <td>What fails or could be improved?<br><br><em>Example: "The magnetic clasp is weak and opens accidentally in a bag."</em></td>
            <td>What does this spark? What will you borrow, adapt, or do differently?<br><br><em>Example: "I will use a stronger neodymium magnet or add a secondary latch."</em></td>
          </tr>
        </tbody>
      </table>
      <div class="learn-callout tip">
        <div class="lc-lbl">&#128172; Why the Inspiration column matters</div>
        <div class="lc-txt">The Inspiration / Interesting column is what separates analysis from description. It forces you to be a designer, not just an observer. At Level 7-8, every product observation must lead to a design decision.</div>
      </div>

      <!-- Comparing multiple products -->
      <div class="learn-h2">&#128202; 4. Comparative Analysis</div>
      <div class="learn-prose">At higher MYP levels, you must analyse <strong>a range of products</strong> and compare them - not just describe them one by one. Use a comparison table to identify patterns across products.</div>
      <table class="accessfm-table">
        <thead><tr><th>Criterion</th><th>Product A</th><th>Product B</th><th>Product C</th><th>What this means for my design</th></tr></thead>
        <tbody>
          <tr><td><strong>Materials</strong></td><td>ABS plastic</td><td>Aluminium</td><td>Recycled HDPE</td><td>Recycled HDPE aligns with my sustainability specification</td></tr>
          <tr><td><strong>Cost</strong></td><td>$8</td><td>$45</td><td>$12</td><td>My target price of $15 is achievable - gap in market confirmed</td></tr>
          <tr><td><strong>Durability</strong></td><td>Low</td><td>High</td><td>Medium</td><td>I will prioritise durability over aesthetics in my material choice</td></tr>
          <tr><td><strong>Ease of use</strong></td><td>High</td><td>Low</td><td>Medium</td><td>Simplicity is a design priority - users rated ease of use #1 in my survey</td></tr>
        </tbody>
      </table>
      <div class="learn-callout good">
        <div class="lc-lbl">&#128203; How to use comparison tables</div>
        <div class="lc-txt">After the table, write a paragraph summarising the <strong>patterns and gaps</strong> you found. Which product is best overall and why? What gap in the market does your design fill? This summary is often the most important part of your Criterion A analysis.</div>
      </div>

      <!-- Combining methods -->
      <div class="learn-h2">&#9997; 5. Combining Methods for Deeper Analysis</div>
      <div class="learn-prose">The most powerful analyses combine multiple frameworks. Here is a recommended approach for each MYP level:</div>
      <div class="learn-cards cols3">
        <div class="learn-card lv1">
          <div class="learn-card-icon">&#128218;</div>
          <div class="learn-card-title">MYP 1 (Levels 1-4)</div>
          <div class="learn-card-body">Use <strong>S&amp;W</strong> or <strong>ACCESS FM</strong> on one product. State the main features and what they tell you about your own design. Keep it simple but always link back.</div>
        </div>
        <div class="learn-card lv3">
          <div class="learn-card-icon">&#128202;</div>
          <div class="learn-card-title">MYP 3 (Levels 3-6)</div>
          <div class="learn-card-body">Use <strong>ACCESS FM</strong> on 2-3 products plus a <strong>comparison table</strong>. Add a PNI column to show how each product inspires your design decisions.</div>
        </div>
        <div class="learn-card lv4">
          <div class="learn-card-icon">&#128301;</div>
          <div class="learn-card-title">MYP 5 (Levels 5-8)</div>
          <div class="learn-card-body">Use <strong>ACCESS FM + PNI + Comparative Analysis</strong> across 4-6 products. Every finding must link directly to a specification criterion. Identify the gap your design fills.</div>
        </div>
      </div>

      <div class="learn-callout bad">
        <div class="lc-lbl">&#10060; What to avoid</div>
        <div class="lc-txt"><strong>Description is not analysis.</strong> "This water bottle is blue and made of plastic" scores Level 1. "This water bottle uses BPA-free polypropylene (Materials) - this is food-safe and lightweight, making it suitable for daily use. However, it is not biodegradable, which is a weakness I will address by specifying recycled HDPE in my design (Environment)" - that is analysis.</div>
      </div>
    </div>

    <!-- ══ PRIMARY vs SECONDARY ══ -->
    <div class="learn-section" id="sec-primary-secondary">
      <div class="learn-art-hdr">
        <div class="learn-art-badge">&#128202; Research Skills</div>
        <div class="learn-art-title">Primary vs Secondary Research</div>
        <div class="learn-art-sub">Understanding the difference between primary and secondary research is essential for Criterion A. Both types have strengths and weaknesses  -  and strong students use both.</div>
      </div>
      <div class="learn-cards cols2">
        <div class="learn-card lv3">
          <div class="learn-card-icon">&#128100;</div>
          <div class="learn-card-title">Primary Research</div>
          <div class="learn-card-body">Research you collect yourself, directly from people or the real world. It is specific to your exact question and your exact client.<br><br><strong>Examples:</strong> Surveys, interviews, observations, experiments, product testing, focus groups.<br><br><strong>Strength:</strong> Directly relevant to your design problem. No one else has this data.<br><strong>Weakness:</strong> Takes time. Small sample sizes can be less reliable.</div>
        </div>
        <div class="learn-card lv2">
          <div class="learn-card-icon">&#128218;</div>
          <div class="learn-card-title">Secondary Research</div>
          <div class="learn-card-body">Research collected by someone else that you find and use. It gives you broader context, existing knowledge, and data you couldn't collect yourself.<br><br><strong>Examples:</strong> Books, websites, articles, product reviews, government reports, material data sheets.<br><br><strong>Strength:</strong> Quick to access. Often based on large datasets.<br><strong>Weakness:</strong> May not be specific to your problem. Can be outdated or biased.</div>
        </div>
      </div>
      <div class="learn-h2">&#128300; How to Write a Good Survey (Primary Research)</div>
      <div class="learn-cards cols2">
        <div class="learn-card lv4"><div class="learn-card-icon">&#9989;</div><div class="learn-card-title">Good Survey Practices</div><div class="learn-card-body">Ask closed questions that give you data (numbers). Target the right people  -  your actual client group. Aim for at least 10-15 responses. Ask about needs and priorities, not just opinions. Include a Likert scale (1-5 ratings) for measurable data.</div></div>
        <div class="learn-card lv1"><div class="learn-card-icon">&#10060;</div><div class="learn-card-title">Common Survey Mistakes</div><div class="learn-card-body">Asking leading questions: "Don't you think X is important?" Asking too many questions (respondents rush). Only surveying friends (biased sample). Not connecting findings to your design decisions. Collecting data but never analysing it.</div></div>
      </div>
    </div>

    <!-- ══ CITING ══ -->
    <div class="learn-section" id="sec-citing">
      <div class="learn-art-hdr">
        <div class="learn-art-badge">&#128218; Research Skills</div>
        <div class="learn-art-title">How to Cite Your Sources</div>
        <div class="learn-art-sub">Citing sources shows that your research is real, credible, and respectful of other people's work. It also protects you from accusations of plagiarism. Every fact or image you use from an outside source should be cited.</div>
      </div>

      <div class="learn-callout warn">
        <div class="lc-lbl">&#9888; Why Citing Matters in MYP</div>
        <div class="lc-txt">The IB takes academic integrity seriously. Presenting someone else's work or data as your own - even accidentally - is plagiarism. Citing your sources is the simplest way to protect yourself and show the examiner that your research is genuine.</div>
      </div>

      <!-- MLA Citation Generator -->
      <div class="learn-h2">&#128279; MLA Citation Generator</div>
      <div class="learn-prose">Paste a website URL below and generate a ready-to-use MLA citation for your design portfolio.</div>
      <div style="background:var(--surface);border:2.5px solid var(--border);border-radius:16px;padding:22px;margin:16px 0;">
        <div style="display:grid;grid-template-columns:1fr auto;gap:12px;margin-bottom:16px;">
          <input type="url" id="citeUrlInput" placeholder="Paste website URL here (e.g. https://www.example.com/article)" style="padding:12px 16px;border-radius:12px;border:2.5px solid var(--border);font-family:'Nunito',sans-serif;font-size:15px;font-weight:700;width:100%;background:var(--bg);color:var(--text);outline:none;" />
          <button onclick="generateMLACite()" style="padding:12px 20px;border-radius:12px;border:none;background:var(--l4);color:#fff;font-family:'Nunito',sans-serif;font-size:14px;font-weight:900;cursor:pointer;white-space:nowrap;">&#128218; Generate MLA</button>
        </div>
        <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px;margin-bottom:16px;">
          <div>
            <div style="font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.08em;color:var(--dim);margin-bottom:5px;">Author (optional)</div>
            <input type="text" id="citeAuthor" placeholder="Last, First" style="padding:10px 14px;border-radius:10px;border:2px solid var(--border);font-family:'Nunito',sans-serif;font-size:14px;font-weight:700;width:100%;background:var(--bg);color:var(--text);outline:none;" />
          </div>
          <div>
            <div style="font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.08em;color:var(--dim);margin-bottom:5px;">Article/Page Title (optional)</div>
            <input type="text" id="citeTitle" placeholder="e.g. History of Ergonomics" style="padding:10px 14px;border-radius:10px;border:2px solid var(--border);font-family:'Nunito',sans-serif;font-size:14px;font-weight:700;width:100%;background:var(--bg);color:var(--text);outline:none;" />
          </div>
          <div>
            <div style="font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.08em;color:var(--dim);margin-bottom:5px;">Year Published (optional)</div>
            <input type="text" id="citeYear" placeholder="e.g. 2023" style="padding:10px 14px;border-radius:10px;border:2px solid var(--border);font-family:'Nunito',sans-serif;font-size:14px;font-weight:700;width:100%;background:var(--bg);color:var(--text);outline:none;" />
          </div>
        </div>
        <div id="citeResult" style="display:none;"></div>
        <div id="citeSaved" style="display:none;margin-top:14px;">
          <div style="font-size:12px;font-weight:900;text-transform:uppercase;letter-spacing:.08em;color:var(--dim);margin-bottom:8px;">&#128218; Your Saved Citations</div>
          <div id="citeSavedList"></div>
        </div>
      </div>

      <div class="learn-h2">&#128209; Citation Formats Reference</div>
      <div class="learn-prose">MYP schools often use <strong>MLA</strong> format. Here are examples for common source types:</div>

      <div class="learn-h3">Website (MLA)</div>
      <div class="cite-box">Author Last, First. "Article Title." Website Name, Day Month Year Published, URL. Accessed Day Month Year.
<br><br>Smith, John. "How Ergonomics Affects Product Design." Design Weekly, 12 March 2023, www.designweekly.com/ergonomics. Accessed 5 January 2024.</div>

      <div class="learn-h3">Book (MLA)</div>
      <div class="cite-box">Author Last, First. Title of Book. Publisher, Year.
<br><br>Norman, Donald. The Design of Everyday Things. Basic Books, 2013.</div>

      <div class="learn-h3">Image / Photo (MLA)</div>
      <div class="cite-box">Creator Last, First. "Image Title." Website Name, Year, URL.
<br><br>Jones, Alice. "Red Ergonomic Chair." Unsplash, 2022, unsplash.com/photos/abc123.</div>

      <div class="learn-callout good">
        <div class="lc-lbl">&#128161; Quick Citation Tips</div>
        <div class="lc-txt">
          <strong>Keep a citation list as you research</strong> - it is much harder to find sources again afterwards.<br>
          <strong>Use a tool:</strong> The generator above, Cite This For Me, or MyBib.com generate citations automatically.<br>
          <strong>No author?</strong> Use the website or organisation name instead.<br>
          <strong>No date?</strong> Write "n.d." (no date) in its place.<br>
          <strong>AI tools</strong> cannot be cited as sources - they generate text, not evidence.
        </div>
      </div>
    </div>

    <!-- ══ WRITING SPECIFICATIONS ══ -->
    <div class="learn-section" id="sec-specifications">
      <div class="learn-art-hdr">
        <div class="learn-art-badge">&#9989; Research Skills</div>
        <div class="learn-art-title">Writing Design Specifications</div>
        <div class="learn-art-sub">A design specification is the list of things your product MUST do or be. Strong specifications are measurable, justified, and directly connected to your research. Weak ones are vague and untestable.</div>
      </div>
      <div class="learn-cards cols2">
        <div class="learn-card lv1"><div class="learn-card-icon">&#10060;</div><div class="learn-card-title">Weak Specification</div><div class="learn-card-body">"The product must be good quality."<br><br>"The product should look nice."<br><br>"The product must be strong enough."<br><br>"The product should be affordable."<br><br>These are vague  -  you cannot test them or use them to judge whether your product succeeded.</div></div>
        <div class="learn-card lv4"><div class="learn-card-icon">&#9989;</div><div class="learn-card-title">Strong Specification</div><div class="learn-card-body">"The product must hold a minimum load of 3kg without deformation  -  tested by load test."<br><br>"The product must cost no more than $12 in materials  -  verified by receipts."<br><br>"The product must fit inside a standard school locker (max 320 x 200 x 150mm)."<br><br>Each one is <strong>specific</strong>, <strong>measurable</strong>, and <strong>testable</strong>.</div></div>
      </div>
      <div class="learn-h2">&#128203; The 3-Part Specification Formula</div>
      <div class="learn-callout tip">
        <div class="lc-lbl">&#128161; Formula</div>
        <div class="lc-txt"><strong>My product must [do/be WHAT] [to WHAT STANDARD/VALUE]  -  because [RESEARCH JUSTIFICATION].</strong><br><br>Example: "My product must be waterproof to at least IPX4 standard, tested by a 10-second spray test  -  because 82% of survey respondents rated waterproofing as essential."</div>
      </div>
      <div class="learn-h2">&#128300; Specification Categories</div>
      <div class="learn-cards cols3">
        <div class="learn-card"><div class="learn-card-icon">&#128736;</div><div class="learn-card-title">Function</div><div class="learn-card-body">What must the product do? What are its core jobs?</div></div>
        <div class="learn-card"><div class="learn-card-icon">&#128179;</div><div class="learn-card-title">Cost</div><div class="learn-card-body">What is the maximum material and production cost?</div></div>
        <div class="learn-card"><div class="learn-card-icon">&#9854;</div><div class="learn-card-title">Ergonomics</div><div class="learn-card-body">What size, weight, or grip requirements does the user need?</div></div>
        <div class="learn-card"><div class="learn-card-icon">&#127807;</div><div class="learn-card-title">Sustainability</div><div class="learn-card-body">Are there requirements about materials, recyclability, or energy?</div></div>
        <div class="learn-card"><div class="learn-card-icon">&#9888;</div><div class="learn-card-title">Safety</div><div class="learn-card-body">What safety standards or features must be included?</div></div>
        <div class="learn-card"><div class="learn-card-icon">&#127912;</div><div class="learn-card-title">Aesthetics</div><div class="learn-card-body">Any colour, style, or appearance requirements from user research?</div></div>
      </div>
    </div>

    <!-- ══ DRAWING TYPES ══ -->
    <div class="learn-section" id="sec-drawing">
      <div class="learn-art-hdr">
        <div class="learn-art-badge">&#9999; Design Skills</div>
        <div class="learn-art-title">Design Drawing &amp; Digital Tools</div>
        <div class="learn-art-sub">Different drawings communicate different things. Knowing which type to use - and when - makes your Criterion B work much stronger. Digital tools add another dimension of precision and creativity.</div>
      </div>

      <div class="learn-h2">&#9997; Product Design Drawing Types</div>
      <div class="learn-cards cols2">
        <div class="learn-card ca"><div class="learn-card-icon">&#9997;</div><div class="learn-card-title">Freehand Sketch</div><div class="learn-card-body">Quick, rough exploration drawings. Used when brainstorming design ideas. Not accurate but fast and useful for generating options. Always label key features. Used in: Desk Organizers, Upcycled Clock, Assistive Device.</div></div>
        <div class="learn-card cb"><div class="learn-card-icon">&#128210;</div><div class="learn-card-title">Orthographic / Working Drawing</div><div class="learn-card-body">Precise, measured drawings showing front, side, and top views separately. Used in planning drawings. Includes real dimensions. Someone could build from this. Essential for: Device Station, F1 Car (Onshape), Assistive Device.</div></div>
        <div class="learn-card cc"><div class="learn-card-icon">&#128207;</div><div class="learn-card-title">Isometric Drawing</div><div class="learn-card-body">A 3D view drawn on a grid at 30 degree angles. Shows height, width, and depth in one view. Great for showing what a product looks like without distortion. Used for: Desk Organizers, Upcycled Clock.</div></div>
        <div class="learn-card cd"><div class="learn-card-icon">&#128308;</div><div class="learn-card-title">Exploded View</div><div class="learn-card-body">Shows all the parts of a product separated out. Used to show how parts fit together and what materials each part uses. Key for: Device Station assembly, F1 Car components.</div></div>
      </div>

      <div class="learn-h2">&#128187; Digital Design Tools</div>
      <div class="learn-cards cols2">
        <div class="learn-card lv3"><div class="learn-card-icon">&#127968;</div><div class="learn-card-title">HomeByMe (Floor Planning)</div><div class="learn-card-body">Used for: Calamity-Proof Sustainable Homes (MYP 3). Create 2D floor plans and 3D walkthroughs. Document: screenshots at each stage, room dimensions, notes on disaster-resistant features. Annotate: explain why each room is positioned where it is.</div></div>
        <div class="learn-card lv4"><div class="learn-card-icon">&#9881;</div><div class="learn-card-title">Onshape (CAD Modelling)</div><div class="learn-card-body">Used for: F1 Car Designs (MYP 3). Create precision 3D models with exact measurements. Document: feature tree screenshots, design iterations. Annotate: explain aerodynamic choices, link dimensions to your specification criteria.</div></div>
        <div class="learn-card lv2"><div class="learn-card-icon">&#127922;</div><div class="learn-card-title">Scratch (Game Design)</div><div class="learn-card-body">Used for: Educational Games (MYP 1 Digital). Visual block-based programming. Document: screenshots of sprite designs, stage backgrounds, and key code blocks. Annotate: explain how each mechanic teaches the intended concept.</div></div>
        <div class="learn-card lv1"><div class="learn-card-icon">&#127909;</div><div class="learn-card-title">CapCut (Video/Media)</div><div class="learn-card-body">Used for: Content Creation (MYP 3 Digital). Non-linear video editor. Document: storyboard before editing, timeline screenshots during editing. Annotate: explain editing choices, transitions, and how they serve your communication goal.</div></div>
      </div>

      <div class="learn-callout tip">
        <div class="lc-lbl">&#128161; Annotation is Everything</div>
        <div class="lc-txt">A drawing without annotations is worth very little in MYP. <strong>Annotate</strong> means adding labels with explanations - not just "handle" but "ergonomic rubber grip - chosen because 80% of survey respondents rated grip comfort as their top priority." Every label should explain WHY, not just WHAT. This applies equally to digital screenshots and CAD models.</div>
      </div>
    </div>

    <!-- ══ MATERIALS ══ -->
    <div class="learn-section" id="sec-materials">
      <div class="learn-art-hdr">
        <div class="learn-art-badge">&#129520; Design Skills</div>
        <div class="learn-art-title">Materials &amp; Their Properties</div>
        <div class="learn-art-sub">Choosing the right material is one of the most important design decisions. Every material has specific properties  -  and the best designers match material properties to the product's requirements.</div>
      </div>
      <div class="learn-cards cols3">
        <div class="learn-card"><div class="learn-card-icon">&#129522;</div><div class="learn-card-title">Hardwoods (e.g. oak, mahogany)</div><div class="learn-card-body">Strong, durable, attractive grain. Expensive. Used for furniture and high-quality products. Sustainable if FSC certified.</div></div>
        <div class="learn-card"><div class="learn-card-icon">&#127795;</div><div class="learn-card-title">Softwoods (e.g. pine, balsa)</div><div class="learn-card-body">Lightweight, easy to cut and shape, cheaper. Less durable than hardwood. Good for models and prototypes.</div></div>
        <div class="learn-card"><div class="learn-card-icon">&#9881;</div><div class="learn-card-title">Metals (e.g. steel, aluminium)</div><div class="learn-card-body">Strong, conductive, recyclable. Steel is very strong but heavy and rusts. Aluminium is lightweight, corrosion-resistant, but more expensive.</div></div>
        <div class="learn-card"><div class="learn-card-icon">&#129514;</div><div class="learn-card-title">Thermoplastics (e.g. ABS, PET)</div><div class="learn-card-body">Can be melted and reshaped repeatedly. Lightweight, mouldable. ABS is used in LEGO and 3D printing. PET is used in bottles. Most are recyclable.</div></div>
        <div class="learn-card"><div class="learn-card-icon">&#127380;</div><div class="learn-card-title">Thermosets (e.g. epoxy, polyester resin)</div><div class="learn-card-body">Harden permanently when set  -  cannot be melted again. Very hard and chemical-resistant. Used in circuit boards and boat hulls. Cannot be recycled.</div></div>
        <div class="learn-card"><div class="learn-card-icon">&#129525;</div><div class="learn-card-title">Textiles (e.g. cotton, nylon)</div><div class="learn-card-body">Flexible, can be woven or knitted. Cotton is natural and breathable. Nylon is synthetic, strong, and water-resistant. Used in bags, clothing, and soft products.</div></div>
      </div>
      <div class="learn-callout tip">
        <div class="lc-lbl">&#9989; Properties to Compare</div>
        <div class="lc-txt">When justifying your material choice, compare: <strong>strength</strong> (tensile, compressive), <strong>hardness</strong>, <strong>density/weight</strong>, <strong>thermal conductivity</strong>, <strong>electrical conductivity</strong>, <strong>corrosion resistance</strong>, <strong>cost</strong>, <strong>workability</strong>, and <strong>sustainability</strong>. Saying "I chose aluminium because it is lightweight and corrosion-resistant, which meets my size and durability criteria" is much stronger than just saying "aluminium is a good material."</div>
      </div>
    </div>

    <!-- ══ TESTING ══ -->
    <div class="learn-section" id="sec-testing">
      <div class="learn-art-hdr">
        <div class="learn-art-badge">&#128300; Design Skills</div>
        <div class="learn-art-title">Product Testing Methods</div>
        <div class="learn-art-sub">Testing is the core of Criterion D. The best tests generate real data that can be directly compared to your specification criteria. Here are the main types and how to use them.</div>
      </div>
      <div class="learn-cards cols2">
        <div class="learn-card lv3"><div class="learn-card-icon">&#128200;</div><div class="learn-card-title">Quantitative Testing</div><div class="learn-card-body">Produces numbers. The best type for evaluating specifications because you can compare directly to your target values.<br><br><strong>Examples:</strong> Load tests (kg), dimension checks (mm), timing tests (seconds), cost receipts ($), user ratings (1-5 scale), cycle tests (number of uses).</div></div>
        <div class="learn-card lv2"><div class="learn-card-icon">&#128172;</div><div class="learn-card-title">Qualitative Testing</div><div class="learn-card-body">Produces opinions and descriptions. Useful for aesthetic and usability criteria that are hard to measure with numbers.<br><br><strong>Examples:</strong> User feedback forms, focus groups, expert reviews, peer evaluations. Best when combined with quantitative data.</div></div>
        <div class="learn-card lv4"><div class="learn-card-icon">&#128100;</div><div class="learn-card-title">User Testing</div><div class="learn-card-body">Giving your product to real users from your target audience and observing or recording their experience. Powerful for identifying usability issues the designer never noticed.<br><br><strong>Best practice:</strong> At least 5 users, standardised tasks, record both completion time and errors.</div></div>
        <div class="learn-card lv1"><div class="learn-card-icon">&#128483;</div><div class="learn-card-title">Destructive Testing</div><div class="learn-card-body">Testing a product to failure - finding the point at which it breaks. Useful for durability and safety testing.<br><br><strong>Examples:</strong> Maximum load test, drop test, scratch resistance test, UV degradation test.</div></div>
      </div>

      <div class="learn-h2">&#128187; Digital Product Testing Methods</div>
      <div class="learn-cards cols2">
        <div class="learn-card cc"><div class="learn-card-icon">&#127922;</div><div class="learn-card-title">Playtesting (Games)</div><div class="learn-card-body">Have 5+ players from your <strong>actual target audience</strong> test your Scratch or Endstar game. Record: completion rate, time to complete each level, number of attempts before succeeding, and enjoyment rating (1-5). Ask: "Did you understand the rules immediately?" and "What was confusing?"</div></div>
        <div class="learn-card cb"><div class="learn-card-icon">&#128187;</div><div class="learn-card-title">Usability Testing (Apps)</div><div class="learn-card-body">Give users your Python app or HomeByMe design and ask them to complete specific tasks without help. Record: time to complete, errors made, and confusion moments. This generates quantitative data (task completion time, error count) for your evaluation.</div></div>
        <div class="learn-card ca"><div class="learn-card-icon">&#127909;</div><div class="learn-card-title">Audience Feedback (Media)</div><div class="learn-card-body">Show your CapCut content to 5-10 people from your target audience. Use a structured feedback form rating: clarity (1-5), engagement (1-5), visual quality (1-5), and message effectiveness (1-5). Calculate average scores for your evaluation.</div></div>
        <div class="learn-card cd"><div class="learn-card-icon">&#128423;</div><div class="learn-card-title">Bug/Error Log (Software)</div><div class="learn-card-body">Keep a log of every bug found during testing: what triggered it, what happened, and how you fixed it. This shows your Criterion C Strand 3 change documentation AND generates evidence for your Criterion D evaluation.</div></div>
      </div>

      <div class="learn-callout tip">
        <div class="lc-lbl">&#128161; The Golden Rule of Testing</div>
        <div class="lc-txt">Every test must link back to a specific specification criterion. If you cannot say "this test measures Criterion X which has a target value of Y", the test is not useful for your evaluation. Design your tests BEFORE you build your solution - not after.</div>
      </div>
    </div>

    <!-- ══ AI + INTEGRITY ══ -->
    <div class="learn-section" id="sec-ai-integrity">
      <div class="learn-art-hdr">
        <div class="learn-art-badge">&#129302; Using AI Wisely</div>
        <div class="learn-art-title">AI &amp; Academic Integrity</div>
        <div class="learn-art-sub">AI tools like ChatGPT and Claude can be powerful learning assistants  -  or they can do your thinking for you, which is a problem. Here's how to stay on the right side of the line.</div>
      </div>

      <div class="learn-callout warn">
        <div class="lc-lbl">&#9888; The IB Rule</div>
        <div class="lc-txt">The IB requires that all submitted work is <strong>your own</strong>. Using AI to generate your design brief, write your evaluation, or produce your analysis and submitting it as your own work is academic dishonesty  -  regardless of how good it looks. You must be able to explain and defend every sentence you submit.</div>
      </div>

      <div class="learn-h2">&#9989; What AI Can Legitimately Help With</div>
      <div class="learn-cards cols2">
        <div class="learn-card lv2"><div class="learn-card-icon">&#128218;</div><div class="learn-card-title">Understanding Concepts</div><div class="learn-card-body">Ask AI to explain a concept you don't understand. "Explain what ergonomics means with an example." This is like asking a teacher  -  you then write the explanation in your own words.</div></div>
        <div class="learn-card lv2"><div class="learn-card-icon">&#128172;</div><div class="learn-card-title">Getting Feedback</div><div class="learn-card-body">Paste YOUR work and ask AI to give feedback. "What is weak about my justification?" Then YOU improve it. The work stays yours.</div></div>
        <div class="learn-card lv2"><div class="learn-card-icon">&#128300;</div><div class="learn-card-title">Brainstorming Ideas</div><div class="learn-card-body">Use AI to generate a list of possible ideas you could consider, then choose and develop your OWN idea. "What are 10 possible design ideas for a portable study organiser?" You still design and justify it yourself.</div></div>
        <div class="learn-card lv2"><div class="learn-card-icon">&#128269;</div><div class="learn-card-title">Research Starting Points</div><div class="learn-card-body">Ask AI for directions to look: "What materials are commonly used in reusable water bottles?"  -  then go find and cite the actual sources yourself. AI is a pointer, not a source.</div></div>
      </div>

      <div class="learn-h2">&#10060; What You Cannot Do</div>
      <div class="learn-cards cols2">
        <div class="learn-card lv1"><div class="learn-card-icon">&#128683;</div><div class="learn-card-title">Generate Your Written Work</div><div class="learn-card-body">Asking AI to "write my design brief", "write my evaluation", or "write my justification" and submitting it is academic dishonesty. It doesn't matter if you edit it slightly  -  if the core thinking isn't yours, it's dishonest.</div></div>
        <div class="learn-card lv1"><div class="learn-card-icon">&#128683;</div><div class="learn-card-title">Cite AI as a Source</div><div class="learn-card-body">AI generates plausible-sounding text  -  it is not a reliable source of facts. It cannot be cited. If AI tells you a statistic, you must independently verify it from a real, citable source before using it.</div></div>
        <div class="learn-card lv1"><div class="learn-card-icon">&#128683;</div><div class="learn-card-title">Let AI Make Your Decisions</div><div class="learn-card-body">Asking AI "which design should I choose?" and using its answer means the design decisions aren't yours. Examiners are assessing YOUR thinking and YOUR judgement  -  not an AI's.</div></div>
        <div class="learn-card lv1"><div class="learn-card-icon">&#128683;</div><div class="learn-card-title">Use AI for Testing Data</div><div class="learn-card-body">Your product testing must use REAL products producing REAL data. AI cannot test your product. Any testing data must come from actual physical tests you performed.</div></div>
      </div>
    </div>

    <!-- ══ AI FOR EACH CRITERION ══ -->
    <div class="learn-section" id="sec-ai-criteria">
      <div class="learn-art-hdr">
        <div class="learn-art-badge">&#127919; Using AI Wisely</div>
        <div class="learn-art-title">How AI Can Help  -  By Criterion</div>
        <div class="learn-art-sub">Here are specific, academically honest ways you can use AI as a thinking partner for each criterion and strand  -  without letting it do your work for you.</div>
      </div>
      <div id="aiAccordion">

        <div class="ai-crit">
          <div class="ai-crit-hdr" onclick="toggleAI(this)">
            <div class="ai-crit-badge" style="background:#e4f5fb;color:#0e5878;">A</div>
            <div class="ai-crit-name">Criterion A  -  Inquiring &amp; Analyzing</div>
            <div class="ai-crit-arrow">&#9658;</div>
          </div>
          <div class="ai-crit-body">
            <div class="ai-strand" style="background:#e4f5fb;border-color:#7ecce8;">
              <div class="ai-strand-title" style="color:#0e5878;">Strand 1: Explain and Justify the Need</div>
              <div class="ai-do yes">&#9989; <strong>You can:</strong> Ask AI to explain what "justify" means with an example, so you understand the standard before you write.</div>
              <div class="ai-do yes">&#9989; <strong>You can:</strong> Paste YOUR written need statement and ask AI "Is this a justification or just a description? What is missing?"</div>
              <div class="ai-do no">&#10060; <strong>You cannot:</strong> Ask AI to "write the justification for my need" and submit it.</div>
              <div class="ai-prompt-box"><div class="ai-prompt-lbl">&#128172; Try this prompt instead:</div><div class="ai-prompt">"I wrote: [your text]. I am aiming for the 7-8 band which requires justification. What reasoning or evidence am I missing that would make this a justification rather than just a description?"</div></div>
            </div>
            <div class="ai-strand" style="background:#e4f5fb;border-color:#7ecce8;">
              <div class="ai-strand-title" style="color:#0e5878;">Strand 2: Research Plan</div>
              <div class="ai-do yes">&#9989; <strong>You can:</strong> Ask AI for a list of possible research topics related to your problem  -  then YOU decide which are most important and justify your prioritisation.</div>
              <div class="ai-do no">&#10060; <strong>You cannot:</strong> Ask AI to write your research plan for you.</div>
              <div class="ai-prompt-box"><div class="ai-prompt-lbl">&#128172; Try this prompt instead:</div><div class="ai-prompt">"My design problem is [problem]. What are possible areas I could research? Give me 10 ideas." Then select and rank them yourself, explaining your reasoning.</div></div>
            </div>
            <div class="ai-strand" style="background:#e4f5fb;border-color:#7ecce8;">
              <div class="ai-strand-title" style="color:#0e5878;">Strand 3: Analyse Existing Products</div>
              <div class="ai-do yes">&#9989; <strong>You can:</strong> Ask AI to explain what the ACCESS FM letters mean so you understand the framework fully.</div>
              <div class="ai-do yes">&#9989; <strong>You can:</strong> Ask AI "what are common weaknesses in existing [type] products that I should look for?"  -  then do your own physical analysis.</div>
              <div class="ai-do no">&#10060; <strong>You cannot:</strong> Ask AI to analyse a product for you. Your analysis must come from your own observation of real products.</div>
              <div class="ai-prompt-box"><div class="ai-prompt-lbl">&#128172; Try this prompt instead:</div><div class="ai-prompt">"I am analysing a [product type]. Using ACCESS FM as a framework, what questions should I be asking about each letter? Don't analyse it for me  -  just give me good questions to guide my own observation."</div></div>
            </div>
            <div class="ai-strand" style="background:#e4f5fb;border-color:#7ecce8;">
              <div class="ai-strand-title" style="color:#0e5878;">Strand 4: Design Brief</div>
              <div class="ai-do yes">&#9989; <strong>You can:</strong> Ask AI to review your draft brief and identify gaps: "What connections between research and design direction are unclear?"</div>
              <div class="ai-do no">&#10060; <strong>You cannot:</strong> Ask AI to write your design brief  -  this is the central document that shows your thinking.</div>
              <div class="ai-prompt-box"><div class="ai-prompt-lbl">&#128172; Try this prompt instead:</div><div class="ai-prompt">"Here is my draft design brief: [paste text]. Does every sentence connect my research findings to a design direction? What is still vague or unsupported?"</div></div>
            </div>
          </div>
        </div>

        <div class="ai-crit">
          <div class="ai-crit-hdr" onclick="toggleAI(this)">
            <div class="ai-crit-badge" style="background:#fef3c7;color:#7a5000;">B</div>
            <div class="ai-crit-name">Criterion B  -  Developing Ideas</div>
            <div class="ai-crit-arrow">&#9658;</div>
          </div>
          <div class="ai-crit-body">
            <div class="ai-strand" style="background:#fef3c7;border-color:#f0d060;">
              <div class="ai-strand-title" style="color:#7a5000;">Strand 1: Design Specification</div>
              <div class="ai-do yes">&#9989; <strong>You can:</strong> Ask AI to check whether your criteria are measurable: "Is 'my product must be strong' testable? How could I make it more specific?"</div>
              <div class="ai-do no">&#10060; <strong>You cannot:</strong> Ask AI to write your specification  -  it must come from YOUR research findings.</div>
              <div class="ai-prompt-box"><div class="ai-prompt-lbl">&#128172; Try this prompt instead:</div><div class="ai-prompt">"Here are my design specifications: [list]. Which of these are vague or untestable? Suggest how I could make each one more specific and measurable without changing what I intend."</div></div>
            </div>
            <div class="ai-strand" style="background:#fef3c7;border-color:#f0d060;">
              <div class="ai-strand-title" style="color:#7a5000;">Strand 2 &amp; 3: Design Ideas and Selection</div>
              <div class="ai-do yes">&#9989; <strong>You can:</strong> Ask AI for inspiration: "What design features exist in [product type] that address [specific need]?"  -  then create YOUR own original designs.</div>
              <div class="ai-do yes">&#9989; <strong>You can:</strong> Ask AI to check your justification: "Does this explain WHY I chose this design, or just WHAT it is?"</div>
              <div class="ai-do no">&#10060; <strong>You cannot:</strong> Submit AI-generated design ideas or ask AI to choose your best design.</div>
              <div class="ai-prompt-box"><div class="ai-prompt-lbl">&#128172; Try this prompt instead:</div><div class="ai-prompt">"I chose Design C. Here is my justification: [paste text]. Am I explaining WHY this design beats the others, or just describing it? What specific criteria comparisons am I missing?"</div></div>
            </div>
          </div>
        </div>

        <div class="ai-crit">
          <div class="ai-crit-hdr" onclick="toggleAI(this)">
            <div class="ai-crit-badge" style="background:#e2f7ec;color:#146832;">C</div>
            <div class="ai-crit-name">Criterion C  -  Creating the Solution</div>
            <div class="ai-crit-arrow">&#9658;</div>
          </div>
          <div class="ai-crit-body">
            <div class="ai-strand" style="background:#e2f7ec;border-color:#82d8a4;">
              <div class="ai-strand-title" style="color:#146832;">Strand 1: Production Plan</div>
              <div class="ai-do yes">&#9989; <strong>You can:</strong> Ask AI "What should a detailed production plan include for a student making a [product type]?"  -  then build your own plan.</div>
              <div class="ai-do no">&#10060; <strong>You cannot:</strong> Ask AI to write your plan  -  it must reflect your actual making process with your real tools and materials.</div>
              <div class="ai-prompt-box"><div class="ai-prompt-lbl">&#128172; Try this prompt instead:</div><div class="ai-prompt">"Here is my production plan: [paste]. Is it specific enough for a peer to follow step by step? What is missing in terms of time estimates, materials, or sequencing?"</div></div>
            </div>
            <div class="ai-strand" style="background:#e2f7ec;border-color:#82d8a4;">
              <div class="ai-strand-title" style="color:#146832;">Strand 4: Justifying Changes</div>
              <div class="ai-do yes">&#9989; <strong>You can:</strong> Ask AI: "I changed [X] to [Y] during making. How should I structure this as a justified change in my write-up?"</div>
              <div class="ai-do no">&#10060; <strong>You cannot:</strong> Ask AI to invent changes or write your changes documentation  -  these must be real changes that actually happened.</div>
              <div class="ai-prompt-box"><div class="ai-prompt-lbl">&#128172; Try this prompt instead:</div><div class="ai-prompt">"I changed the width from 30cm to 35cm because the laptop didn't fit. Here's what I wrote: [paste]. Does this justify the change or just describe it? What evidence or reasoning should I add?"</div></div>
            </div>
          </div>
        </div>

        <div class="ai-crit">
          <div class="ai-crit-hdr" onclick="toggleAI(this)">
            <div class="ai-crit-badge" style="background:#fdeaea;color:#7a1010;">D</div>
            <div class="ai-crit-name">Criterion D  -  Evaluating</div>
            <div class="ai-crit-arrow">&#9658;</div>
          </div>
          <div class="ai-crit-body">
            <div class="ai-strand" style="background:#fdeaea;border-color:#f4aac8;">
              <div class="ai-strand-title" style="color:#7a1010;">Strand 1: Testing Methods</div>
              <div class="ai-do yes">&#9989; <strong>You can:</strong> Ask AI: "What types of tests could measure [specific criterion]?"  -  then design your own test methodology.</div>
              <div class="ai-do no">&#10060; <strong>You cannot:</strong> Use AI-generated testing data  -  all data must come from real physical tests.</div>
              <div class="ai-prompt-box"><div class="ai-prompt-lbl">&#128172; Try this prompt instead:</div><div class="ai-prompt">"My specification says the product must hold 3kg. What are different ways I could test this? I want to design a test that generates numerical data. Give me 3 options and I'll choose one."</div></div>
            </div>
            <div class="ai-strand" style="background:#fdeaea;border-color:#f4aac8;">
              <div class="ai-strand-title" style="color:#7a1010;">Strand 2: Evaluating Success</div>
              <div class="ai-do yes">&#9989; <strong>You can:</strong> Paste your evaluation draft and ask AI: "Am I being critical enough? Where am I just describing results instead of evaluating them?"</div>
              <div class="ai-do no">&#10060; <strong>You cannot:</strong> Ask AI to evaluate your product  -  only you have the actual test results.</div>
              <div class="ai-prompt-box"><div class="ai-prompt-lbl">&#128172; Try this prompt instead:</div><div class="ai-prompt">"Here is my evaluation: [paste]. For a 7-8 score, I need to critically evaluate against all criteria with authentic data. Which criteria am I not evaluating fully, and where am I missing honest critique of failures?"</div></div>
            </div>
            <div class="ai-strand" style="background:#fdeaea;border-color:#f4aac8;">
              <div class="ai-strand-title" style="color:#7a1010;">Strand 3 &amp; 4: Improvements and Impact</div>
              <div class="ai-do yes">&#9989; <strong>You can:</strong> Ask AI: "What factors should I consider when writing about the impact of a design solution on its target audience?"</div>
              <div class="ai-do no">&#10060; <strong>You cannot:</strong> Ask AI to write your improvements or impact sections  -  these must come from your actual evaluation findings and real user feedback.</div>
              <div class="ai-prompt-box"><div class="ai-prompt-lbl">&#128172; Try this prompt instead:</div><div class="ai-prompt">"My product partially failed the weight criterion. Here's my improvement idea: [paste]. Is this a description of what to change, or a justified improvement that explains why it will fix the problem and how it could be tested?"</div></div>
            </div>
          </div>
        </div>

      </div><!-- /aiAccordion -->
    </div><!-- /sec-ai-criteria -->

  </div><!-- /learn-content -->
</div><!-- /learn-layout -->
</div><!-- /panelLearn -->

<script>
var CT = {
  "state":     {lv:1,lbl:"State",     s:"Just say it clearly - one short answer. No need to explain why.",
    ex:{1:"The purpose of my product is to carry a water bottle - one clear sentence, done!",2:"The need is that students have no way to store their devices safely at school.",3:"The problem exists because the client has no accessible storage for their equipment.",4:"The need arises because students aged 11-16 lack a safe, portable place to store devices - direct and specific to the client."}},
  "states":    {lv:1,lbl:"States",    s:"Just says it clearly - one short answer.",
    ex:{1:"States: the solution must be waterproof - one fact.",2:"States the main features: the product is red, plastic, and lightweight.",3:"States the success: the product met 4 out of 5 criteria.",4:"States and prioritizes the most important research first, then explains briefly why each was chosen."}},
  "define":    {lv:1,lbl:"Define",    s:"Give the exact meaning - like a dictionary. What does this word actually mean?",
    ex:{1:"Ergonomics: the study of how to design things so they are comfortable and easy for people to use.",2:"Primary research: information I collect myself, for example through a survey I created.",3:"Design specification: a detailed list of requirements that the final product must meet.",4:"Target audience: the specific group of people for whom a product is being designed, defined by age, needs, and context."}},
  "defines":   {lv:1,lbl:"Defines",   s:"Gives the exact meaning of something - a clear, dictionary-style answer.",
    ex:{1:"Defines the test: a drop test checks if the product survives being dropped from 1 metre.",2:"Defines a relevant test: a user survey with 10 questions about comfort and ease of use.",3:"Defines testing methods: three tests - a strength test, usability test, and client feedback form.",4:"Defines and explains why each test was chosen based on the design specification criteria."}},
  "list":      {lv:1,lbl:"List",      s:"Write things down one by one. Short items only - no details or reasons needed.",
    ex:{1:"Materials needed: cardboard, scissors, glue, ruler, pencil.",2:"Success criteria: 1. Must be waterproof. 2. Must fit in a backpack. 3. Must cost under $10.",3:"Changes made: 1. Wider handle. 2. Lighter material. 3. Added a clasp.",4:"Prioritized research list: 1. User needs survey. 2. Existing product analysis. 3. Material costs."}},
  "lists":     {lv:1,lbl:"Lists",     s:"Writes things down one by one - no details or reasons needed.",
    ex:{1:"Lists two basic criteria: must be colourful and must be small.",2:"Lists success criteria: strong, waterproof, affordable, easy to use.",3:"Lists how the solution could be improved: add a strap, change the colour, use recycled material.",4:"Lists changes with a brief reason for each: changed handle (too slippery), resized lid (hard to open)."}},
  "outline":   {lv:2,lbl:"Outline",   s:"Give a quick overview - the main points only. Don't go too deep into details.",
    ex:{1:"My product is a pencil case. It opens with a zip and holds 20 pencils - main points only.",2:"The main steps are: research, design, build, test, evaluate. Each takes about one week.",3:"The plan outlines three phases: planning (week 1), making (weeks 2-3), and testing (week 4).",4:"The plan outlines how time and resources are split: 40% design, 40% making, 20% testing - with reasoning."}},
  "outlines":  {lv:2,lbl:"Outlines",  s:"Gives a quick overview - main points only, no deep detail.",
    ex:{1:"Outlines the need: students need a safer way to carry their laptops.",2:"Outlines the main findings: most users prefer lightweight bags with easy access.",3:"Outlines how the solution could be improved: make it lighter and add a waterproof lining.",4:"Outlines how time and resources were efficiently used, with key decisions noted at each stage."}},
  "present":   {lv:2,lbl:"Present",   s:"Show or share your work clearly so other people can understand it.",
    ex:{1:"Here is my design drawing with labels showing the front, side, and back views.",2:"I present three design ideas below, each with labelled diagrams and a short description.",3:"I present my chosen design with annotated sketches and a written explanation of each feature.",4:"I present my final design with detailed technical drawings, annotations, and justification for every choice."}},
  "presents":  {lv:2,lbl:"Presents",  s:"Shows or shares work clearly so other people can understand it.",
    ex:{1:"Presents one design idea: a rough sketch of a box with a lid.",2:"Presents three feasible design ideas with labels and a brief description of each.",3:"Presents the chosen design with labelled drawings and reasons for key features.",4:"Presents the final design with full technical drawings, detailed annotations, and specification links."}},
  "construct": {lv:2,lbl:"Construct", s:"Build or put something together in a clear, step-by-step order.",
    ex:{1:"Construct a basic plan: Step 1 - cut, Step 2 - fold, Step 3 - glue.",2:"I constructed a research plan with 4 steps and listed what I needed to find out in each.",3:"I constructed a logical plan using a Gantt chart showing tasks, deadlines, and materials needed.",4:"I constructed a detailed plan that maps out every step, resource, and timeline, with contingency notes."}},
  "constructs":{lv:2,lbl:"Constructs",s:"Builds or puts something together in a clear, step-by-step order.",
    ex:{1:"Constructs a basic plan with 3 steps for making the solution.",2:"Constructs a research plan listing primary and secondary sources to investigate.",3:"Constructs a logical plan that considers time and materials needed for each stage.",4:"Constructs a detailed plan that describes efficient use of time, with reasoning for each decision."}},
  "develop":   {lv:2,lbl:"Develop",   s:"Start with a basic idea and make it grow - add more detail and improve it.",
    ex:{1:"I started with a sketch, then added colour, size notes, and material ideas.",2:"I developed my design by testing two versions and improving the handle width based on feedback.",3:"I developed design specifications by researching user needs, safety standards, and material costs.",4:"I developed a detailed brief that brings together all research findings and links them to design criteria."}},
  "develops":  {lv:2,lbl:"Develops",  s:"Starts with a basic idea and makes it grow - adds more detail and improves it.",
    ex:{1:"Develops a few success criteria based on the brief: must be durable, cheap, and easy to use.",2:"Develops design specifications with clear, testable criteria linked to user needs.",3:"Develops a range of design ideas with annotations explaining how each meets the specification.",4:"Develops a detailed design brief that brings together and connects all research findings."}},
  "explain":   {lv:3,lbl:"Explain",   s:"Say WHAT it is AND WHY or HOW - always give reasons. Facts alone are not enough!",
    ex:{1:"I chose this material because it is cheap and easy to cut, which suits my budget and tools.",2:"The design failed criterion 2 because the base was too narrow, causing it to tip over easily.",3:"The product succeeded because the ergonomic handle reduced hand fatigue, which directly addressed the client's main complaint.",4:"I explain why each change was made: the handle was widened because user testing showed 70% of participants found it uncomfortable to hold."}},
  "explains":  {lv:3,lbl:"Explains",  s:"Says WHAT and WHY or HOW - gives clear reasons, not just facts.",
    ex:{1:"Explains the need: students struggle to carry heavy bags, which causes back pain.",2:"Explains the success: the product met 4 criteria because the materials were strong and the size was correct.",3:"Explains how the solution could be improved: adding a shoulder strap would distribute weight more evenly.",4:"Explains the impact on the client: the solution saved them 15 minutes per day and reduced errors by 30%, based on testing."}},
  "describe":  {lv:3,lbl:"Describe",  s:"Paint a detailed picture - talk about features, qualities, and what you notice.",
    ex:{1:"The product is a red, rectangular box, 20cm long, with a snap-close lid and two compartments.",2:"The product has a curved handle made from soft rubber, a matte black finish, and a non-slip base.",3:"The solution could be improved by replacing the plastic clasp with a magnetic closure, which would be faster and more durable.",4:"Describes the impact on the client: they reported the product was easier to use, saved them time, and matched their preferences."}},
  "describes": {lv:3,lbl:"Describes", s:"Paints a detailed picture - covers features, qualities, and observations.",
    ex:{1:"Describes the product: a blue pouch with a drawstring, made from canvas, 15cm x 20cm.",2:"Describes the testing method: I asked 10 users to rate ease of use from 1 to 5 after using the product.",3:"Describes the impact: users found the product reduced setup time from 5 minutes to under 1 minute.",4:"Describes detailed testing methods: three separate tests with different user groups, each generating numerical data."}},
  "identify":  {lv:3,lbl:"Identify",  s:"Spot it and name it - pick the right thing out from a group or situation.",
    ex:{1:"I identified the main problem: students cannot find a quiet place to study at lunchtime.",2:"I identified the primary research I need: a survey of 20 students about their study habits.",3:"I identified and prioritized the key research areas: user needs first, then material costs, then safety standards.",4:"I identified all primary and secondary research needed and explained why each piece is relevant to my design."}},
  "identifies":{lv:3,lbl:"Identifies",s:"Spots it and names it - picks the right thing out.",
    ex:{1:"Identifies the main feature: the product must be waterproof.",2:"Identifies success criteria that match the design brief: must hold 2kg, be under $15, and fit in a locker.",3:"Identifies and outlines the primary and secondary research needed with a brief reason for each.",4:"Identifies all research with detailed justification for why each source is the most relevant."}},
  "analyse":   {lv:4,lbl:"Analyse",   s:"Break it apart and look at how ALL the pieces connect. Go much deeper than just describing!",
    ex:{1:"The existing water bottle has a wide mouth (easy to fill), a rubber grip (non-slip), but a flimsy cap (will break quickly). The best feature to copy is the grip because it solves my client's main issue.",2:"I analysed three similar products. The most successful had a modular design, which means parts can be replaced. This matters because it reduces waste and long-term cost.",3:"I analysed a range of existing products and found that all successful ones share two features: ergonomic handles and modular components. This directly informs my design specification.",4:"I analysed a range of products in detail, comparing material choices, ergonomics, cost, and sustainability. The most effective solutions balance all four factors, which shaped my entire design brief."}},
  "analyses":  {lv:4,lbl:"Analyses",  s:"Breaks it apart and looks at how the pieces connect - goes deeper than describing.",
    ex:{1:"Analyses one product: it is lightweight but breaks easily. This tells me I need a stronger material.",2:"Analyses a group of similar products: all three use velcro, but only one is waterproof. The waterproof version is most popular, so I will include this feature.",3:"Analyses a range of products in detail, comparing features, materials, and user ratings to draw clear conclusions.",4:"Analyses a range of existing products in detail, identifying patterns, trade-offs, and innovations that directly inform the design specification."}},
  "justify":   {lv:4,lbl:"Justify",   s:"Give strong evidence and clear reasons to PROVE why your choice is the right one.",
    ex:{1:"I chose design B because it is the only one that meets all 5 of my success criteria.",2:"I chose aluminium over plastic because it is stronger, lighter, and recyclable, which matches my sustainability criterion.",3:"I justify my design selection: it scored highest in user testing (8.5/10), met all 5 criteria, and was the most cost-effective option.",4:"I fully justify all design choices with reference to specific criteria, user feedback data, and material testing results. Each decision is linked directly to the design specification."}},
  "justifies": {lv:4,lbl:"Justifies", s:"Gives strong evidence and clear reasons to PROVE why a choice is the right one.",
    ex:{1:"Justifies the design: it was chosen because it is the simplest to make with available tools.",2:"Justifies the selection: design A was chosen because it met 4 out of 5 criteria and scored highest in the peer review.",3:"Justifies each change: the handle was moved because testing showed 8 out of 10 users found the original position awkward.",4:"Fully justifies all changes and decisions with detailed reference to testing data, user feedback, and design specification criteria."}},
  "evaluate":  {lv:4,lbl:"Evaluate",  s:"Look at BOTH the good things AND the not-so-good things, then make a fair judgement. Be honest!",
    ex:{1:"The product works well because it holds all the pencils. However, the zip broke during testing. Overall it partially meets the brief.",2:"The solution met 3 of 5 criteria. It was strong and lightweight, but too expensive and the colour choice was unpopular.",3:"I evaluate my solution: it successfully met the ergonomic and cost criteria, but failed the durability criterion - the hinge broke after 50 uses. I recommend reinforcing it with metal screws.",4:"I critically evaluate my solution against all 6 design specification criteria using authentic test data. It fully met 4, partially met 1 (cost was 15% over budget), and failed 1 (weight). I provide specific improvement recommendations for each failure."}},
  "evaluates": {lv:4,lbl:"Evaluates", s:"Looks at both the strengths and weaknesses, then makes a fair, honest judgement.",
    ex:{1:"Evaluates: the product works but the handle is too small for adult hands.",2:"Evaluates success: the product met the size and weight criteria but failed the waterproof test.",3:"Critically evaluates: the solution met 4 criteria and failed 2. The main failure was cost - it was $3 over budget.",4:"Critically evaluates the success of the solution against all specification criteria using authentic product testing data, with detailed reasoning for each outcome."}},
  "design":    {lv:4,lbl:"Design",    s:"Create a detailed, thoughtful plan with a clear purpose - think it all the way through!",
    ex:{1:"Design a drop test: drop the product from 1 metre 5 times and check for damage.",2:"Design a usability test: ask 10 users to complete 3 tasks, time each task, and rate difficulty from 1 to 5.",3:"Design relevant testing methods: a strength test, a user survey with 10 questions, and a durability test with 100 open/close cycles.",4:"Design detailed and relevant testing methods for all 6 specification criteria, each generating quantitative data that can be directly compared to the target values."}},
  "designs":   {lv:4,lbl:"Designs",   s:"Creates a detailed, thoughtful plan with a clear purpose.",
    ex:{1:"Designs a test: puts the product under running water for 1 minute to check waterproofing.",2:"Designs a relevant test: measures grip strength needed to open the lid 20 times with different users.",3:"Designs relevant testing methods that generate numerical data for each success criterion.",4:"Designs detailed and relevant testing methods that generate accurate, reliable data for every criterion in the design specification."}},
  "prioritize":{lv:4,lbl:"Prioritize",s:"Put things in order from MOST important to least important, and explain why.",
    ex:{1:"I prioritize user safety first, then cost, then aesthetics - because a product that hurts someone is worthless.",2:"I prioritize primary research (my own survey) over secondary research because it is specific to my client.",3:"I prioritize: 1. User needs survey (most important), 2. Existing product analysis (second), 3. Material costs (third). Each ranked with reasons.",4:"I prioritize all research areas based on relevance to my design brief, explaining the impact each will have on my final specification decisions."}},
  "prioritizes":{lv:4,lbl:"Prioritizes",s:"Puts things in order from most important to least, and explains why.",
    ex:{1:"Prioritizes: safety over aesthetics because the product is used by young children.",2:"Prioritizes primary and secondary research, with primary listed first because it is more directly relevant.",3:"Prioritizes research by impact: user needs first, materials second, costs third - each ranked with a brief explanation.",4:"Prioritizes all research areas with detailed justification for the ranking based on their influence on the design specification."}},
  "summarize": {lv:4,lbl:"Summarize", s:"Bring together all the key points into one short, clear wrap-up.",
    ex:{1:"In summary: my research showed that users want something cheap, small, and easy to use.",2:"To summarize: the analysis found that existing products are either too expensive or too fragile, leaving a gap for my design.",3:"I summarize the analysis: three key themes emerged - users prioritize portability, durability, and low cost. These form the basis of my design specification.",4:"I summarize the detailed analysis of all research, identifying the three most critical insights and explaining how each directly shapes a specific design specification criterion."}},
  "summarizes":{lv:4,lbl:"Summarizes",s:"Brings together all the key points into a short, clear wrap-up.",
    ex:{1:"Summarizes the findings in two sentences: users need a portable solution. Cost must stay under $5.",2:"Summarizes analysis of relevant research: the key finding is that users aged 12-16 prefer simple, one-handed operation.",3:"Summarizes the analysis clearly, pulling out the most important findings and linking them to design decisions.",4:"Summarizes a detailed analysis by identifying the core insights across all research sources and mapping them to specific design specification criteria."}}
};

var LBL   = ["1-2 Not Yet There","3-4 Meeting","5-6 Exceeding","7-8 Excelling"];
var LNAME = ["Not Yet There","Meeting","Exceeding","Excelling"];
var LCLS  = ["lv1","lv2","lv3","lv4"];
var GLBL  = {MYP1:"MYP 1 (Grade 6)",MYP3:"MYP 3 (Gr. 7-8)",MYP5:"MYP 5 (Gr. 9-10)"};
var CCOL  = {A:"#29a8d4",B:"#d49800",C:"#28a85e",D:"#e03c3c"};
var CBG   = {A:"#e4f5fb",B:"#fef3c7",C:"#e2f7ec",D:"#fdeaea"};

var PROG_NOTES = {
  A:{
    0:{1:"Starting point: just SAY the need exists - one clear statement. No reasons or depth needed yet.",
       2:"Step up! Now give a quick OVERVIEW of why the need exists - the main points around it, not just a single statement.",
       3:"Bigger jump! Now you must EXPLAIN WHY the need exists - reasons, causes, and context. Link the problem to the real world.",
       4:"The highest bar! Both EXPLAIN deeply AND JUSTIFY with strong reasoning and evidence. Why does this specific client need this solution, and why does it matter?"},
    1:{1:"Starting level: just WRITE DOWN your research findings. No plan needed - just show what you found.",
       2:"Now IDENTIFY what research you need to do - but with some teacher help. You are starting to think ahead.",
       3:"Big step! Now independently BUILD a research plan and RANK what is most important. You are organising your own thinking.",
       4:"The top! Fully independent, detailed research plan. Explain WHY each piece of research matters and rank them with clear reasons. No help needed."},
    2:{1:"Not applicable at this level.",
       2:"Look at ONE existing product and pick out its main features. Simple identification - no deep thinking yet.",
       3:"Now look at a RANGE of products and DESCRIBE them - features, qualities, comparisons. More thorough than one product.",
       4:"Go deep! ANALYSE many products - break down what works, what does not, and WHY. Find patterns and draw conclusions that inform your own design."},
    3:{1:"Not applicable at this level.",
       2:"Give a quick OVERVIEW (outline) of some of the key research findings. Just the highlights - no depth.",
       3:"Outline ALL the main research findings, not just some. More complete coverage.",
       4:"Bring everything together - SUMMARISE the full analysis of all your research into a clear, connected design brief. Show how your research led to your design decisions."}
  },
  B:{
    0:{1:"Write ONE basic success criterion. Just one! The start of understanding what the product must do.",
       2:"A few criteria - still simple. You are starting to list what matters but without much detail or research backing.",
       3:"Start to DEVELOP the criteria - making them more specific, measurable, and meaningful. Getting more rigorous.",
       4:"A full, detailed specification. Every criterion is explained, linked to research evidence, and clearly testable. Nothing vague."},
    1:{1:"Show ONE design idea that someone else can understand. Basic but a real starting point.",
       2:"Multiple ideas now! You label features or use a medium so others can follow. Quantity and clarity both improve.",
       3:"A RANGE of feasible ideas - each one realistic and labelled with key features explained. Not just sketches.",
       4:"Full range of ideas with detailed annotation. Each idea is clearly presented, thoroughly labelled, and correctly interpreted by any reader."},
    2:{1:"You have started making a planning drawing, but it is incomplete. That is okay - it is the beginning.",
       2:"You CHOOSE a design and state its key features. Simple selection with basic description.",
       3:"You present the chosen design and outline WHY you chose it, with reference to your specification.",
       4:"Full justification - explain AND prove why your chosen design is the best option, with detailed links to every relevant criterion in your specification."},
    3:{1:"Not applicable at this level.",
       2:"A planning drawing OR a list of requirements. One or the other - you are beginning to show HOW you will make it.",
       3:"Both a drawing AND a list of requirements. More complete - someone else could follow this.",
       4:"Accurate, detailed drawings AND a thorough outline of requirements. Another student could use this to build your solution."}
  },
  C:{
    0:{1:"Minimal skills shown. Work is incomplete or poorly planned.",
       2:"You LIST the main steps but a peer would struggle to follow. It is there, but not clear enough.",
       3:"Your steps are clear enough that a peer COULD follow them. Time and resources are considered.",
       4:"A full OUTLINE of a plan - clear, considers time and resources efficiently, and a peer can successfully use it to recreate your solution."},
    1:{1:"Work functions poorly and is incomplete. A starting point, but significant improvement needed.",
       2:"Satisfactory skills - the product mostly works and is presentable, even if not perfect.",
       3:"Competent skills - the product works properly and is presented well. You are doing what was expected.",
       4:"Excellent skills - the product is made to a high standard, works exactly as intended, and is presented professionally."},
    2:{1:"Not applicable at this level.",
       2:"Product PARTIALLY works and is adequately presented. Something exists, but not fully functional.",
       3:"Product WORKS AS INTENDED and is presented appropriately. You achieved what you set out to do.",
       4:"You FOLLOWED your plan AND created a solution that works as intended. The link between planning and making is clear."},
    3:{1:"Not applicable at this level.",
       2:"You mention ONE change you made. Just one - very basic awareness that things shifted.",
       3:"You OUTLINE changes - a bit more detail, covering both design and plan changes.",
       4:"You EXPLAIN or JUSTIFY every change - not just what changed, but WHY you changed it and how it improved the solution."}
  },
  D:{
    0:{1:"You DEFINE a testing method - you say what the test is. Very basic, no data yet.",
       2:"You define a RELEVANT test that generates actual data. The test is connected to what you are measuring.",
       3:"Multiple relevant tests, all generating data. More coverage of your success criteria.",
       4:"Detailed, relevant tests - thorough, accurate, and covering all the criteria you need to measure."},
    1:{1:"You just SAY whether it worked or not. One statement - no evidence, no depth.",
       2:"You check your solution against your specification using a test. Some evidence used.",
       3:"More thorough check - describe or explain success against multiple criteria with real test data.",
       4:"Critical evaluation - go deep on every criterion, using authentic testing data. Honest about what worked AND what did not."},
    2:{1:"Not applicable at this level.",
       2:"You STATE one improvement. Just one idea - the beginning of reflective thinking.",
       3:"You OUTLINE how it could be improved. More than one point, but not deeply explained.",
       4:"You DESCRIBE or EXPLAIN improvements in detail - specific, realistic, and connected to your evaluation evidence."},
    3:{1:"Not applicable at this level.",
       2:"You STATE one way the solution impacts the client. One point - very basic.",
       3:"You OUTLINE the impact - a few key points about how the solution affects the client.",
       4:"You DESCRIBE or EXPLAIN the impact in detail - thorough, specific, and connected to your testing and evaluation."}
  }
};

var PROG_EX = {
  A:{
    0:{1:"The problem is that students at my school do not have enough storage for their devices.",
       2:"Students need a solution because they have nowhere safe to store their laptops at school. This means devices get damaged or stolen regularly.",
       3:"There is a need for a secure device storage solution because students are increasingly using personal laptops, yet the school provides no dedicated storage. This leads to theft, damage, and distraction during class.",
       4:"My target audience - MYP students aged 11-16 - need a secure, accessible device locker because current storage options are inadequate, leading to device theft (3 incidents this term). I justify this need by citing survey data showing 78% of students have experienced a storage problem, and teacher feedback confirming it disrupts learning."},
    1:{1:"I found that most students prefer lightweight bags. I also found that waterproof materials are popular.",
       2:"I need to research: what materials are waterproof, how much students can afford, and what sizes fit in school lockers. I will start with a survey of 20 students.",
       3:"Research plan: 1. User needs survey (MOST IMPORTANT - tells me what to design). 2. Existing product analysis (shows what already works). 3. Material cost comparison (limits my choices). 4. Safety standards (legal requirements). I prioritized user needs first because without understanding my client, all other research is meaningless.",
       4:"Research Plan - Prioritized by impact on design decisions: [1] User survey - PRIMARY, highest priority because it defines success criteria directly. [2] Existing product analysis - SECONDARY, identifies proven solutions I can learn from. [3] Material testing data - needed to meet durability criterion. [4] Cost benchmarking - must stay within the $15 budget constraint. Each piece of research is justified by its direct link to a specific design specification criterion."},
    2:{1:"Not applicable at this level.",
       2:"I looked at the IKEA KALLAX shelf unit. It has compartments (good for organisation), is made from particleboard (cheap but not durable), and has no lock (not secure). The compartment feature is most useful for my design.",
       3:"I looked at 5 existing device storage solutions. Most successful products share two features: security and organisation. The gap in the market is an affordable, portable, secure solution - no existing product provides all three.",
       4:"I analysed 6 existing products in detail, comparing security features, portability, durability, cost, and ergonomics. Key finding: the most successful products balance security with ease of use, but none are under $30. Products under $30 lack security features. This gap directly informs my design specification and shapes my entire design approach."},
    3:{1:"Not applicable at this level.",
       2:"My research found that students want something cheap, small, and easy to use. Most said waterproof is important.",
       3:"My design brief outlines the key research findings: user survey showed price, portability, and security are the top three priorities. Product analysis revealed no existing solution meets all three within budget. These findings will guide my design.",
       4:"Design Brief: My research analysis reveals three critical insights. First, 78% of surveyed users prioritize security over all other features. Second, no existing product under $20 includes a locking mechanism. Third, users prefer single-handed operation due to heavy backpack loads. I therefore summarise the design direction as: a sub-$15, portable, lockable device organiser, operable with one hand, targeting MYP students. Every specification criterion derives from one of these three research conclusions."}
  },
  B:{
    0:{1:"The product must be waterproof.",
       2:"Success criteria: 1. Must be waterproof. 2. Must fit in a school bag. 3. Must cost under $10. 4. Must hold at least one laptop.",
       3:"Design Specifications: 1. WATERPROOF - tested by submerging for 10 seconds without leakage. 2. PORTABLE - maximum dimensions 35x26x5cm to fit standard school bag. 3. AFFORDABLE - total material cost under $10. 4. SECURE - includes a locking mechanism that passes a 5-attempt forced-entry test.",
       4:"Detailed Design Specifications - each linked to research evidence: [1] Waterproof (IPX4 standard) - 82% of users rated waterproofing as essential in survey. Test: 10-second spray test, no internal moisture. [2] Dimensions less than 35x26x4.5cm - 90% of school bags sampled fit this size. [3] Cost under $12 - budget limit confirmed by parent survey. [4] Locking mechanism - 3 out of 3 focus group sessions identified security as primary concern."},
    1:{1:"[Rough sketch of a rectangular bag with a zip] This is my design for a device storage bag.",
       2:"Design Idea 1: A rectangular padded bag with a zip and a handle. Design Idea 2: A rigid plastic case with a snap-lock lid. Both drawn with labels showing main parts.",
       3:"Design Idea A: Soft padded neoprene sleeve with magnetic closure - lightweight, fits criterion 2. Idea B: Hard plastic case with combination lock - meets security criterion but heavier. Idea C: Fabric pouch with velcro and built-in charger pocket. All three are feasible with available materials.",
       4:"Design Idea A: Neoprene sleeve - meets criteria 1, 2, 3. Fails criterion 4 (no lock). Idea B: Rigid ABS case with 3-digit lock - meets criteria 1, 3, 4. Risk: slightly over size limit. Idea C: Canvas bag with padlock loop - meets all 4 criteria, lowest cost at $8.20. Each idea annotated with material, dimensions, estimated cost, and which criteria it meets or misses."},
    2:{1:"[Incomplete planning sketch - front view only, no labels or dimensions]",
       2:"I chose Design C - the canvas bag with padlock loop. It has a main compartment, a zip pocket, and a padlock loop on the side.",
       3:"I chose Design C because it meets 3 out of 4 specification criteria and was rated highest (4.2/5) in peer feedback. The padlock loop addresses the security criterion. The main weakness is that it is not fully waterproof - I will address this by using a waterproof canvas material.",
       4:"I chose Design C and fully justify this selection: [Criterion 1 - Waterproof] Design C uses 600D waterproof polyester. [Criterion 2 - Portable] Dimensions 34x25x4cm fit within limit. [Criterion 3 - Cost] Estimated at $9.40, within $12 budget. [Criterion 4 - Secure] Padlock loop tested with 3 different padlocks - all fit. Peer review score: 4.4/5 (highest of all three designs). Design C is the only option meeting all four criteria simultaneously."},
    3:{1:"Not applicable at this level.",
       2:"Steps to make my product: 1. Cut the fabric. 2. Sew the sides together. 3. Attach the zip. 4. Add the padlock loop. [Simple sketch showing front view with zip]",
       3:"Planning drawings: [Front view with dimensions, Side view showing depth, Exploded view showing layers]. Requirements list: 60x52cm waterproof canvas, 35cm zip, 15cm padlock loop strap, 40cm webbing handle, 4 rivets, thread.",
       4:"Accurate planning drawings (front, side, back, and exploded views - all dimensioned). Requirements: full materials list with quantities, costs, and sources. Construction sequence with notes: double-stitch all load-bearing seams; test zip function before final assembly. Another student successfully followed this plan in a trial run."}
  },
  C:{
    0:{1:"[Product attempted but not finished. Some pieces cut but not assembled. No plan submitted.]",
       2:"My plan: 1. Cut fabric. 2. Sew. 3. Add zip. 4. Attach handle. [No times, no materials listed - classmate says they could not follow it]",
       3:"My plan: Step 1 - Cut fabric pieces (30 min, need: fabric, scissors, pattern). Step 2 - Sew side seams (45 min, need: sewing machine, thread). Step 3 - Attach zip (20 min). Step 4 - Add handle and padlock loop (15 min). Total: 110 min across 2 lessons. Classmate confirmed they could follow this plan.",
       4:"Production Plan: [Gantt chart showing 4 lessons]. Each lesson has a task list, materials needed, and a time buffer for errors. Resource list per lesson included. Peer confirmed plan is followable from written instructions alone."},
    1:{1:"[Product attempted but zip is broken, sides are uneven, and lining is missing. Not usable as intended.]",
       2:"My bag is mostly complete. The zip works, the handle is attached, and it holds a laptop. The stitching is a bit uneven in places but it is functional.",
       3:"My bag is fully complete. The zip functions smoothly, all seams are even, the padlock loop is secure, and the product matches my planning drawings. Presented cleaned and pressed.",
       4:"My bag demonstrates excellent making skills: all seams are bar-tacked at stress points, the zip is double-stitched for durability, the padlock loop withstood a 5kg load test without deforming, and the waterproof coating was applied evenly. The product is identical in dimensions to my planning drawings."},
    2:{1:"Not applicable at this level.",
       2:"My bag is partially complete - the zip is attached but the padlock loop is missing. It can hold a laptop but is not yet fully secure.",
       3:"My bag functions exactly as intended - the zip works, the padlock loop is functional, it holds a 15-inch laptop, and the waterproofing was confirmed by a 10-second spray test.",
       4:"I followed my plan exactly and created a fully functional solution. The product passed all four specification tests: [1] Spray test - no moisture inside. [2] Fit test - 15-inch laptop fits. [3] Padlock test - loop accepts standard padlock. [4] Load test - handle holds 3kg without deformation."},
    3:{1:"Not applicable at this level.",
       2:"I changed the size of the main compartment because my laptop did not fit the original design.",
       3:"Changes made during making: [1] Increased main compartment from 33cm to 36cm width - laptop did not fit original dimensions. [2] Changed from velcro to zip closure - velcro did not hold under load. These changes affected both the design and the material plan.",
       4:"Changes and justifications: [1] Width increased 33 to 36cm - during cutting, test-fit revealed the laptop was 2cm too wide. Changed pattern immediately. [2] Velcro replaced with zip - after first assembly, velcro failed load test (held only 1.2kg vs 3kg target). [3] Handle strap doubled from single to double layer - single layer deformed under 2kg load during trial. All three changes improved the solution and brought it closer to meeting the original specification criteria."}
  },
  D:{
    0:{1:"My test: I will fill the bag with water and see if it leaks.",
       2:"Test 1 - Waterproof test: I will spray the bag with water for 10 seconds and check inside for moisture. This generates a pass/fail result I can compare to Criterion 1.",
       3:"Test 1 - Waterproof (Criterion 1): Spray bag for 10 seconds, check inside for moisture. Result: pass/fail. Test 2 - Load capacity (Criterion 2): Fill bag with 3kg, carry for 1 minute, check handle deformation. Test 3 - User satisfaction (Criterion 4): Ask 5 users to rate ease of use 1-5 after using bag for 5 minutes.",
       4:"Testing Plan - 4 tests, one per specification criterion: [C1 - Waterproof] Spray test (10 sec, IPX4 standard), measured with moisture detector inside. Target: 0% moisture. [C2 - Portable] Dimension verification with measuring tape, 3 measurements averaged. Target: under 35x26x4.5cm. [C3 - Cost] Material receipt comparison vs $12 budget. [C4 - Security] Padlock loop load test: 3 users apply force to locked padlock. Target: no deformation after 5kg load. Each test generates quantitative data directly comparable to the target value in the specification."},
    1:{1:"My bag works. It holds my laptop and the zip closes.",
       2:"Test 1 result: bag passed the spray test (no moisture inside). Test 2 result: bag measured 34x24x4cm - within the limit. My solution meets specification criteria 1 and 2.",
       3:"Evaluation against specification: [C1 - Waterproof] PASS - no moisture detected after spray test. [C2 - Portable] PASS - dimensions within limit. [C3 - Cost] PASS - total cost $9.40, under $12 budget. [C4 - Security] PARTIAL PASS - padlock loop held 4kg but deformed slightly at 5kg. Overall: product met 3 out of 4 criteria fully.",
       4:"Critical Evaluation - all criteria tested with authentic data (3 trials each): [C1] PASS - spray test: 0% moisture on all 3 trials. [C2] PASS - dimensions confirmed. [C3] PASS - cost $9.40 (21% under budget). [C4] PARTIAL FAIL - padlock loop deformed at 4.8kg (target 5kg). Root cause: single-layer strap insufficient. [C5] PASS - user satisfaction: 4.4/5. [C6] PARTIAL FAIL - weight 480g (target under 400g). Root cause: waterproof canvas heavier than estimated. Summary: 4 full passes, 2 partial fails. Detailed improvement recommendations provided for each failure."},
    2:{1:"Not applicable at this level.",
       2:"My bag could be improved by making the padlock loop stronger so it holds more weight.",
       3:"Improvements: [1] Reinforce padlock loop with double-layer strap - current version failed at 4.8kg vs 5kg target. [2] Reduce canvas weight by switching to 420D nylon (saves 80g, still waterproof). These two changes would address the two partial failures in my evaluation.",
       4:"Detailed Improvement Plan based on evaluation failures: [C4 - Padlock loop] Current: single-layer strap. Improvement: replace with double-layer bar-tacked strap (estimated cost +$0.40). Evidence: failed load test at 4.8kg; double-layer strap in similar products holds 8kg. [C6 - Weight] Current: 600D polyester canvas. Improvement: switch to 420D ballistic nylon - same waterproofing, weight saving of 65-80g, cost neutral. Both improvements are feasible within the original budget and would bring the product to full specification compliance."},
    3:{1:"Not applicable at this level.",
       2:"My bag helps students keep their laptops safe at school.",
       3:"Impact on target audience: [1] Students can now carry their laptops securely without risk of theft - the padlock addresses the main concern raised in my survey. [2] The lightweight design reduces additional backpack load. [3] 4 out of 5 test users said they would use this product daily.",
       4:"Impact Analysis - measured outcomes: [Security] 5/5 test users confirmed the padlock loop made them feel their laptop was secure. [Usability] Average task completion time: 8 seconds (open, store, close, lock) - one-handed operation confirmed. [Adoption] 4/5 test users said they would use this daily; 1 user requested a larger size for a 17-inch laptop. [Limitation] Product does not include a charging port, which 3/5 users requested - this would be addressed in Version 2. Overall: the solution directly addresses the identified need for 80% of target users, with one clear gap identified for future development."}
  }
};

// Unit + Grade specific progression examples
// Structure: UNIT_PROG_EX[unitKey][grade][crit][strandIndex][level 1-4]
var UNIT_PROG_EX = {
  "MYP1-PD-desk-organizer": {
    MYP1: {
      A: {
        0: {1:"Students at my school need somewhere to keep their stationery tidy on their desks.",
            2:"Students need a desk organizer because pens and rulers get lost on messy desks, which wastes learning time.",
            3:"There is a need for a desk organizer because Grade 6 students regularly lose stationery on cluttered desks, disrupting lessons. No low-cost organizer currently meets student needs.",
            4:"My client - Grade 6 students aged 11-12 - need a low-cost, durable desk organizer because current options are expensive or break quickly. My survey of 20 classmates showed 85% lose a pen at least once a week."},
        1: {1:"I found that most students have 5-10 items they need on their desk.",
            2:"I need to research: what items students keep on desks, what materials are available in the D&T room, and how much a product should cost.",
            3:"Research plan: 1. Survey classmates about desk items (PRIMARY - most important). 2. Measure desk dimensions (PRIMARY). 3. Look at existing organizers online (SECONDARY). 4. Research materials available in school (SECONDARY).",
            4:"Research Plan: [1] Student survey - PRIMARY, highest priority; defines what the organizer must hold. [2] Desk dimension measurements - PRIMARY; defines size constraints. [3] Existing product analysis - SECONDARY; reveals what features work. [4] Material properties research - SECONDARY; informs construction choices. Each is justified by its direct link to a specification criterion."},
        2: {1:"Not applicable at this level.",
            2:"I looked at the MUJI pen pot. It has separate compartments (useful), is made of clear plastic (easy to see contents), and has no lid (things can fall out). The compartment idea is good for my design.",
            3:"I looked at 3 desk organizers: a wooden one (sturdy but expensive), a plastic one (cheap but flimsy), and a cardboard one (recyclable but not durable). All have separate sections. I will use separate sections in my design.",
            4:"I analysed 4 organizers using ACCESS FM. Key findings: the strongest used birch plywood; the most popular had 3+ compartments; none used recycled materials. This gap informs my decision to use recycled cardboard with a reinforced base."},
        3: {1:"Not applicable at this level.",
            2:"My research found that students keep pens, rulers, scissors, and a calculator on their desks. Size and low cost are most important.",
            3:"Design brief: Students need a compact, low-cost organizer. Survey shows 4 compartments minimum, max cost $5, must fit a 30cm ruler. Materials available: cardboard, balsa wood, craft sticks.",
            4:"Design Brief: Survey data (n=20) shows 90% want 4+ compartments, 100% want it under $5, 70% prefer natural materials. No existing product under $5 has 4 compartments and fits a ruler. My solution must address all three gaps. Every specification criterion derives directly from this analysis."}
      },
      B: {
        0: {1:"My organizer must hold pens.",
            2:"Success criteria: 1. Hold at least 4 types of stationery. 2. Fit on a school desk. 3. Cost under $5.",
            3:"Specifications: 1. CAPACITY - hold pen, ruler, scissors, calculator (tested by fitting all 4). 2. SIZE - max 25x15x10cm. 3. COST - under $5 materials. 4. DURABILITY - survive a 30cm drop test without breaking.",
            4:"Detailed Specifications linked to research: [1] 4+ compartments (90% of survey). [2] Fits 30cm ruler (100% of users own one). [3] Under $5 (budget confirmed by class survey). [4] Withstands 30cm drop (school use context). [5] Made from natural/recycled material (70% preference)."},
        1: {1:"[Sketch of a box with sections]",
            2:"Idea 1: cardboard box with dividers. Idea 2: craft stick frame with sections. Both labelled.",
            3:"Idea A: Cardboard box with 4 compartments - cheap, recyclable, meets cost criterion. Idea B: Balsa wood frame - sturdier, natural look, slightly over budget. Idea C: Cardboard tube cluster - creative, low cost, limited by tube availability.",
            4:"Idea A: Cardboard - meets criteria 1,2,3 but risks failing durability. Idea B: Balsa wood - meets all 5 criteria, natural material, estimated $4.20. Idea C: Tube cluster - meets cost and size, fails ruler compartment. Each idea annotated with dimensions, materials, cost, and criteria met."},
        2: {1:"[Incomplete sketch, no labels]",
            2:"I chose Idea B - the balsa wood frame. It has 4 sections and looks good.",
            3:"I chose Idea B because it meets 4 out of 5 criteria and was rated best by 3 out of 4 peers. The natural wood look matches the brief. Main weakness: ruler compartment is slightly narrow - I will widen it to 4cm.",
            4:"I chose Idea B and justify fully: [C1] 4 compartments confirmed. [C2] 24x14x9cm - within limit. [C3] Estimated $4.20 - under $5. [C4] Drop test simulation (table edge) shows balsa at 3mm withstands impact. [C5] Natural balsa wood - meets material preference. Peer review: 4.3/5, highest of all ideas."},
        3: {1:"Not applicable at this level.",
            2:"Steps: 1. Cut balsa. 2. Glue sides. 3. Add dividers. 4. Sand and finish.",
            3:"Planning drawings (top, front, side views with dimensions). Requirements: 4x balsa sheet 200x100x3mm, PVA glue, sandpaper, ruler, pencil.",
            4:"Accurate dimensioned drawings (4 views). Full materials list with quantities and costs. Construction sequence with estimated times and safety notes. Peer successfully completed trial build from this plan."}
      },
      C: {
        0: {1:"[Organizer started but sides not glued. No plan submitted.]",
            2:"Plan: Cut balsa, glue, sand. Classmate says it was hard to follow.",
            3:"Plan: Step 1 - Cut 6 balsa pieces to dimensions (20 min). Step 2 - Glue base and sides (15 min, clamp 10 min). Step 3 - Cut and fit 3 dividers (20 min). Step 4 - Sand and apply finish (15 min). Classmate confirmed they could follow it.",
            4:"Detailed plan with times, materials, safety notes, and quality checks at each step. Trial build confirmed by peer."},
        1: {1:"[Sides unglued, no dividers, not functional as organizer.]",
            2:"My organizer holds pens and is mostly complete. The dividers are a bit uneven but it works.",
            3:"My organizer is complete. All 4 compartments are the correct size, sides are square and secure, sanded smooth, and the ruler fits.",
            4:"Excellent craftsmanship: all cuts within 1mm of plan, PVA joints reinforced with balsa triangles at corners, surface sanded to 240 grit, finished with natural beeswax. Product is identical to planning drawings."},
        2: {1:"Not applicable at this level.",
            2:"My organizer can hold pens but the ruler compartment is too narrow.",
            3:"My organizer works as intended: holds pen, ruler (fits exactly), scissors, and calculator. All compartments function correctly.",
            4:"I followed my plan and the product passes all 4 specification tests. [C1] All 4 items fit - confirmed. [C2] Dimensions 24x13.5x9cm - within limit. [C3] Cost $4.10. [C4] 30cm drop test - no damage on all 3 trials."},
        3: {1:"Not applicable at this level.",
            2:"I made the ruler compartment wider because the ruler did not fit.",
            3:"Changes: [1] Widened ruler slot from 3cm to 4.5cm - ruler did not fit original size. [2] Added balsa corner triangles - sides were not square after initial gluing.",
            4:"Changes and justifications: [1] Ruler slot widened 3→4.5cm - test-fit revealed ruler was 3.8cm wide, original slot too narrow. [2] Corner triangles added - sides moved 2° out of square during drying; triangles corrected this. [3] Base thickness increased 3mm→6mm - base flexed under load during trial. All 3 changes improved the solution."}
      },
      D: {
        0: {1:"My test: I will put my pens in and see if they fit.",
            2:"Test 1 - Capacity: place pen, ruler, scissors, calculator into organizer. Pass if all fit upright. This checks Criterion 1.",
            3:"Test 1 - Capacity (C1): all 4 items placed, pass/fail. Test 2 - Size (C2): measure with ruler, compare to spec. Test 3 - Cost (C3): add up receipts. Test 4 - Drop test (C4): drop from 30cm, check for breakage.",
            4:"Testing plan - one test per specification criterion: [C1] Capacity test - all 4 items placed simultaneously; pass = all fit upright. [C2] Dimension check - 3 measurements with ruler, averaged; target ≤25x15x10cm. [C3] Cost audit - total all material receipts; target ≤$5. [C4] Drop test - 3 drops from 30cm onto desk surface; pass = no structural damage. Each test generates data directly comparable to the specification."},
        1: {1:"My organizer works - the pens fit.",
            2:"Test results: C1 PASS (all 4 items fit). C2 PASS (24x13.5x9cm). My product meets 2 out of 4 criteria tested.",
            3:"Evaluation: [C1] PASS - all 4 items fit. [C2] PASS - dimensions within limit. [C3] PASS - $4.10. [C4] PARTIAL PASS - survived 2 of 3 drops; small crack appeared on 3rd drop. Overall: meets 3 of 4 criteria fully.",
            4:"Critical evaluation (3 trials each): [C1] PASS - all items fit on all trials. [C2] PASS. [C3] PASS - $4.10, 18% under budget. [C4] PARTIAL FAIL - cracked on 3rd drop from 30cm. Root cause: single-layer base (3mm) insufficient for impact. Recommendation: use 6mm base in Version 2."},
        2: {1:"I could make the compartments bigger.",
            2:"I would make the ruler slot wider and add a compartment for a phone.",
            3:"Improvements: [1] Increase base thickness to 6mm - current version cracked on drop test. [2] Add phone slot (90mm wide) - requested by 3 out of 5 test users.",
            4:"Improvement plan: [C4 - Drop durability] Current: 3mm base. Improvement: 6mm laminated base (evidence: cracked at 30cm; commercial products use 6mm+). [Phone slot] 3/5 users requested this - add 90mm compartment by widening overall design by 15mm. Both feasible within $5 budget."},
        3: {1:"My organizer helps students keep their pens tidy.",
            2:"My organizer helps students keep their desk tidy. They can find their ruler faster now.",
            3:"Impact: [1] All 4 test users found their stationery faster (average 4 seconds vs 12 seconds searching). [2] 4/5 users said they would use it daily. [3] Natural wood look was rated 4.2/5 for aesthetics.",
            4:"Impact analysis: [Usability] Average item-retrieval time: 4 sec with organizer vs 11 sec without (measured, n=5). [Adoption] 5/5 users would use daily. [Aesthetics] Rated 4.2/5. [Limitation] Phone slot absent - 3/5 users requested this. Version 2 will include it."}
      }
    }
  },
  "MYP1-DD-scratch": {
    MYP1: {
      A: {
        0: {1:"Students at my school find some subjects boring and hard to learn.",
            2:"Students need an educational game because some topics feel dull in class - a fun game could make learning more engaging.",
            3:"There is a need for an educational Scratch game because students struggle to stay engaged with certain topics. Games make learning interactive, but few free educational games exist for our specific curriculum topics.",
            4:"My target audience needs an educational Scratch game because passive learning methods fail to engage many students. A survey of 20 classmates showed 80% said they learn better when they can interact with content rather than just read it."},
        1: {1:"I found that most students play games for fun and that educational games exist online.",
            2:"I need to research: what topics students find boring, what makes a good game, and what Scratch can do.",
            3:"Research plan: 1. Survey classmates about boring topics and game preferences (PRIMARY). 2. Play 3 existing educational games and analyse them (SECONDARY). 3. Research Scratch features and limits (SECONDARY). 4. Define my target audience and their needs (PRIMARY).",
            4:"Research Plan: [1] Audience survey - PRIMARY, top priority; tells me what topic and difficulty to design for. [2] Existing game analysis - SECONDARY; reveals what game mechanics work for education. [3] Scratch capability research - SECONDARY; defines what is technically possible. [4] Curriculum topic analysis - SECONDARY; ensures educational accuracy. Each piece directly shapes a specification criterion."},
        2: {1:"Not applicable at this level.",
            2:"I looked at 'Prodigy Math'. It has a quiz format (educational), colourful sprites (engaging), and gets harder as you progress (good pacing). The quiz format could work for my game.",
            3:"I analysed 3 educational games: Prodigy (strong quiz mechanic, too complex for Scratch), Kahoot (competitive and engaging, not self-paced), Quizlet Live (good for vocab, limited interaction). The best mechanic is immediate feedback after each answer.",
            4:"I analysed 4 educational games using ACCESS FM adapted for digital products. Key patterns: all successful games give immediate feedback; all have clear win/lose states; none are free AND curriculum-specific. This gap - free, curriculum-specific, immediately rewarding - is exactly what my Scratch game will fill."},
        3: {1:"Not applicable at this level.",
            2:"My research found that students want a fun game about [topic]. It should not be too hard and should give points for right answers.",
            3:"Design brief: Target audience wants a game about [topic] with simple controls, immediate feedback, and 3 difficulty levels. Must run in a web browser for free. Scratch is the right tool based on technical research.",
            4:"Design Brief: Survey data shows 85% want immediate right/wrong feedback, 75% prefer single-player, 90% want the game to be completable in one lesson (10-15 min). No free Scratch game currently covers [topic] at the right difficulty level. My game must fill this gap with curriculum-accurate content, immediate feedback, and a visible score system."}
      },
      B: {
        0: {1:"My game must teach [topic].",
            2:"Success criteria: 1. Teach [topic]. 2. Be completable in one lesson. 3. Have a score system. 4. Run without crashing.",
            3:"Specifications: 1. EDUCATIONAL - covers [specific learning objective], tested by curriculum check. 2. TIME - completable in 10-15 minutes, timed test. 3. ENGAGING - player scores increase with correct answers. 4. STABLE - runs 5 complete playthroughs without crashing.",
            4:"Detailed Specifications: [1] Educational accuracy - covers [3 specific concepts from the curriculum], verified by teacher review. [2] Completable in 10-15 min (85% of users want this). [3] Score system with at least 3 difficulty levels. [4] 0 crashes across 5 full playthroughs. [5] Age-appropriate content - no disturbing imagery, confirmed by peer review."},
        1: {1:"[Rough sketch of a game screen with a sprite and some text]",
            2:"Idea 1: A quiz game where you answer questions to advance. Idea 2: A platformer where you collect the correct answers. Both sketched as storyboards.",
            3:"Idea A: Quiz game - sprite asks questions, player clicks correct answer, score increases. Simple but directly educational. Idea B: Platformer with answer collectibles - more engaging, harder to code. Idea C: Memory match game for vocabulary. All three are feasible in Scratch.",
            4:"Idea A: Quiz - meets criteria 1,2,3,4 (simplest to build, lowest crash risk). Idea B: Platformer - most engaging but risks exceeding my Scratch skills; might not be completable in time. Idea C: Memory match - good for vocabulary topics but limited for complex concepts. Annotated with screen layouts, sprite lists, code complexity estimate, and criteria match."},
        2: {1:"[Incomplete storyboard, only 1 screen sketched]",
            2:"I chose Idea A - the quiz game. It has a question sprite, 4 answer buttons, and a score counter.",
            3:"I chose Idea A because it best meets the educational and time criteria. The simple controls mean players focus on the content, not the mechanics. Main risk: it could feel repetitive - I will add a congratulations screen and vary the question order.",
            4:"I chose Idea A: [C1] 10 questions covering 3 learning objectives - confirmed with teacher. [C2] Average playtime in paper prototype: 8 minutes - within limit. [C3] Score counter visible at all times. [C4] Simple code structure - low crash risk. [C5] All sprites age-appropriate. Peer review: 4.1/5 for likely engagement."},
        3: {1:"Not applicable at this level.",
            2:"Steps: 1. Make background. 2. Add question sprite. 3. Add 4 answer sprites. 4. Add score. 5. Test.",
            3:"Storyboard (all 5 screens: intro, game, question, result, end). Sprite list: 1 host sprite, 4 answer buttons, 1 score display, 1 background. Code plan: when green flag clicked → show intro → wait for click → show question 1 → if correct answer clicked → add 1 to score.",
            4:"Full design document: screen-by-screen storyboard, complete sprite list with costumes, pseudocode for all major scripts, variable list (score, questionNumber, lives), and a test plan. Peer successfully built a simplified version from these instructions."}
      },
      C: {
        0: {1:"[Some sprites added but no interaction coded. Game doesn't run.]",
            2:"My game has a question and 2 answer buttons. The score goes up but sometimes the wrong answer also gives a point.",
            3:"My game has 10 questions, 4 answer choices each, a working score counter, and a congratulations screen. A classmate tested it and found 1 bug (timer didn't reset) which I fixed.",
            4:"My game is complete and stable: 10 curriculum-accurate questions, 4 answer choices, dynamic question shuffling using a list variable, animated feedback for correct/incorrect answers, high score display, and a restart option. Tested over 5 full playthroughs with 0 crashes."},
        1: {1:"[Game crashes after question 2. Score doesn't work.]",
            2:"My game works for most questions. The score counts up correctly and the game reaches the end screen.",
            3:"My game works fully: all 10 questions display correctly, score increments accurately, feedback animation plays, and the end screen shows the final score.",
            4:"High standard: all scripts optimised (used lists to eliminate repeated code blocks), smooth transitions between screens, correct answer highlighted in green after each response, final score shown as percentage with a performance message. 5/5 playtesters completed the game without any issues."},
        2: {1:"Not applicable at this level.",
            2:"My game partially works - questions 1-8 work but questions 9 and 10 show the wrong answer as correct.",
            3:"My game works as intended: all 10 questions function correctly, score is accurate, and the game completes as planned.",
            4:"I followed my design document and the game fulfils all 5 specification criteria. Bug log kept throughout development - 4 bugs identified and fixed. All changes documented with reason."},
        3: {1:"Not applicable at this level.",
            2:"I changed the background colour because the text was hard to read.",
            3:"Changes: [1] Changed answer button colour from red to white - red made all answers look 'wrong'. [2] Added a 2-second delay between questions - without it, players accidentally clicked the next question immediately. Both changes were identified during peer testing.",
            4:"Change log: [1] Increased font size from 18 to 24pt - playtester couldn't read on projector. [2] Added 'shuffle list' block to randomize question order - same player was getting same sequence each time. [3] Changed score variable to show as percentage - teacher feedback: absolute score (7/10) is less meaningful than 70%. All changes documented with evidence from testing."}
      },
      D: {
        0: {1:"My test: I will play the game and see if it works.",
            2:"Test 1 - Stability: play through all 10 questions 3 times and check for crashes. Pass if no crashes. This checks Criterion 4.",
            3:"Test 1 - Educational accuracy (C1): teacher reviews all questions and answers; pass = 100% correct. Test 2 - Completion time (C2): time 3 playthroughs; pass if average between 10-15 min. Test 3 - Stability (C4): 5 full playthroughs; pass if 0 crashes. Test 4 - Age-appropriateness (C5): peer panel of 5 rates content 1-5; pass if average ≥4.",
            4:"Testing plan - one test per specification criterion: [C1] Teacher content review (rubric with 10 accuracy checkpoints). [C2] Stopwatch timing of 5 playthroughs; target 10-15 min. [C3] Score accuracy check - 3 testers complete game, compare reported score to manually counted correct answers. [C4] Crash test - 5 full runs on 3 different computers. [C5] Peer panel rating sheet (5 students, 5-point scale for age-appropriateness)."},
        1: {1:"My game works and teaches the topic.",
            2:"Test results: C4 PASS (no crashes in 3 playthroughs). C2 PASS (average 11 minutes). My game meets 2 criteria.",
            3:"Evaluation: [C1] PASS - teacher confirmed all 10 answers correct. [C2] PASS - average 11.5 min. [C3] PASS - score accurate in all tests. [C4] PASS - 0 crashes over 5 runs. [C5] PARTIAL PASS - rated 3.8/5; 1 image was flagged as slightly scary - replaced.",
            4:"Critical evaluation (multiple trials): [C1] PASS - 10/10 questions accurate (teacher verified). [C2] PASS - 11.2 min average (5 trials). [C3] PASS - score 100% accurate across all tests. [C4] PASS - 0 crashes on 3 different devices. [C5] PARTIAL FAIL - 1 sprite rated 2/5 by 2 testers; replaced with neutral character - re-tested at 4.4/5. Full specification met after iteration."},
        2: {1:"I could add more questions.",
            2:"I would add more questions and a timer so it feels more exciting.",
            3:"Improvements: [1] Add a countdown timer per question - 3/5 testers said they wanted more urgency. [2] Add a lives system - currently no consequence for wrong answers, reducing challenge.",
            4:"Improvement plan: [C3 - Engagement] Add a 15-second countdown per question (evidence: 4/5 testers in post-game survey requested this). [C4 - Replayability] Shuffle question order (already partially implemented but list not fully randomised). [Accessibility] Increase font size to 28pt - 1 tester needed glasses and still struggled at 24pt. All improvements feasible in current Scratch version."},
        3: {1:"My game helps students learn [topic].",
            2:"My game helped my classmates learn [topic] in a fun way. 3 out of 5 said they enjoyed it.",
            3:"Impact: [1] 4/5 testers said they learned something new from playing. [2] Average score improved from 5/10 to 8/10 on second playthrough, showing learning occurred. [3] 4/5 would recommend it to a classmate.",
            4:"Impact analysis: [Learning] Average score increased from 4.8/10 (first play) to 7.6/10 (second play) - evidence of learning (n=5). [Engagement] Average session rating 4.1/5. [Adoption] 5/5 said they would play again voluntarily. [Limitation] Game does not adapt difficulty to performance - a future version with branching difficulty would better serve mixed-ability groups."}
      }
    }
  },
  "MYP3-PD-clock": {
    MYP3: {
      A: {
        0: {1:"People throw away lots of useful materials that could be made into something beautiful.",
            2:"There is a need for an upcycled clock because waste materials are often discarded when they could be repurposed into functional products, reducing environmental impact.",
            3:"Upcycled clock designs are needed because landfill waste is growing and consumers are looking for sustainable alternatives to mass-produced homeware. Turning salvaged materials into functional clocks addresses both sustainability and aesthetic needs.",
            4:"My target audience - environmentally-conscious consumers and design students - need a functional upcycled clock because mass-produced clocks use virgin materials and create waste. My survey of 15 people showed 80% would pay a premium for a sustainably-made clock, confirming both market need and the value of upcycled design."},
        1: {1:"I found that vinyl records, tin cans, and wooden pallets can all be made into clocks.",
            2:"I need to research: what salvaged materials are available, how clock mechanisms work, and what upcycled products exist already.",
            3:"Research plan: 1. Collect and test available salvaged materials (PRIMARY). 2. Analyse 3 existing upcycled clock products (SECONDARY). 3. Research clock mechanism fitting requirements (SECONDARY). 4. Survey target audience on aesthetic preferences (PRIMARY). Prioritized by impact on design decisions.",
            4:"Research Plan: [1] Material audit (PRIMARY) - defines what can actually be used. [2] Existing product analysis (SECONDARY) - avoids reinventing working solutions. [3] Clock mechanism specs (SECONDARY) - non-negotiable technical constraint. [4] Audience survey (PRIMARY) - defines aesthetic direction. Each justified by its link to a specification criterion."},
        2: {1:"Not applicable at this level.",
            2:"I looked at a vinyl record clock. It uses the record as the clock face (creative and recognisable), has a standard AA clock mechanism (reliable), but the numbers are hard to read against the black surface. I will use contrasting number markers.",
            3:"I analysed 3 upcycled clocks: vinyl record (iconic but limited shape options), driftwood (natural but irregular), tin lid (flat and rigid - easy to work with). All used the same AA mechanism. The most successful ones had clear number markers and secure mounting.",
            4:"I analysed 5 existing upcycled clocks using ACCESS FM and S&W. Patterns: all successful ones used standard AA mechanisms (C1=Function); all failed when number markers were unclear (C=Customer); materials under 5mm thick required backing for mechanism stability. These findings directly inform my specifications: 5mm+ material thickness, high-contrast markers, standard AA mechanism."},
        3: {1:"Not applicable at this level.",
            2:"My research found that vinyl records work well for clock faces, AA mechanisms fit most materials, and people prefer clocks that look unique.",
            3:"Design brief: Salvaged material available: 2 vinyl records and a wooden offcut. Audience prefers natural/retro aesthetics (survey, n=15). Clock must use standard AA mechanism. Key constraint: must be wall-mountable.",
            4:"Design Brief: Survey reveals that 80% of target audience prioritises unique aesthetics, 73% care about sustainability credentials, and 60% want it wall-mountable. Existing products fail to combine all three at under $20. My design must use genuinely salvaged material, a standard mechanism, clear markers, and wall mounting - all evidenced from research."}
      },
      B: {
        0: {1:"My clock must keep time.",
            2:"Success criteria: 1. Keep accurate time. 2. Use salvaged material for the clock face. 3. Have clear hour and minute markers. 4. Be wall-mountable.",
            3:"Specifications: 1. FUNCTION - keeps accurate time, tested over 24 hours. 2. SUSTAINABILITY - clock face uses at least 70% salvaged/upcycled material. 3. READABILITY - hour markers visible from 3 metres. 4. MOUNTING - wall hook holds product weight without failing.",
            4:"Detailed Specifications: [1] Accuracy: gains/loses less than 2 minutes over 24 hours (AA mechanism standard). [2] Sustainability: ≥70% salvaged material by surface area. [3] Readability: markers legible at 3m distance under standard room lighting (tested with 5 users). [4] Mounting: wall hook holds 1.5x product weight for 10 minutes. [5] Aesthetics: rated ≥4/5 by target audience panel of 5."},
        1: {1:"[Sketch of a round clock face]",
            2:"Idea 1: Vinyl record with painted hour markers. Idea 2: Wooden pallet offcut with burnt number markings. Both sketched with labels.",
            3:"Idea A: Vinyl record with brass number studs - retro aesthetic, meets sustainability criterion, mechanism fits standard record hole. Idea B: Driftwood slab with pyrography numbers - natural look, unique shape. Idea C: Large tin lid with stencilled numbers - industrial look, very flat (mechanism needs longer shaft). All three feasible.",
            4:"Idea A: Vinyl - meets C1,2,3,5; record hole perfectly sized for AA mechanism shaft; brass studs readable at 3m. Idea B: Driftwood - meets C2,5; irregular shape adds character but mounting is harder. Idea C: Tin - meets C1,2,3; requires extended shaft mechanism (extra cost). All annotated with material origin, estimated cost, mechanism compatibility, and criteria met."},
        2: {1:"[One view only, no labels or dimensions]",
            2:"I chose the vinyl record design. I will use brass number studs and a red sweep hand.",
            3:"I chose Idea A (vinyl record) because it scored highest in peer review (4.3/5) and best meets the sustainability and readability criteria. The pre-drilled centre hole simplifies mechanism fitting. Main risk: vinyl can crack when drilled - I will use a slow drill speed and a backing board.",
            4:"I chose Idea A (vinyl) and justify fully: [C1] AA mechanism confirmed to fit standard 7mm hole. [C2] Vinyl record = 100% salvaged material. [C3] Brass studs at 5mm height tested readable at 3m. [C4] Keyhole slot cut into backing board for mounting. [C5] Rated 4.4/5 by audience panel (highest). Only weakness: fragility during drilling - mitigated by using a slow drill with backing board."},
        3: {1:"Not applicable at this level.",
            2:"Steps: 1. Mark 12 positions. 2. Drill pilot holes. 3. Insert mechanism shaft. 4. Attach studs. 5. Add hands.",
            3:"Planning drawings (front and back views, mechanism detail). Requirements: 1 vinyl record, 12 brass studs, 1 AA clock mechanism, 1 set hands, wooden backing, wall bracket, drill.",
            4:"Accurate scale drawings (front, back, mechanism cross-section). Full materials list with sources, quantities, costs. Construction sequence with timings, tool list, safety notes, and quality checks. Peer successfully completed trial fitting from these instructions."}
      },
      C: {
        0: {1:"[Clock face marked but mechanism not fitted. Hands loose.]",
            2:"My clock has the mechanism fitted and the hands attached. The hour markers are a bit uneven.",
            3:"My clock is complete: mechanism fitted securely, all 12 markers positioned accurately using a protractor (30° intervals), hands move freely, and it keeps time. Presented polished.",
            4:"Excellent craftsmanship: 12 markers positioned to within 1° using a custom jig, mechanism shaft secured with epoxy and a washer (no wobble), hands balanced and free-moving, vinyl surface polished, keyhole bracket recessed flush into backing. Product is indistinguishable from a commercial clock in finish quality."},
        1: {1:"[Clock doesn't keep time - mechanism not secured properly.]",
            2:"My clock keeps time and is presentable. The markers are slightly uneven but readable.",
            3:"My clock keeps accurate time, markers are correctly positioned, hands move without catching, and the product is clean and polished.",
            4:"High standard: mechanism wobble-free (epoxy + washer), hands perfectly balanced, surface polished to 1200-grit equivalent, wall bracket rated to 2x clock weight, product matches planning drawings in all dimensions."},
        2: {1:"Not applicable at this level.",
            2:"My clock keeps time but the 12 o'clock marker is slightly off.",
            3:"My clock functions exactly as intended: keeps time, all markers readable, wall-mountable, meets all specification criteria observed during making.",
            4:"I followed my production plan and the clock meets all 5 specification criteria. 24-hour accuracy test: gained 0 minutes. All markers readable at 3m. Bracket held 1.5x weight for 10 minutes."},
        3: {1:"Not applicable at this level.",
            2:"I moved the 12 o'clock marker because it was in the wrong position.",
            3:"Changes: [1] Added a guide template for marker placement - original freehand marking gave 4° error on first attempt. [2] Switched from superglue to epoxy for mechanism - mechanism wobbled after superglue cured.",
            4:"Change log: [1] Marker template created - freehand first attempt gave average 3.2° error; template reduced to 0.5°. [2] Epoxy used instead of superglue for mechanism (superglue failed under torque after 30 minutes of testing). [3] Backing board added - vinyl alone too flexible; mechanism shaft deflected 2mm under normal hand movement. All changes documented with measurements and test evidence."}
      },
      D: {
        0: {1:"My test: I will set the clock and check it after an hour.",
            2:"Test 1 - Accuracy: set to correct time, check after 24 hours. Pass if within 2 minutes. This checks Criterion 1.",
            3:"Test 1 - Accuracy (C1): check time after 24 hours, pass if ≤2 min drift. Test 2 - Readability (C3): 5 users read time from 3m, pass if all 5 correct. Test 3 - Sustainability (C2): measure salvaged vs total surface area, pass if ≥70%. Test 4 - Mounting (C4): hang on wall with 1.5x weight for 10 min, pass if no movement.",
            4:"Testing plan: [C1 - Accuracy] Synchronise to phone time; check after 24 hours; record drift in seconds (target ≤120 sec). [C2 - Sustainability] Measure total and salvaged surface areas; calculate percentage (target ≥70%). [C3 - Readability] 5 users read time from 3m; pass if ≥4/5 correct. [C4 - Mounting] Attach 1.5x clock weight to bracket for 10 min; pass = zero movement. [C5 - Aesthetics] 5-person panel rates 1-5; target ≥4.0."},
        1: {1:"My clock keeps the right time after an hour.",
            2:"Test results: C1 PASS (gained only 1 min in 24 hours). C3 PASS (all 5 users read time correctly at 3m). Meets 2 criteria.",
            3:"Evaluation: [C1] PASS - gained 1 min in 24 hours (within limit). [C2] PASS - 100% salvaged vinyl surface. [C3] PASS - 5/5 users read correctly at 3m. [C4] PARTIAL PASS - bracket held but vinyl flexed slightly under weight. [C5] PASS - 4.3/5 aesthetic rating.",
            4:"Critical evaluation: [C1] PASS - 1 min drift over 24 hours (well within 2 min target). [C2] PASS - 100% salvaged. [C3] PASS - 5/5 correct. [C4] PARTIAL FAIL - vinyl flexed 3mm under 1.5x load; backing board insufficient at current thickness. Recommendation: increase backing thickness to 9mm plywood. [C5] PASS - 4.4/5. 4/5 full passes; 1 partial fail with specific improvement recommendation."},
        2: {1:"I could make the markers clearer.",
            2:"I would add a backing board to stop the vinyl flexing and make the markers larger.",
            3:"Improvements: [1] Replace 6mm MDF backing with 9mm plywood - vinyl flexed 3mm under 1.5x load. [2] Increase marker height from 5mm to 8mm for better 3m readability.",
            4:"Improvement plan: [C4 - Mounting stability] Replace 6mm MDF backing with 9mm plywood; evidence: 3mm flex measured under 1.5x load; 9mm plywood used in commercial clock backing has <0.5mm flex. Cost: +$0.80. [C3 - Readability] Replace 5mm brass studs with 8mm studs; 2 testers struggled at 3m with original height. Cost: +$1.20. Both improvements feasible and within revised $20 budget."},
        3: {1:"My clock looks nice on the wall.",
            2:"My clock adds character to a room and uses recycled materials, which is good for the environment.",
            3:"Impact: [1] All 5 audience members said the clock would improve their room aesthetics. [2] Using 100% salvaged vinyl prevents one vinyl record from reaching landfill per clock made. [3] Rated 4.3/5 for visual appeal - above the 4.0 target.",
            4:"Impact analysis: [Aesthetic] 4.4/5 rating from target audience (n=5). [Sustainability] Each clock diverts 1 vinyl record from landfill; if 10 made, saves approximately 5kg of material waste. [Functional] Accurate timekeeping confirmed. [Limitation] Not suitable for damp environments (vinyl warps above 60°C) - product should include a care label. Version 2 improvement: weather-resistant varnish coating."}
      }
    }
  },
  "MYP3-PD-f1": {
    MYP3: {
      A: {
        0: {1:"F1 cars need to be fast and they use special designs to go faster.",
            2:"There is a need for an improved F1 car model because aerodynamic design directly affects performance - reducing drag and increasing downforce makes cars faster around corners.",
            3:"F1 car design is important because aerodynamics determines race outcomes. Teams spend millions optimising airflow. A well-designed model car that applies these principles can demonstrate the relationship between shape and speed.",
            4:"My client - the MYP Design competition - requires an F1 model that demonstrates aerodynamic principles while meeting strict regulations. My analysis of 3 championship-winning car designs shows that all use a low nose, split diffuser, and rake angle to maximise downforce, which will directly inform my design specification."},
        1: {1:"I found that F1 cars have wings and special shapes that help them go fast.",
            2:"I need to research: how aerodynamics works, what materials are lightest, and what the competition rules say about dimensions.",
            3:"Research plan: 1. Study aerodynamics principles - downforce and drag (SECONDARY). 2. Analyse 2 real F1 car designs (SECONDARY). 3. Check competition regulations for allowed dimensions (PRIMARY). 4. Test available Onshape modelling tools (PRIMARY). Prioritized by impact on feasibility.",
            4:"Research Plan: [1] Competition regulations (PRIMARY) - non-negotiable constraints on dimensions and materials. [2] Aerodynamics research (SECONDARY) - defines what design features actually improve performance. [3] Real F1 car analysis (SECONDARY) - shows proven solutions I can adapt. [4] Material weight testing (PRIMARY) - determines lightest feasible printing material. All justified by their direct link to specification criteria."},
        2: {1:"Not applicable at this level.",
            2:"I looked at the 2022 Red Bull RB18. It has a low nose (reduces drag), large side pods (cooling), and a rear diffuser (generates downforce). The low nose is the most important feature for my design.",
            3:"I analysed 3 F1 cars: 2022 Red Bull (low rake, efficient diffuser), 2023 Mercedes (zero-pod design), 2021 Ferrari (high rake). Key pattern: all successful designs have smooth airflow from nose to diffuser. The Red Bull diffuser design is most achievable in Onshape.",
            4:"I analysed 5 F1 cars using ACCESS FM adapted for vehicles. Patterns: all fast cars have front wing angle 5-15°; all use smooth underbody channelling; none have sharp edges that create turbulence. These patterns directly informed 4 of my 6 specification criteria including nose angle, wing dimensions, and underbody profile."},
        3: {1:"Not applicable at this level.",
            2:"My research found that low noses, wide bases, and smooth shapes make F1 cars faster. My design will use these features.",
            3:"Design brief: The car must meet competition dimensions (max 30x12x10cm). Aerodynamic research shows nose angle, wing size, and underbody profile are critical. Available tools: Onshape. Target: minimum drag, maximum stability in a wind test.",
            4:"Design Brief: Research reveals 3 critical aerodynamic principles - (1) front wing angle 5-15° maximises downforce, (2) smooth underbody channelling reduces drag by up to 30%, (3) rear diffuser angle determines downforce efficiency. Competition rules specify max dimensions and disallow moving parts. My specification will require the model to demonstrate all 3 principles within the allowed envelope."}
      },
      B: {
        0: {1:"My F1 car must look like a real F1 car.",
            2:"Success criteria: 1. Fits within competition dimensions. 2. Has front and rear wings. 3. Has a smooth aerodynamic shape. 4. Is stable when pushed along a flat surface.",
            3:"Specifications: 1. DIMENSIONS - fits within 30x12x10cm (measured). 2. AERODYNAMICS - front wing angle 5-15°, rear diffuser present. 3. STABILITY - does not tip when pushed at test speed. 4. WEIGHT - under 200g for competition category.",
            4:"Detailed Specifications: [1] Dimensions ≤30x12x10cm (competition rule). [2] Front wing angle 5-15° (aerodynamics research). [3] Rear diffuser angle 15-25° (RB18 analysis). [4] Weight ≤200g (competition category). [5] Smooth underbody profile - no steps >2mm (drag analysis). [6] Aesthetic livery matching team colours (competition presentation criterion)."},
        1: {1:"[Basic car shape sketch with 4 wheels]",
            2:"Idea 1: High nose design with large front wing. Idea 2: Low nose design inspired by RB18. Both sketched in Onshape with basic dimensions labelled.",
            3:"Idea A: RB18-inspired low nose with split rear wing - best aerodynamics, complex to model. Idea B: Simple wedge shape with single front wing - easier to model, less aerodynamic. Idea C: High-nose ground effect design - most downforce potential but hardest to achieve within dimension limits. All three feasible at different skill levels.",
            4:"Idea A: RB18 low-nose - meets C1,2,3,4,5,6; highest technical difficulty but closest to real F1 aerodynamics. Idea B: Wedge - meets C1,2,4; simpler but lower aerodynamic performance. Idea C: High-nose - meets C1,2,3,5; rear wing likely to exceed height limit. All annotated with Onshape tool requirements, estimated modelling time, and criteria match."},
        2: {1:"[One view only, no dimensions]",
            2:"I chose the low nose design. It has a front wing, sidepods, and a rear diffuser.",
            3:"I chose Idea A (low nose/RB18-inspired) because it best applies the aerodynamic principles from my research and scored highest in peer review (4.1/5). Main challenge: complex curves - I will use the Onshape loft tool to achieve smooth surfaces.",
            4:"I chose Idea A and justify fully: [C1] Modelled to 29.5x11.8x9.7cm - within limit. [C2] Front wing 9° angle confirmed in Onshape measurement tool. [C3] Rear diffuser modelled at 18°. [C4] Mass analysis in Onshape shows 187g at target material density. [C5] Underbody smooth with 0.5mm maximum step. [C6] Livery modelled in chosen team colours. Peer review: 4.3/5."},
        3: {1:"Not applicable at this level.",
            2:"Steps: 1. Model chassis. 2. Add front wing. 3. Add sidepods. 4. Add rear wing and diffuser. 5. Add wheels. 6. Export and print.",
            3:"Onshape modelling sequence with screenshots at each stage. Requirements list: Onshape account, 3D printer (school), PLA filament (approx 80g), sandpaper, paint.",
            4:"Full Onshape design document: dimensioned sketches for all major components, modelling sequence with tools used at each step, material specification (PLA density for mass calculation), print settings, post-processing steps, and a peer build trial confirming instructions are clear."}
      },
      C: {
        0: {1:"[Model started in Onshape but only chassis done. Wings missing.]",
            2:"My car model has the chassis, front wing, and rear wing. The diffuser is not yet attached. It mostly looks like an F1 car.",
            3:"My car model is complete in Onshape with all components. It meets all dimension specifications and was exported and printed successfully.",
            4:"Excellent modelling: all surfaces are tangent-continuous (no sharp transitions), nose cone uses a spline profile for optimal aerodynamic shape, front wing uses a true aerofoil cross-section, rear diffuser uses compound curves modelled with the loft tool, and all components are assembled correctly in the Onshape assembly environment."},
        1: {1:"[Model has basic shape but wings are at wrong angles and underbody is flat.]",
            2:"My car model looks like an F1 car and the main dimensions are correct. The rear diffuser is a bit thick.",
            3:"My car model demonstrates competent modelling skills: all aerodynamic features present, dimensions within specification, smooth surface transitions achieved using fillet tool, printed cleanly.",
            4:"High standard: true aerofoil wing profiles modelled using imported NACA data, all fillets radiused correctly (R5mm on bodywork, R2mm on wing edges), mass within 2g of target, and the assembled model is dimensionally identical to the Onshape model (confirmed by measurement after printing)."},
        2: {1:"Not applicable at this level.",
            2:"My car model is mostly complete but the rear diffuser angle is wrong - it is too steep.",
            3:"My car functions as intended within Onshape and the printed version matches the digital model within acceptable tolerances.",
            4:"I followed my Onshape production plan and the model meets all 6 specification criteria. All dimensions confirmed by Onshape measurement tool and physical measurement post-print."},
        3: {1:"Not applicable at this level.",
            2:"I changed the rear diffuser angle because it was too steep in my first version.",
            3:"Changes: [1] Reduced rear diffuser angle from 28° to 19° - aerodynamics research showed angles over 25° cause flow separation. [2] Added front wing endplates - original design had tip vortex issues identified during peer review.",
            4:"Change log: [1] Diffuser angle 28°→19°: aerodynamics research shows stall occurs above 25°; CFD simulation (in Onshape) confirmed reduction improved simulated downforce by 12%. [2] Front wing endplates added: peer review identified missing endplates; real F1 cars use these to prevent tip vortex. [3] Underbody step reduced 4mm→0.8mm: calculated 15% drag reduction based on flat plate theory. All changes referenced to aerodynamic principles from research."}
      },
      D: {
        0: {1:"My test: I will push my car along the table and see if it stays straight.",
            2:"Test 1 - Dimensions: measure all 3 axes with a ruler. Pass if all within limits. This checks Criterion 1.",
            3:"Test 1 - Dimensions (C1): measure with digital calipers, pass if ≤30x12x10cm. Test 2 - Wing angle (C2): measure front wing with protractor, pass if 5-15°. Test 3 - Stability (C3): push along flat surface at walking speed, pass if no tip. Test 4 - Weight (C4): digital scales, pass if ≤200g.",
            4:"Testing plan: [C1] Digital caliper measurement (3 readings per dimension, averaged); target ≤30x12x10cm. [C2] Protractor measurement of front wing angle (3 readings); target 5-15°. [C3] Rear diffuser angle measurement; target 15-25°. [C4] Digital scales; target ≤200g. [C5] Underbody step measurement with feeler gauge; target ≤2mm. [C6] Visual assessment by 5-person panel; target ≥4/5 for livery accuracy."},
        1: {1:"My car looks good and fits the rules.",
            2:"Test results: C1 PASS (all dimensions within limits). C4 PASS (182g). My car meets 2 criteria.",
            3:"Evaluation: [C1] PASS - 29.5x11.8x9.7cm. [C2] PASS - front wing 9.2°. [C3] PARTIAL PASS - diffuser 26.5° (just above 25° target). [C4] PASS - 187g. [C5] PASS - max step 0.8mm. [C6] PASS - livery rated 4.3/5. Meets 5 of 6 criteria fully.",
            4:"Critical evaluation: [C1] PASS. [C2] PASS. [C3] PARTIAL FAIL - diffuser 26.5°, 1.5° above target; flow visualisation using tissue paper showed slight separation at this angle. Recommendation: reduce 2° in Version 2. [C4] PASS. [C5] PASS. [C6] PASS. 5/6 full passes; root cause of diffuser angle overshoot was tool accuracy during lofting - recommend using Onshape angle constraint instead of visual estimate in Version 2."},
        2: {1:"I could make the wings bigger.",
            2:"I would reduce the rear diffuser angle and add side fins for more downforce.",
            3:"Improvements: [1] Reduce rear diffuser from 26.5° to 24° - just outside target range; flow separation observed. [2] Add front wing Gurney flap - increases downforce by approximately 5% based on F1 technical rules research.",
            4:"Improvement plan: [C3 - Diffuser] Reduce angle 26.5°→24°; evidence: tissue paper test showed separation at 26.5°; below 25° eliminates this. Achievable by editing the Onshape loft angle constraint (2-minute change). [Downforce enhancement] Add Gurney flap to rear wing; F1 research shows 3-8% downforce increase; adds <5g. [C4 - Weight] Replace solid sidepods with hollow shell; saves approximately 15g, bringing weight to 172g (well within limit)."},
        3: {1:"My car looks cool and shows what F1 cars look like.",
            2:"My car demonstrates aerodynamic design principles and helps students understand how F1 cars work.",
            3:"Impact: [1] The model successfully demonstrates all 3 key aerodynamic principles identified in research. [2] 4/5 classmates could explain how the front wing creates downforce after seeing the model. [3] Rated 4.3/5 for visual accuracy to a real F1 car.",
            4:"Impact analysis: [Educational] 5/5 classmates correctly explained the role of the rear diffuser after seeing the model (pre-test: 1/5 correct). [Aerodynamic validity] All 3 research-identified principles present in the model. [Visual accuracy] 4.3/5 from expert panel. [Limitation] Static model cannot demonstrate dynamic aerodynamic forces; a wind tunnel test would provide stronger evidence. Recommendation for Version 2: integrate pressure tap ports for basic wind tunnel testing."}
      }
    }
  },
  "MYP5-PD-device-station": {
    MYP5: {
      A: {
        0: {1:"Students at my school need a better place to charge their devices.",
            2:"Students need a device charging station because multiple devices are brought to school daily but charging facilities are limited, leading to dead batteries during lessons.",
            3:"There is a need for a dedicated device charging station because MYP students regularly run out of battery during the school day. Current solutions - using wall sockets - create trip hazards and security concerns.",
            4:"My target audience - MYP students aged 11-16 - need a secure, organised device charging station because 3 incidents of device theft occurred this term from unsupervised sockets, and my survey of 30 students showed 83% have experienced a dead battery disrupting their learning. No product under $30 currently addresses both security and cable management simultaneously."},
        1: {1:"I found that most students charge 1-3 devices at school and that existing stations cost $40-$100.",
            2:"I need to research: how many devices students charge, how much they would pay, what safety standards apply, and what existing products look like.",
            3:"Research plan: 1. Student device survey - PRIMARY (defines capacity and needs). 2. Existing charging station analysis - SECONDARY (shows market solutions). 3. Electrical safety standards research - SECONDARY (non-negotiable constraints). 4. Material strength testing - PRIMARY (determines structural requirements).",
            4:"Research Plan: [1] Student survey (PRIMARY) - highest priority; defines number of ports, size constraints, budget. [2] Existing product analysis (SECONDARY) - identifies proven solutions and gaps. [3] Electrical safety standards (SECONDARY) - non-negotiable; all design decisions must comply. [4] Material load testing (PRIMARY) - determines minimum thickness for structural integrity. Ranked by impact on design specification."},
        2: {1:"Not applicable at this level.",
            2:"I analysed the Belkin 10-Port USB Hub. It charges 10 devices simultaneously (meets capacity need), costs $35 (within budget range), but has no cable management and no security features. The multi-port charging is the most useful feature for my design.",
            3:"I analysed 5 existing charging stations using ACCESS FM. Patterns: all successful products have cable channels, surge protection, and a stable base. The market gap: no product under $30 combines security locks with proper cable management.",
            4:"I analysed 6 charging stations in detail comparing: port count, security features, cable management, cost, materials, and safety standards compliance. Key finding: products with security (padlock hasp or combination lock) all cost over $45; products under $30 have no security. This $15-30 gap is where my design sits. All analysis linked to a specific design specification criterion."},
        3: {1:"Not applicable at this level.",
            2:"My research shows students need 4-6 ports, want security, and have a budget of around $20-25. I will use these findings in my design.",
            3:"Design brief: Survey data (n=30) shows median device count is 2 per student, top priorities are security (87%) and cable management (73%), and willingness-to-pay peaks at $25. Existing analysis confirms no product meets all three below $30. My design must provide 6 ports, cable management, and a basic security feature within a $25 build cost.",
            4:"Design Brief: Three critical insights from research: (1) 87% of students rank security as top priority, (2) no product under $30 includes a security mechanism, (3) students carry an average of 2.3 devices. My solution must: hold 6 devices simultaneously, include a locking mechanism, manage cables within the unit, cost under $25 to build, and meet Australian electrical safety standards. Every specification criterion is traceable to one of these three research conclusions."}
      },
      B: {
        0: {1:"The station must charge devices.",
            2:"Success criteria: 1. Charge at least 4 devices. 2. Have cable management. 3. Cost under $30. 4. Be stable on a desk.",
            3:"Specifications: 1. CAPACITY - minimum 6 USB charging ports (tested by simultaneous device connection). 2. SECURITY - includes locking mechanism rated for repeated daily use. 3. COST - under $25 total build cost. 4. STABILITY - does not tip when 6 cables are inserted. 5. SAFETY - all electrical components meet relevant safety standards.",
            4:"Detailed Specifications (all linked to research): [1] 6 USB-A ports (survey: average 2.3 devices, design for groups of 3). [2] Locking hasp (87% security priority). [3] Cable management channels (73% cable management priority). [4] Build cost ≤$25 (willingness-to-pay data). [5] Stability: does not tip with 6 cables and devices attached (centre-of-gravity calculation). [6] Compliance: all electrical components UL/CE certified."},
        1: {1:"[Rough box sketch with holes in the top]",
            2:"Idea 1: Wooden box with USB hub inside and holes in the top for cables. Idea 2: Acrylic shelving unit with clip-on cable guides. Both sketched with labels.",
            3:"Idea A: Plywood box with interior hub, cable exit slots, padlock hasp - meets all criteria, natural material. Idea B: Acrylic tower with open shelves and cable clips - modern look, no security. Idea C: PVC pipe cluster - very low cost, creative, no cable management. All three feasible at different budgets.",
            4:"Idea A: Plywood box - meets all 6 criteria; cost estimate $18.40; natural material; hasp adds $2. Idea B: Acrylic tower - meets C1,2,3,4; fails security criterion; cost estimate $24. Idea C: PVC cluster - meets C1,4; fails C2,5,6; cost $8. All annotated with material, dimensions, estimated cost, and criteria met. Idea A is only design meeting all 6 criteria."},
        2: {1:"[One view sketch, no labels]",
            2:"I chose Idea A - the plywood box. It has 6 cable holes and a padlock hasp on the front.",
            3:"I chose Idea A because it meets all 6 specification criteria and was rated highest by peers (4.2/5) for the combination of functionality and aesthetics. Main risk: cable holes too small for thicker cables - I will drill to 12mm diameter to accommodate all common cable types.",
            4:"I chose Idea A (plywood box) and justify fully: [C1] 6 USB ports confirmed using 10-port hub with 6 used. [C2] Padlock hasp rated for 200+ open/close cycles (manufacturer data). [C3] Internal cable channels routed to minimise tangle. [C4] Cost $18.40 - well under $25. [C5] Base weighted with steel plate: tip angle tested at 45° without falling. [C6] All components UL-listed. Peer review: 4.4/5."},
        3: {1:"Not applicable at this level.",
            2:"Steps: 1. Cut plywood. 2. Assemble box with screws. 3. Drill cable holes. 4. Install USB hub. 5. Attach hasp. 6. Sand and finish.",
            3:"Planning drawings (all 6 faces, exploded view, cable routing diagram). Requirements: 600x300x9mm birch ply, 10-port USB hub, padlock hasp x2, M4 screws, sandpaper, wood stain.",
            4:"Accurate scale drawings (all views, cable routing, electrical schematic for hub placement). Full materials list with sources, quantities, and costs totalling $18.40. Construction sequence with times, tool list, safety notes, and quality checkpoints. Peer successfully built a prototype box from these instructions."}
      },
      C: {
        0: {1:"[Box assembled but no cable holes or hub installed yet.]",
            2:"My station holds 6 devices and the hasp is attached. The cable management slots are a bit rough but functional.",
            3:"My station is complete: 6 cable holes drilled to consistent diameter, USB hub mounted internally, hasp functions smoothly, and the product is sanded and finished. Tested with 6 devices simultaneously.",
            4:"Excellent craftsmanship: cable holes drilled with a forstner bit (consistent 12mm diameter, clean edges), internal hub mounted on a slotted rail for easy removal, hasp recessed flush into front panel, all internal edges rounded with router to prevent cable abrasion, exterior finished with 2 coats of water-based stain and lacquer, product is indistinguishable from a commercial charging station."},
        1: {1:"[Hub not installed, box structure unstable, no finish applied.]",
            2:"My station charges devices and is structurally sound. The finish is a bit rough in places.",
            3:"My station demonstrates competent making skills: all joints square, hub installed and functional, all 6 ports accessible, hasp works, and product is cleanly finished.",
            4:"High standard: all joints within 0.5mm of square (verified with digital angle finder), hub secured with removable rail (allows replacement), hasp tested for 200 cycles before submission, exterior corners reinforced with internal gussets, surface finish smooth to touch (240-grit, 2 coats lacquer)."},
        2: {1:"Not applicable at this level.",
            2:"My station charges 4 of 6 devices correctly. The last 2 ports sometimes don't connect.",
            3:"My station functions exactly as intended: all 6 ports charge simultaneously, hasp locks securely, cable channels keep cables organised.",
            4:"I followed my production plan and the station meets all 6 specification criteria. All 6 ports tested for 30-minute charging session with no failures. Hasp tested 50 cycles. Stability tested at 45° tilt."},
        3: {1:"Not applicable at this level.",
            2:"I moved the cable holes to the back because they were in the way at the front.",
            3:"Changes: [1] Cable exit moved from top to back - top exit caused cables to rest on devices, adding weight. [2] Added internal dividers - without them, cables tangled inside the box after 2 hours of use.",
            4:"Change log: [1] Cable exit relocated top→back panel: testing showed top-exit cables added 180g of downward force on devices; back-exit eliminates this. [2] Internal dividers added: without dividers, 3 cables became knotted after 2 hours in a usability test. [3] Hasp position moved 10mm lower: original position caught knuckles when opening - 3/5 usability testers flagged this. All changes improve the user experience and are referenced to test evidence."}
      },
      D: {
        0: {1:"My test: I will plug in 6 devices and see if they all charge.",
            2:"Test 1 - Charging: plug in 6 devices for 30 minutes, check if all show charging indicator. Pass if all 6 charge. This checks Criterion 1.",
            3:"Test 1 - Capacity (C1): 6 devices connected simultaneously, 30-min charge test. Test 2 - Security (C2): hasp tested for 50 open/close cycles. Test 3 - Cost (C4): sum all material receipts. Test 4 - Stability (C5): tilt test to 45°, pass if no tip.",
            4:"Testing plan: [C1 - Charging] 6 devices connected, 30-min session, record charge % increase for each (target: all devices register charging). [C2 - Security] 200 hasp cycles, pass = no mechanical failure. [C3 - Cable management] 3 users rate cable organisation 1-5 after use; target ≥4.0. [C4 - Cost] Material receipts totalled; target ≤$25. [C5 - Stability] Digital angle finder records tip angle; target ≥45° before tipping. [C6 - Safety] All component CE/UL certification numbers recorded."},
        1: {1:"My station charges all the devices.",
            2:"Test results: C1 PASS (all 6 charged). C4 PASS ($18.40). My station meets 2 criteria.",
            3:"Evaluation: [C1] PASS - all 6 devices charged in 30 min. [C2] PASS - hasp survived 50 cycles. [C3] PASS - cable management rated 4.1/5. [C4] PASS - $18.40. [C5] PARTIAL PASS - stable to 43° (target 45°). [C6] PASS - all components UL-listed.",
            4:"Critical evaluation (3 trials each): [C1] PASS - all 6 devices on all 3 trials. [C2] PASS - hasp still functional after 200 cycles. [C3] PASS - 4.2/5 average. [C4] PASS - $18.40, 26% under budget. [C5] PARTIAL FAIL - tips at 43° (target 45°); root cause: base mass insufficient without steel plate. Recommendation: add 50g steel plate to base. [C6] PASS. 5/6 full passes; specific improvement for C5 provided."},
        2: {1:"I could add more ports.",
            2:"I would add a steel plate to the base to make it more stable, and make the cable holes bigger for thicker cables.",
            3:"Improvements: [1] Add 50g steel plate to base - tips at 43°, target 45°; steel plate shifts centre of gravity down. [2] Increase cable hole diameter from 12mm to 15mm - 1 USB-C cable (thick) didn't fit smoothly.",
            4:"Improvement plan: [C5 - Stability] Add 50g steel plate recessed into base; evidence: 43° tip angle vs 45° target; 50g at base lowers centre of gravity by approximately 8mm, calculated to achieve 47°. Cost: $1.20 (within remaining budget). [Cable diameter] Increase to 15mm; 1/6 cables required force - safety concern; 15mm accommodates all common cable types with clearance. Cost: no change (just different drill bit). Both improvements achievable within original budget."},
        3: {1:"My station helps students charge their devices at school.",
            2:"My station helps students keep their devices charged and secure at school. 4 out of 5 users said they would use it.",
            3:"Impact: [1] All 6 test users confirmed their devices charged successfully. [2] 5/5 users said the hasp made them feel their devices were more secure. [3] Average cable organisation rating: 4.2/5 (vs 1.8/5 for open socket solution).",
            4:"Impact analysis: [Security] 5/5 users rated security as 'much better' than current socket solution. [Cable management] 4.2/5 vs 1.8/5 for current solution (significant improvement). [Adoption] 4/5 users would use this station daily; 1 requested a larger version for 10 devices. [Charging effectiveness] All 6 devices increased battery by an average of 28% in 30 minutes. [Limitation] No USB-C PD support (only USB-A); 2 users noted newer devices charge more slowly - Version 2 will include 2 USB-C PD ports."}
      }
    }
  },
  "MYP3-DD-home": {
    MYP3: {
      A: {
        0: {1:"People who live in areas affected by natural disasters need better homes.",
            2:"There is a need for a calamity-proof sustainable home design because natural disasters destroy poorly built houses, leaving families homeless and vulnerable.",
            3:"Calamity-proof sustainable homes are needed because climate change is increasing the frequency of natural disasters such as floods, earthquakes, and typhoons. Existing low-cost housing fails to withstand these events, and rebuilding is expensive and slow.",
            4:"My target audience — families in disaster-prone regions — need a sustainable home design that can survive a specific natural disaster because current low-cost construction materials fail during calamities, causing injury and displacement. Research data shows that homes built with sustainable, reinforced materials reduce structural damage by up to 60% in moderate earthquakes."},
        1: {1:"I found that some materials are stronger than others and that some homes use solar panels.",
            2:"I need to research: what disasters affect my chosen region, what sustainable materials exist, and what features make homes disaster-resistant.",
            3:"Research plan: 1. Research the specific disaster type and its forces (SECONDARY). 2. Analyse 3 existing disaster-resistant home designs (SECONDARY). 3. Survey potential occupants about their needs (PRIMARY). 4. Investigate sustainable material properties (SECONDARY). Prioritized by impact on design decisions.",
            4:"Research Plan: [1] Disaster force analysis (SECONDARY) — defines the structural loads my design must withstand. [2] Existing disaster-resistant designs (SECONDARY) — identifies proven construction methods. [3] Occupant needs survey (PRIMARY) — ensures the home is liveable, not just structurally strong. [4] Sustainable material comparison (SECONDARY) — narrows material choices to those that are both strong and eco-friendly. Each source directly links to a specification criterion."},
        2: {1:"Not applicable at this level.",
            2:"I looked at one earthquake-resistant home design. It uses a reinforced concrete frame (strong), has a low centre of gravity (stable), and uses solar panels (sustainable). The reinforced frame is the most important feature for my design.",
            3:"I analysed 3 disaster-resistant home designs: a typhoon-proof bamboo structure (sustainable but requires skilled construction), a flood-proof raised foundation home (simple and effective), and an earthquake-resistant timber frame (proven globally). All three share cross-bracing as a key structural feature.",
            4:"I analysed 5 disaster-resistant sustainable home designs using ACCESS FM. Patterns: all successful designs use cross-bracing for lateral load resistance; all use natural or recycled materials for sustainability; the most effective designs address one specific disaster type rather than trying to resist all. These findings directly shape my specification: I will design for one disaster type, use cross-bracing, and prioritise natural materials."},
        3: {1:"Not applicable at this level.",
            2:"My research found that cross-bracing, strong foundations, and sustainable materials are the most important features. I will include all three in my design.",
            3:"Design brief: Research confirms that [chosen disaster] produces [specific force type]. Sustainable materials such as bamboo and recycled steel can resist these forces when properly engineered. My design must incorporate structural cross-bracing, a reinforced foundation, passive cooling or insulation, and use at least 60% sustainable materials.",
            4:"Design Brief: Three critical insights from research: (1) [chosen disaster] produces [lateral/vertical/wind] forces that require cross-bracing and deep foundations; (2) bamboo and recycled steel outperform concrete in strength-to-weight ratio for low-cost construction; (3) occupant survey shows ventilation and water access are as important as structural strength. My design must resist [specific force], use ≥60% sustainable materials, include natural ventilation, and provide rainwater collection. Every specification criterion is traceable to one of these three insights."}
      },
      B: {
        0: {1:"My home must be strong enough to survive a disaster.",
            2:"Success criteria: 1. Resist [disaster type] forces. 2. Use sustainable materials. 3. Be affordable to build. 4. Provide safe living space for a family.",
            3:"Specifications: 1. STRUCTURAL — withstands simulated [disaster] force in a scale model test. 2. SUSTAINABILITY — at least 60% of materials are recycled or renewable. 3. COST — total material cost under $30 for the model. 4. LIVEABILITY — includes 3+ rooms and natural ventilation. 5. WATER — includes rainwater collection system.",
            4:"Detailed Specifications (all linked to research): [1] Structural: model survives shake table test at [x] Hz for 30 seconds without collapse. [2] Sustainability: ≥60% materials recycled/renewable by mass. [3] Cost: model materials under $30. [4] Liveability: 3 separate functional zones, natural ventilation confirmed by airflow test. [5] Water: rainwater collection capacity ≥5 litres/day at average rainfall. [6] Aesthetics: rated ≥4/5 by target audience panel for liveable appearance."},
        1: {1:"[Rough sketch of a house shape with a roof]",
            2:"Idea 1: A bamboo-framed house with a sloped roof for rain runoff. Idea 2: A raised-foundation house using recycled timber. Both sketched with labels.",
            3:"Idea A: Bamboo A-frame with solar panels and rainwater barrel — sustainable, low cost, good for typhoon resistance. Idea B: Recycled-steel cross-braced frame with green roof — best earthquake resistance, moderate cost. Idea C: Rammed-earth walls with timber roof — excellent thermal insulation, very sustainable, but slow to build. All three feasible as scale models.",
            4:"Idea A: Bamboo A-frame — meets C1,2,3,5,6; wind-resistant profile; bamboo is renewable; estimated model cost $18. Idea B: Steel cross-brace — meets C1,2,4,6; highest structural performance; model cost $24. Idea C: Rammed-earth — meets C2,4,6; excellent thermal mass; fails shake test risk due to brittleness. All annotated with structural rationale, material sustainability score, estimated cost, and criteria match."},
        2: {1:"[One view sketch, no labels or dimensions]",
            2:"I chose the bamboo A-frame design. It has solar panels on the roof, a rainwater barrel, and bamboo walls.",
            3:"I chose Idea A (bamboo A-frame) because it scored highest in peer review (4.2/5), meets 4 out of 5 structural criteria, and bamboo is the most sustainable material available. Main risk: joints between bamboo poles — I will use lashing and corner brackets.",
            4:"I chose Idea A and justify fully: [C1] A-frame profile deflects wind forces most effectively (aerodynamics research). [C2] Bamboo is 100% renewable; model uses 85% bamboo by mass. [C3] Estimated model cost $18. [C4] 3 functional zones planned; passive ventilation via ridge vent. [C5] Barrel holds 6L — above 5L target. [C6] Peer rating 4.3/5. Only risk: joint strength — mitigated with corner brackets."},
        3: {1:"Not applicable at this level.",
            2:"Steps: 1. Cut bamboo pieces. 2. Lash joints. 3. Build walls. 4. Add roof. 5. Attach solar panel and barrel.",
            3:"Planning drawings (front, side, top views with dimensions). Requirements list: bamboo skewers, balsa sheet, lashing cord, small mirror (solar panel), plastic bottle (barrel), glue. Construction sequence with estimated times.",
            4:"Accurate scale drawings (all views with measurements, structural detail of corner joints, solar panel wiring diagram). Full materials list with quantities, costs, and sources. Construction sequence with times, tool list, safety notes, and quality checkpoints at each structural stage. Peer successfully built the basic frame from these instructions."}
      },
      C: {
        0: {1:"[Frame started but walls not attached. Roof missing.]",
            2:"My model has the main frame, walls, and roof. The solar panel is attached but the rainwater barrel is not yet connected.",
            3:"My model is complete: bamboo frame assembled, all walls attached, roof sealed, solar panel and rainwater collection barrel fitted. Tested in basic shake simulation.",
            4:"Excellent construction: all bamboo joints reinforced with corner brackets and lashing, roof sealed with silicone to be waterproof, solar panel angled at 25° for maximum light capture, barrel connected to downpipe with measured flow test, model is structurally identical to planning drawings."},
        1: {1:"[Model collapses during shake test. Walls not attached to frame.]",
            2:"My model survives light shaking. The walls are attached and the roof stays on. Some joints are a bit loose.",
            3:"My model demonstrates competent making skills: all joints secure, model survives shake test, roof is sealed, and the product is neatly finished.",
            4:"Excellent craftsmanship: cross-bracing joints tested to 3x design load before assembly; roof sealed with measured water resistance (no leakage under 30-second simulated rainfall); all bamboo pieces cut to within 1mm of dimension; model is presentable and structurally sound."},
        2: {1:"Not applicable at this level.",
            2:"My model mostly functions — it survived gentle shaking but the rainwater barrel connection leaked.",
            3:"My model functions as intended: survives shake test, rainwater system collects and holds water, ventilation gap functions, and model meets all dimension specifications.",
            4:"I followed my production plan and the model meets all 6 specification criteria. Shake test passed (3 trials). Rainwater flow measured at 6.2L/day equivalent. Ventilation airflow confirmed with tissue paper test."},
        3: {1:"Not applicable at this level.",
            2:"I moved the rainwater barrel from the side to under the roof edge because the pipe was too short.",
            3:"Changes: [1] Added diagonal bracing to all four wall panels — initial shake test showed walls racking 5° before bracing. [2] Increased roof overhang from 2cm to 4cm — rainwater missed the barrel with the smaller overhang.",
            4:"Change log: [1] Diagonal bracing added to all 4 walls: shake test showed 5° racking at 1Hz; bracing reduced this to <1°. [2] Roof overhang increased 2→4cm: 80% of simulated rain missed barrel at 2cm; 95% captured at 4cm (measured with measuring cylinder). [3] Ventilation gap sealed on windward side: open gap caused pressure loss; sealing improved cross-ventilation. All changes evidenced by before/after test data."}
      },
      D: {
        0: {1:"My test: I will shake the table and see if my model falls down.",
            2:"Test 1 — Structural: shake model on a book for 30 seconds and check if it collapses. Pass if no structural failure. This checks Criterion 1.",
            3:"Test 1 — Structural (C1): shake table test 30 seconds at increasing intensity, pass if no collapse. Test 2 — Sustainability (C2): calculate % of materials that are recycled/renewable by mass, pass if ≥60%. Test 3 — Liveability (C4): count functional zones and check ventilation with tissue paper. Test 4 — Water (C5): pour measured water into collection system, pass if ≥5L/day equivalent.",
            4:"Testing plan: [C1] Shake table test — model at 1Hz, 2Hz, 3Hz for 30 seconds each; pass = no collapse. [C2] Material audit — weigh each material; target ≥60% renewable/recycled. [C3] Cost audit — total receipts; target ≤$30. [C4] Ventilation test — tissue at ventilation gap; pass = visible deflection. [C5] Rainwater test — pour 500ml; measure output; target ≥90% capture. [C6] 5-person panel rates appearance; target ≥4.0."},
        1: {1:"My home survived the shake test.",
            2:"Test results: C1 PASS (survived 30-second shake). C2 PASS (70% bamboo by mass). My model meets 2 criteria.",
            3:"Evaluation: [C1] PASS — survived all 3 shake intensities. [C2] PASS — 82% sustainable materials. [C3] PASS — $22.40. [C4] PASS — 3 zones, tissue test confirmed airflow. [C5] PARTIAL PASS — captured 4.2L equivalent (target 5L). [C6] PASS — rated 4.1/5. 5 of 6 criteria met fully.",
            4:"Critical evaluation: [C1] PASS — no collapse at 1, 2, or 3Hz. [C2] PASS — 82% sustainable. [C3] PASS — $22.40. [C4] PASS — airflow confirmed. [C5] PARTIAL FAIL — 4.2L captured (target 5L); root cause: roof overhang 3cm shorter than design — rain misses barrel edge. Recommendation: extend overhang 3cm. [C6] PASS — 4.2/5. 5/6 full passes; one specific improvement identified."},
        2: {1:"I could make the walls stronger.",
            2:"I would extend the roof overhang to catch more rain and add diagonal bracing to the walls.",
            3:"Improvements: [1] Extend roof overhang from 3cm to 6cm — rainwater collection fell short by 0.8L/day. [2] Add second diagonal brace to each wall — model showed 1° racking at 3Hz.",
            4:"Improvement plan: [C5] Extend overhang 3→6cm: 0.8L/day shortfall; extending aligns barrel under drip edge, estimated to increase capture to 5.5L/day. [C1] Second diagonal brace: 0.8° racking at 3Hz; opposing brace eliminates this. Cost: +$0.60. Both improvements are specific, evidence-based, and feasible within budget."},
        3: {1:"My home design would help families survive disasters.",
            2:"My model shows that a bamboo home can survive earthquakes and collect rainwater, which would help families in disaster-prone areas.",
            3:"Impact: [1] Model survived all shake tests, demonstrating the design principle is valid. [2] Rainwater system captured 84% of simulated rainfall. [3] Rated 4.2/5 for liveable appearance.",
            4:"Impact analysis: [Structural] Survived all shake frequencies — demonstrates bamboo cross-bracing is viable and accessible. [Sustainability] 82% renewable materials — significantly reduces carbon footprint vs concrete. [Water] 84% capture rate equivalent to approximately 4.2L/day. [Limitation] Scale model cannot fully simulate real-load structural behaviour; full-scale prototype and engineering review needed before real construction."}
      }
    }
  },
  "MYP3-DD-capcut": {
    MYP3: {
      A: {
        0: {1:"People need to know about an important issue in our school or community.",
            2:"There is a need for a digital content campaign because many students and community members are unaware of [issue]. A well-made video can reach a large audience quickly.",
            3:"A CapCut-produced content campaign is needed because [issue] affects [audience] but current awareness is low. Short-form video is the most consumed media format by the target demographic, making it the most effective channel for this message.",
            4:"My target audience — [specific demographic] — needs a digital content campaign about [issue] because awareness surveys show only 23% of respondents understand the problem and its impact. Short-form video content produced with CapCut can reach this audience on platforms they already use daily, at zero distribution cost."},
        1: {1:"I found that lots of people watch videos on social media and that CapCut can add effects and text.",
            2:"I need to research: who my target audience is, what they already know about the issue, what makes a good short-form video, and what CapCut can do.",
            3:"Research plan: 1. Audience survey — what do they know and what would make them watch? (PRIMARY). 2. Analyse 3 successful awareness campaign videos (SECONDARY). 3. Research CapCut features relevant to my message (SECONDARY). 4. Research facts and statistics about [issue] (SECONDARY). Prioritized by impact on design.",
            4:"Research Plan: [1] Audience survey (PRIMARY) — highest priority; defines tone, length, and message for target demographic. [2] Existing campaign analysis (SECONDARY) — identifies what makes awareness content effective. [3] CapCut capability research (SECONDARY) — defines what is technically possible within the tool. [4] Issue facts research (SECONDARY) — ensures content accuracy. Each source directly links to a specification criterion."},
        2: {1:"Not applicable at this level.",
            2:"I looked at one awareness video about [similar issue]. It uses bold text on screen (easy to read without sound), has upbeat music (keeps attention), and is under 60 seconds. I will use on-screen text in my video.",
            3:"I analysed 3 awareness campaign videos. All successful ones shared: under 60 seconds, captions for no-sound viewing, one clear message, and a call to action. The least effective ones tried to cover too many points.",
            4:"I analysed 5 awareness campaign videos using a modified ACCESS FM for digital content. Patterns: all high-engagement videos are under 60 seconds, all use bold on-screen text, all have a single clear call to action. Videos that performed poorly tried to cover multiple messages. These 3 patterns directly inform 3 of my specification criteria."},
        3: {1:"Not applicable at this level.",
            2:"My research found that my audience prefers short, visually engaging videos with bold text. The video should be under 60 seconds and include a clear message.",
            3:"Design brief: Target audience survey (n=20) shows preference for under-60-second videos with music and captions. Issue research provides 3 key facts to include. CapCut supports text overlay, transitions, and audio editing. My video must deliver one clear message, include a call to action, and be shareable on [platform].",
            4:"Design Brief: Three critical insights — (1) target audience drops off after 60 seconds; (2) 68% of viewers watch without sound — captions are non-negotiable; (3) videos with one clear message achieve 3x more shares than multi-message videos. My campaign must be ≤60 seconds, include captions throughout, focus on a single message, and end with a specific call to action. Every criterion traceable to one of these insights."}
      },
      B: {
        0: {1:"My video must teach people about [issue].",
            2:"Success criteria: 1. Be under 60 seconds. 2. Include captions. 3. Have a clear message. 4. Include a call to action.",
            3:"Specifications: 1. LENGTH — under 60 seconds. 2. ACCESSIBILITY — captions readable throughout. 3. MESSAGE — single clear message stated in first 10 seconds. 4. ENGAGEMENT — visual hook in first 3 seconds. 5. CALL TO ACTION — specific, achievable action in final 5 seconds.",
            4:"Detailed Specifications: [1] Length ≤60 seconds. [2] Captions throughout, min 28pt font, tested by 3 viewers without sound — all must identify the message. [3] Single primary message confirmed in first 10 seconds. [4] Visual hook in first 3 seconds. [5] Specific, measurable call to action in final 5 seconds. [6] All facts verified from 2+ reliable sources."},
        1: {1:"[Rough storyboard of 3 scenes]",
            2:"Idea 1: Talking-head video with text overlays. Idea 2: B-roll montage with voiceover and captions. Both storyboarded.",
            3:"Idea A: Montage-style with fast cuts and bold text captions — high visual impact, suits no-sound viewers. Idea B: Talking-head with captions — more personal but relies on presenter confidence. Idea C: Animated text only — accessible, shareable, no filming needed. All three feasible in CapCut.",
            4:"Idea A: Montage — meets all 6 criteria; high shareability; estimated production time 3 hours. Idea B: Talking-head — meets C1,2,3,5,6; relies on presenter quality. Idea C: Animated text — meets all 6; lowest production risk; most accessible. Annotated with CapCut features needed, estimated time, and criteria match."},
        2: {1:"[Only 1 scene storyboarded, no labels]",
            2:"I chose the montage style. It will have fast cuts, bold text on screen, and upbeat music.",
            3:"I chose Idea A (montage) because it scored highest in peer review (4.3/5) and best meets the accessibility and engagement criteria. Main risk: sourcing enough B-roll footage — I will use school footage and Creative Commons clips.",
            4:"I chose Idea A and justify fully: [C1] 45-second storyboard planned. [C2] All scenes have planned captions — 3/3 peers identified message without sound in paper prototype test. [C3] Message stated in scene 1 (first 8 seconds). [C4] First scene uses a shocking statistic. [C5] Final scene: specific call to action. [C6] All statistics sourced from 2+ verified sources. Peer review: 4.4/5."},
        3: {1:"Not applicable at this level.",
            2:"Steps: 1. Film clips. 2. Import into CapCut. 3. Trim. 4. Add text. 5. Add music. 6. Export.",
            3:"Storyboard (scene-by-scene with caption text, timing, and music notes). Shot list. CapCut editing sequence: import → trim → arrange → captions → colour grade → music → export at 1080p.",
            4:"Full production document: scene-by-scene storyboard, shot list with location and camera angle, CapCut editing workflow with screenshots, music licensing documentation, caption style guide, export settings, and platform upload checklist. Peer editor assembled a rough cut from this document."}
      },
      C: {
        0: {1:"[Some clips imported but not trimmed or arranged. No captions.]",
            2:"My video has clips arranged in order, music added, and some captions. One caption is missing and the ending is abrupt.",
            3:"My video is complete: all clips trimmed and arranged, captions on every scene, music balanced, colour graded consistently, and exports cleanly at 1080p.",
            4:"Excellent production quality: dynamic text animations timed to music beats, colour grading consistent across all clips, captions styled with drop shadow for readability on any background, transitions matched to content pace, audio levelled so voice/music balance is consistent throughout."},
        1: {1:"[Video has clips out of order, music cuts off, and captions missing on 3 scenes.]",
            2:"My video has correct clip order, music throughout, and captions on most scenes. One caption overlaps with another text element.",
            3:"My video demonstrates competent CapCut skills: all clips in correct order, captions throughout and readable, music at appropriate volume, smooth transitions, and correct export resolution.",
            4:"High standard: captions timed to within 0.2 seconds of content, music ducked under voiceover sections, colour consistency confirmed across all clips, title card uses custom font matching the campaign brand."},
        2: {1:"Not applicable at this level.",
            2:"My video is 55 seconds, has captions on 4 of 5 scenes, but the call to action text is too small to read easily.",
            3:"My video functions as intended: 48 seconds, full captions readable without sound, single message in first 8 seconds, visual hook in first 3 seconds, call to action in final 5 seconds.",
            4:"I followed my production plan and the video meets all 6 specification criteria. All 5 peers correctly identified the message without sound. 4/5 peers stated the correct call to action."},
        3: {1:"Not applicable at this level.",
            2:"I changed the background music because the original song had lyrics that distracted from the message.",
            3:"Changes: [1] Replaced background track — original lyrics distracted from caption reading (identified in peer review). [2] Increased call-to-action text from 24pt to 36pt — 3 peers couldn't read it at original size.",
            4:"Change log: [1] Music replaced: 3/5 viewers read captions slower with lyrical music; replaced with instrumental; post-change: 5/5 read all captions correctly. [2] CTA font increased 24→36pt: 3/5 peers couldn't read at original size; 36pt correct by 5/5. [3] Transition pacing adjusted: cross-dissolve added — rated 0.8 points higher for emotional impact. All changes referenced to peer feedback data."}
      },
      D: {
        0: {1:"My test: I will watch my video and check if it makes sense.",
            2:"Test 1 — Accessibility: show video to 3 peers with sound off; ask them to write the main message; pass if all 3 correct. This checks Criterion 2.",
            3:"Test 1 — Length (C1): timer during export, pass if ≤60 seconds. Test 2 — Accessibility (C2): 3 peers watch without sound, write main message; pass if all correct. Test 3 — Message (C3): 5 peers state message after watching; pass if all match. Test 4 — CTA (C5): 5 peers state what action to take; pass if ≥4 correct.",
            4:"Testing plan: [C1] Export timestamp; target ≤60 seconds. [C2] 5 peers watch without sound; write main message; target ≥4/5 correct. [C3] 5 peers state primary message; target: all match intended message. [C4] First-3-second reaction: 5 peers rate engagement 1-5; target ≥4.0. [C5] 5 peers state the call to action; target ≥4/5 correct. [C6] Teacher verifies all facts; target 100% accurate."},
        1: {1:"My video teaches people about [issue].",
            2:"Test results: C1 PASS (48 seconds). C2 PASS (all 3 identified message without sound). My video meets 2 criteria.",
            3:"Evaluation: [C1] PASS — 48 seconds. [C2] PASS — 4/5 peers correct without sound. [C3] PASS — all responses matched intended message. [C4] PASS — 4.2/5. [C5] PARTIAL PASS — 3/5 peers stated the correct call to action. [C6] PASS — all facts verified.",
            4:"Critical evaluation: [C1] PASS. [C2] PASS — 5/5 correct. [C3] PASS. [C4] PASS — 4.3/5. [C5] PARTIAL FAIL — 3/5 peers stated correct action; root cause: CTA was too vague ('do something'); revised to specific action, re-tested — 5/5 correct. [C6] PASS. 5/6 full passes; root cause identified and fixed."},
        2: {1:"I could make the video longer to explain more.",
            2:"I would make the call to action more specific and increase the CTA text size.",
            3:"Improvements: [1] Replace vague CTA 'do something' with 'scan the QR code to sign the petition' — 3/5 testers couldn't identify the correct action. [2] Add a second language subtitle option — 2 EAL peers requested this.",
            4:"Improvement plan: [C5] Replace 'do something' with 'Scan the QR code to sign the petition'; evidence: 3/5 peers couldn't state correct action; specific CTA is industry best practice. [Accessibility] Add second-language subtitle track; 2 EAL peers requested; CapCut supports multiple subtitle layers; ~30 minutes to implement. [C4] Replace opening statistic with a question card; peer focus group rated question hooks 0.6 points higher for first-3-second engagement."},
        3: {1:"My video helped people learn about [issue].",
            2:"My video helped raise awareness. 4 out of 5 said they learned something new.",
            3:"Impact: [1] 4/5 peers stated the correct call to action after watching. [2] Awareness of [issue] increased from 23% to 71% among test viewers. [3] Video rated 4.3/5 for engagement.",
            4:"Impact analysis: [Awareness] Pre-test: 1/5 viewers correctly described [issue]. Post-test: 5/5 correct. [Action intent] 4/5 said they would take the stated action. [Engagement] 4.3/5 average. [Reach potential] Format typically achieves 200-500 organic views per post on [platform]. [Limitation] Test group only 5 peers — not representative of the full target audience."}
      }
    }
  },
  "MYP5-DD-endstar": {
    MYP5: {
      A: {
        0: {1:"Players need a challenging and engaging game to enjoy in their free time.",
            2:"There is a need for a new game developed in Endstar because existing games in this genre do not fully meet the needs of the target audience in terms of challenge, originality, or replayability.",
            3:"An original game developed using Endstar is needed because the target audience lacks a game that combines [specific genre mechanic] with a fresh narrative. Analysis of existing games shows a clear gap for this specific combination.",
            4:"My target audience needs a purpose-designed game because existing options either lack [specific feature] or are inaccessible. My survey of 15 potential players confirmed that 80% would play a free, original game with [mechanic], and 73% identified [specific pain point] as their biggest frustration with current games."},
        1: {1:"I found that games need good mechanics and interesting stories to be popular.",
            2:"I need to research: who my target audience is, what games they currently play, what Endstar can do, and what makes games replayable.",
            3:"Research plan: 1. Target audience survey — games they play, features they value (PRIMARY). 2. Play and analyse 3 games in the same genre (SECONDARY). 3. Research Endstar technical capabilities (SECONDARY). 4. Research game design principles — replayability, difficulty curve (SECONDARY). Prioritized by design impact.",
            4:"Research Plan: [1] Audience survey (PRIMARY) — defines genre, difficulty preference, and desired features. [2] Competitor game analysis (SECONDARY) — identifies proven mechanics and gaps. [3] Endstar capability research (SECONDARY) — determines technical feasibility. [4] Game design theory research (SECONDARY) — principled framework for difficulty curve and feedback design. Each source directly informs a specification criterion."},
        2: {1:"Not applicable at this level.",
            2:"I analysed [existing game]. It has tight controls (satisfying), a clear objective (reduces confusion), but difficulty spikes suddenly (frustrating). I will use a gradual difficulty curve instead.",
            3:"I analysed 3 games in the [genre] genre. Strengths: clear objective, responsive controls, visible progress. Weakness: all games have either sudden difficulty spikes or unfair patterns. Gap: a smooth, data-driven difficulty curve.",
            4:"I analysed 5 games covering: core mechanic design, difficulty curve, feedback systems, replayability, and accessibility. Patterns: all high-rated games have a core mechanic learnable in 30 seconds, immediate visual/audio feedback, and clear win/lose states. None use adaptive difficulty. These 3 patterns directly inform my top specification criteria."},
        3: {1:"Not applicable at this level.",
            2:"My research found that players want responsive controls, clear objectives, and a fair difficulty curve. These will be my main design priorities.",
            3:"Design brief: Survey (n=15) defines target audience as [demographic] preferring [genre] with [mechanic]. Competitor analysis confirms gap for adaptive difficulty. Endstar research confirms [feature] is achievable. Three core specs: responsive controls, clear objective, smooth difficulty curve.",
            4:"Design Brief: Three critical insights — (1) 80% of players quit within 5 minutes without progress feedback; (2) no current free game in this genre uses adaptive difficulty; (3) players want to complete a run in 10-20 minutes. My game must: provide immediate failure feedback, implement adaptive difficulty, and be completable in a 15-minute session. Every criterion derives from one of these player insights."}
      },
      B: {
        0: {1:"My game must be fun to play.",
            2:"Success criteria: 1. Fun to play. 2. Clear objective. 3. At least 3 levels. 4. No game-breaking bugs.",
            3:"Specifications: 1. CORE MECHANIC — learnable within 30 seconds. 2. OBJECTIVE — player states goal without prompting after 1 minute. 3. DIFFICULTY — increases smoothly across 3+ levels. 4. STABILITY — 0 game-breaking bugs in 5 full playthroughs. 5. COMPLETION TIME — completable in 10-20 minutes.",
            4:"Detailed Specifications: [1] Core mechanic learnable ≤30 seconds (80% quit if they don't understand). [2] Objective stated by player after 60 seconds without prompting. [3] Level completion targets: L1 ≥80%, L2 ≥50%, L3 ≥30%. [4] 0 game-breaking bugs on 3 devices. [5] Run time 10-20 minutes. [6] Rated ≥4/5 by target audience for aesthetics."},
        1: {1:"[Basic sketch of a game screen]",
            2:"Idea 1: Side-scrolling platformer with obstacle avoidance. Idea 2: Top-down puzzle with resource management. Both sketched.",
            3:"Idea A: Side-scroller with power-up system — familiar genre, strong replayability. Idea B: Top-down puzzle — more original, harder to tune difficulty. Idea C: Tower defence — strategic depth, high Endstar complexity. All three feasible at different complexity levels.",
            4:"Idea A: Side-scroller — meets all 6 criteria; familiar genre reduces learning curve; medium development complexity. Idea B: Top-down puzzle — meets C1,2,4,5,6; difficulty tuning harder. Idea C: Tower defence — meets C2,3,5; high complexity increases C4 risk. All annotated with Endstar feature requirements, development time estimate, and criteria match."},
        2: {1:"[One screen sketch, no gameplay description]",
            2:"I chose the side-scrolling platformer. It has 3 levels, a power-up, and an enemy to avoid.",
            3:"I chose Idea A (side-scroller with power-ups) because it scored highest in peer review (4.2/5) and best meets the learnability criterion — the jump mechanic is universally understood. Main risk: difficulty balancing — I will use Endstar's variable speed parameter per level.",
            4:"I chose Idea A and justify fully: [C1] Jump mechanic tested with 3 new players — all understood in under 15 seconds. [C2] Objective stated by all 3 testers after 45 seconds. [C3] Paper prototype completion rates: L1 88%, L2 54%, L3 28% — all within targets. [C4] Simple mechanic reduces bug risk. [C5] Estimated 12-18 minutes per run. [C6] Rated 4.3/5. Peer review: 4.4/5."},
        3: {1:"Not applicable at this level.",
            2:"Steps: 1. Build Level 1. 2. Add player. 3. Add enemies. 4. Add power-up. 5. Build Levels 2-3. 6. Add UI and sound. 7. Test.",
            3:"Endstar build sequence (level by level). Game design document: player attributes, enemy behaviours, power-up effects, level layouts on grid paper, UI wireframe.",
            4:"Full game design document: player attribute table, enemy behaviour flowcharts, power-up specifications, level map sketches, UI wireframe, Endstar node map, audio asset list, difficulty parameter table, and a testing plan. Peer developer built Level 1 from this document."}
      },
      C: {
        0: {1:"[Level 1 started but player falls through the floor. Enemies not yet added.]",
            2:"Level 1 is playable. Player can move and jump, enemies move, and the level has an exit. Level 2 is started but unfinished.",
            3:"All 3 levels are complete. Core mechanic works consistently, power-up functions in all levels, enemies behave as designed, UI shows health and score, and the game completes without crashes.",
            4:"Excellent development: difficulty tuned using Endstar parameters (speed increases 15% per level, enemy count increases by 2), custom sprite assets created, adaptive feedback system implemented, game tested on 3 devices with identical performance."},
        1: {1:"[Player movement works but jump is inconsistent. Enemies spawn in walls.]",
            2:"My game is playable across all 3 levels. Jump mechanic is consistent, enemies move correctly, and the game reaches an end screen.",
            3:"My game demonstrates competent Endstar development: all 3 levels playable, core mechanic consistent, power-up functional, UI complete, 0 game-breaking bugs across 5 test runs.",
            4:"High standard: all movement frame-rate independent, enemy AI uses a state machine, power-up has timed duration with visual feedback, all Endstar nodes labelled and organised, game runs at consistent 60fps on all tested devices."},
        2: {1:"Not applicable at this level.",
            2:"My game is partially functional — Levels 1 and 2 work but Level 3 has an enemy spawning outside the boundary.",
            3:"My game functions as intended: all 3 levels complete without bugs, difficulty increases measurably per level, game ends correctly.",
            4:"I followed my game design document and the game meets all 6 criteria. Bug log: 7 bugs found and resolved. Level completion rates: L1 84%, L2 48%, L3 20%."},
        3: {1:"Not applicable at this level.",
            2:"I changed the jump height because some platforms were unreachable.",
            3:"Changes: [1] Increased jump height 280→340 units — 2 platforms unreachable at original height. [2] Reduced Level 1 enemy speed — 4/5 playtesters found Level 1 too difficult for an introduction.",
            4:"Change log: [1] Jump height 280→340: 3 platforms unreachable in playtest (2/5 players couldn't pass L1 platform 4); 340 confirmed reachable by all 5. [2] L1 enemy speed 1.2→0.8x: L1 completion rate pre-change 40% (target 80%); post-change 84%. [3] Invincibility on power-up pickup added: players lost health immediately after collecting; 5-second invincibility resolved. All changes evidenced by playtester data."}
      },
      D: {
        0: {1:"My test: I will play all 3 levels and check nothing breaks.",
            2:"Test 1 — Stability: 5 complete playthroughs, no game-breaking bugs. Pass if all 5 complete without crash. This checks Criterion 4.",
            3:"Test 1 — Learnability (C1): 3 new players time to first correct action; pass if ≤30 seconds. Test 2 — Objective (C2): 3 players state goal after 60 seconds; pass if all correct. Test 3 — Difficulty (C3): completion rate per level across 5 playtesters. Test 4 — Stability (C4): 5 full runs, pass if 0 game-breaking bugs.",
            4:"Testing plan: [C1] 3 new players; time from start to first correct action; target ≤30 seconds. [C2] 3 players asked goal after 60 seconds; target: all state correct objective. [C3] 5 playtesters; level completion rate; targets L1 ≥80%, L2 ≥50%, L3 ≥30%. [C4] 5 runs on 3 devices; target 0 game-breaking bugs. [C5] Stopwatch on 5 runs; target 10-20 minutes. [C6] 5-person panel rates aesthetics; target ≥4.0."},
        1: {1:"My game works and players can finish all 3 levels.",
            2:"Test results: C4 PASS (0 game-breaking bugs). C5 PASS (average 14.5 minutes). My game meets 2 criteria.",
            3:"Evaluation: [C1] PASS — all 3 new players understood mechanic in under 20 seconds. [C2] PASS — all 3 correctly stated the objective. [C3] PARTIAL — L1 84%, L2 48% (2% under), L3 20% (10% below). [C4] PASS. [C5] PASS — 14.5 min. [C6] PASS — 4.1/5.",
            4:"Critical evaluation: [C1] PASS. [C2] PASS. [C3] PARTIAL FAIL — L2 48% (target 50%), L3 20% (target 30%); root cause: difficulty gap between L2 and L3 too steep (50% speed increase vs 15% between L1-L2). Recommendation: reduce L3 speed multiplier 1.5x→1.25x. [C4] PASS. [C5] PASS. [C6] PASS. 5/6 full passes; specific parameter fix identified."},
        2: {1:"I could add more levels.",
            2:"I would reduce the difficulty jump between Levels 2 and 3 and add a checkpoint system.",
            3:"Improvements: [1] Reduce L3 enemy speed 1.5x→1.25x — L3 completion 10% below target. [2] Add mid-level checkpoint — 3/5 players abandoned L3 after dying; checkpoint increases retry motivation.",
            4:"Improvement plan: [C3] Reduce L3 speed 1.5x→1.25x: L3 completion 20% vs 30% target; the 0.35x step between L2 and L3 vs 0.2x step between L1 and L2 is root cause; 1.25x creates consistent 0.2x step. 2-minute fix in Endstar. [Checkpoint] Add at mid-level: 3/5 players abandoned L3; game design research: checkpoints increase L3 completion up to 15%. [Parallax] 2/5 mentioned background felt static; parallax background adds visual depth."},
        3: {1:"My game is fun and players enjoyed it.",
            2:"4 out of 5 players would play the game again.",
            3:"Impact: [1] 4/5 players completed all 3 levels on first session. [2] All 5 said they would play again. [3] Average session rating: 4.2/5.",
            4:"Impact analysis: [Engagement] 4/5 completed all 3 levels; average 14.5 minutes. [Replayability] 5/5 said they would play again; 3/5 immediately replayed Level 3. [Accessibility] All 3 new players understood mechanic in under 30 seconds — no tutorial needed. [Limitation] Only tested on school computers; mobile/low-spec performance unknown. Version 2 should include a mobile-optimised control scheme."}
      }
    }
  },
  "MYP5-PD-assistive": {
    MYP5: {
      A: {
        0: {1:"Elderly people sometimes need help with everyday tasks.",
            2:"Elderly people need an assistive device because physical limitations that come with ageing make certain everyday tasks difficult or impossible to perform independently.",
            3:"There is a need for an assistive device for the elderly because ageing reduces grip strength, fine motor control, and reach. Many everyday objects are designed for younger, able-bodied users, creating unnecessary dependence for elderly individuals.",
            4:"My client — an elderly person aged 70+ — needs a purpose-designed assistive device because their specific limitation ([condition]) prevents them from performing [task] independently. My observational assessment and interview confirm that no affordable off-the-shelf solution meets their exact need, and this limitation directly impacts their daily quality of life."},
        1: {1:"I found that elderly people have weaker grip and that some products already help with this.",
            2:"I need to research: what specific limitation my client has, what tasks they struggle with, what assistive devices exist, and what materials are safe for elderly users.",
            3:"Research plan: 1. Client interview and observational assessment (PRIMARY). 2. Carer/occupational therapist consultation (PRIMARY). 3. Analyse 3 existing assistive devices (SECONDARY). 4. Research ergonomic design for elderly users (SECONDARY). Prioritized by client-centredness.",
            4:"Research Plan: [1] Client interview + observational assessment (PRIMARY) — highest priority; defines the exact need. [2] Occupational therapist consultation (PRIMARY) — professional insight into safe design. [3] Existing device analysis (SECONDARY) — identifies proven solutions and gaps. [4] Ergonomics research for elderly users (SECONDARY) — defines material, weight, and safety parameters. Each source directly links to a specification criterion."},
        2: {1:"Not applicable at this level.",
            2:"I analysed one existing jar opener. It has a cushioned handle (comfortable), strong teeth (functional), but requires two hands. My client only has reliable use of one hand, so I will design a one-handed solution.",
            3:"I analysed 3 existing assistive devices for grip limitation. All three require two hands. The most effective use soft-grip rubber and leverage to reduce force. The gap: no single-handed, affordable option exists.",
            4:"I analysed 5 assistive devices using ACCESS FM adapted for assistive technology. Patterns: all effective devices reduce required force by at least 50% through leverage; all use soft non-slip materials at contact points; all fail for single-handed users. Cost gap: effective devices $15-40; none under $15. This gap — under-$15, single-handed, effective — defines my design brief."},
        3: {1:"Not applicable at this level.",
            2:"My research shows my client needs a device requiring minimal grip force, works with one hand, and is easy to clean. I will use soft rubber and a lever mechanism.",
            3:"Design brief: Client assessment confirms [specific limitation]. Research shows lever principles reduce required grip force by up to 70%. All existing solutions require two hands. My device must be one-handed, require less than 0.5kg of grip force, use non-toxic materials, be dishwasher safe, and cost under $15.",
            4:"Design Brief: Three critical insights — (1) client grip strength approximately 2kg (vs 25kg average), requiring ≤0.5kg to operate; (2) all existing solutions require two hands — a critical gap; (3) client prioritises dignity: the device must not look 'medical'. My solution must work at ≤0.5kg grip force, be operable one-handed, have a non-institutional aesthetic, use food-safe materials, and cost under $15."}
      },
      B: {
        0: {1:"My device must help my client with [task].",
            2:"Success criteria: 1. Help with [task]. 2. Easy to use with limited grip. 3. Be safe. 4. Be affordable.",
            3:"Specifications: 1. FUNCTION — completes [task] with ≤0.5kg applied force. 2. ONE-HANDED — operable single-handed confirmed by client trial. 3. SAFETY — no sharp edges, non-toxic, passes 1m drop test. 4. DIGNITY — rated ≥4/5 by client for non-institutional appearance. 5. COST — under $15.",
            4:"Detailed Specifications: [1] ≤0.5kg grip force (client's grip: ~2kg; 4x safety margin). [2] Single-handed confirmed by client trial. [3] All materials food-safe and non-toxic. [4] Drop-safe from 1m (client has tremor-related dropping). [5] Dignity: ≥4/5 by client on appearance. [6] Cost ≤$15."},
        1: {1:"[Rough sketch of a device shape]",
            2:"Idea 1: Soft-grip handle with lever arm to open jars. Idea 2: Rubber pad that wraps around the lid. Both sketched with labels.",
            3:"Idea A: Lever-arm opener with moulded soft-grip handle — uses mechanical advantage, one-handed, natural material. Idea B: Adjustable rubber strap — very low force, one-handed, low cost. Idea C: Under-counter mounted opener — no grip needed, requires installation. All three feasible for different reasons.",
            4:"Idea A: Lever-arm — meets all 6 criteria; lever reduces force below 0.5kg; wood handle aesthetic; estimated cost $11. Idea B: Rubber strap — meets C1,2,3,5,6; lowest cost $4; slightly less dignified. Idea C: Counter-mount — meets C1,2,3; fails C5 ($40+) and requires kitchen modification. All annotated with force calculations, material options, cost, and criteria match."},
        2: {1:"[One view only, no dimensions]",
            2:"I chose the lever-arm design. It has a wooden handle and a metal hook that grips under the lid.",
            3:"I chose Idea A (lever-arm) because it scored highest in client evaluation (4.5/5 for dignity) and the lever mechanism reduces grip force to under 0.3kg in my test prototype. Main risk: metal hook scratching lids — I will add a rubber tip.",
            4:"I chose Idea A and justify fully: [C1] Prototype reduces required force from 2.0kg to 0.28kg (spring scale tested). [C2] Client trial confirmed one-handed success. [C3] Wood and rubber are food-safe; drop test: no damage from 1m. [C4] Client rated appearance 4.6/5 ('looks like a kitchen tool'). [C5] Estimated $11. All 5 criteria met or exceeded."},
        3: {1:"Not applicable at this level.",
            2:"Steps: 1. Cut wooden handle. 2. Shape hook. 3. Attach rubber grip. 4. Fix hook with bolt. 5. Sand and finish.",
            3:"Planning drawings (top, front, side views with dimensions). Force diagram showing lever calculation. Requirements: birch dowel, mild steel rod, rubber grip, M4 bolt, linseed oil.",
            4:"Accurate dimensioned drawings (all views, lever detail, exploded assembly). Force diagram with calculations. Full materials list with costs ($11 total). Construction sequence with times, tools, safety notes, and quality checkpoints. Peer assembled a prototype from these instructions."}
      },
      C: {
        0: {1:"[Handle cut but hook not shaped or attached. Device not functional.]",
            2:"My device has the handle and hook assembled. The rubber grip is attached. It opens jars but requires more force than intended.",
            3:"My device is complete: lever arm correctly proportioned, hook tips rubber-coated, handle ergonomically shaped, finish applied, and client confirmed all jars opened with one hand on first attempt.",
            4:"Excellent craftsmanship: lever ratio calculated precisely (5:1 mechanical advantage confirmed), hook shaped with bench vice to exact curvature, handle contoured to fit client's specific hand dimensions, rubber grip heat-shrunk for permanent bond, all edges rounded to 2mm radius, finished with food-safe linseed oil."},
        1: {1:"[Hook does not engage lid. Device ineffective.]",
            2:"My device opens most standard jar sizes. Force required is reduced compared to unassisted opening.",
            3:"My device demonstrates competent making: lever ratio correct, hook engages all tested sizes, rubber grip secure, handle comfortable for extended use.",
            4:"High standard: hook profile tested on 8 jar sizes (all engaged correctly), lever ratio confirmed at 4.8:1 actual (target 5:1, within 4%), handle ergonomically tested by client ('fits my hand perfectly'), rubber grip passed 200-cycle durability test."},
        2: {1:"Not applicable at this level.",
            2:"My device works for standard jars but doesn't grip lids smaller than 5cm.",
            3:"My device functions as intended for all tested jar sizes (5-12cm lid diameter), confirmed by client trial with 0 failures.",
            4:"I followed my production plan and the device meets all 6 specification criteria. Client trial: 8 jars across 3 sessions, all opened on first attempt with clearly reduced effort."},
        3: {1:"Not applicable at this level.",
            2:"I changed the hook shape because it didn't grip the lid properly.",
            3:"Changes: [1] Hook curve increased 4→7mm — original slipped off lids under 8cm. [2] Lever arm extended 15→18cm — force at 15cm was 0.42kg, above the 0.4kg target; 18cm achieves 0.31kg.",
            4:"Change log: [1] Hook curve 4→7mm: slipped off 4/8 jar sizes; 7mm engaged all 8. [2] Lever arm 15→18cm: 0.42kg at 15cm (above target); 0.31kg at 18cm. [3] Handle width reduced 28→22mm: client reported original 'too wide'; 22mm confirmed comfortable. All changes evidenced by measurement and client feedback."}
      },
      D: {
        0: {1:"My test: I will ask my client to use the device and see if it works.",
            2:"Test 1 — Force: spring scale measures force to open a jar with the device. Pass if under 0.5kg. This checks Criterion 1.",
            3:"Test 1 — Force (C1): spring scale, 5 trials, 3 jar sizes; pass if all under 0.5kg. Test 2 — One-handed (C2): client opens 3 jars without second hand; pass if all 3 successful. Test 3 — Safety (C3): inspect edges; drop from 1m; pass if no sharp edges and no damage. Test 4 — Cost (C6): total receipts; pass if under $15.",
            4:"Testing plan: [C1] Spring scale on 8 jar sizes, 3 trials each; target ≤0.5kg all readings. [C2] Client opens 5 jars across 3 sessions, no second hand; target ≥4/5 first attempt. [C3] Tactile edge check; 3 drops from 1m; target no sharp edges, no structural damage. [C4] Client rates appearance 1-5; target ≥4. [C5] 50 open/close cycles; target no deformation. [C6] Material receipts total; target ≤$15."},
        1: {1:"My client said the device helped them open jars.",
            2:"Test results: C1 PASS (0.31kg average). C2 PASS (client opened all 3 jars). My device meets 2 criteria.",
            3:"Evaluation: [C1] PASS — 0.31kg average. [C2] PASS — 4/5 jars first attempt. [C3] PASS — no sharp edges, no drop damage. [C4] PASS — 4.6/5. [C5] PARTIAL PASS — minor rubber grip deformation after 50 cycles. [C6] PASS — $11. 5 of 6 criteria fully met.",
            4:"Critical evaluation: [C1] PASS — 0.31kg, 38% below target. [C2] PASS — 4/5 first-attempt success. [C3] PASS. [C4] PASS — 4.6/5 ('looks like something from a nice kitchen shop'). [C5] PARTIAL FAIL — 2mm rubber compression after 50 cycles; root cause: Shore 40A too soft; recommendation: replace with Shore 60A. [C6] PASS — $11. 5/6 full passes; specific material change identified."},
        2: {1:"I could make it work for smaller jars.",
            2:"I would use harder rubber and adjust the hook for smaller lids.",
            3:"Improvements: [1] Replace Shore 40A rubber with Shore 60A — grip deformed after 50 cycles. [2] Adjust hook for 4cm minimum lid diameter — device currently doesn't engage lids under 5cm.",
            4:"Improvement plan: [C5] Shore 40A→Shore 60A: 2mm compression after 50 cycles; Shore 60A rated for 500+ cycles in commercial openers; cost neutral. [Hook range] Adjust for 4cm minimum: 2 jam jars in client's pantry have 4.5cm lids; 9mm hook curvature achieves this. [C4] Beeswax finish instead of linseed oil: client preferred beeswax smell; same food-safe properties."},
        3: {1:"My device helps my client open jars.",
            2:"My client said the device made opening jars much easier and they felt more independent.",
            3:"Impact: [1] Client opened 4/5 jars independently (pre-device: 0/5). [2] Client reported 'I can do it myself now'. [3] No pain during use (pre-device: significant pain reported every attempt).",
            4:"Impact analysis: [Independence] Pre-device: 0/5 jars opened. Post-device: 4/5 on first attempt — 100% improvement. [Pain] 0 pain reported during use vs 'significant pain' pre-device. [Dignity] 4.6/5 — 'it belongs in my kitchen'. [Limitation] Tested with one client only; broader testing across grip conditions needed. Version 2 with adjustable hook width would serve a wider range of users."}
      }
    }
  },
  "MYP5-DD-python": {
    MYP5: {
      A: {
        0: {1:"Students need an app to help them with a specific task.",
            2:"Students need a Python app because they currently use slow, manual methods for [specific task], which wastes time and introduces errors.",
            3:"There is a need for a Python application because students performing [specific task] manually make frequent errors and lose significant time. No free, lightweight solution currently exists for this specific use case.",
            4:"My target users - [specific audience] - need a purpose-built Python app because existing solutions are either too expensive, too complex, or do not address [specific problem]. My survey of 10 potential users showed 90% experience this problem weekly, and 80% said they would use a free, simple app if one existed."},
        1: {1:"I found that Python can build apps with text interfaces and that similar apps exist online.",
            2:"I need to research: what features users need, what Python libraries are available, and what similar apps look like.",
            3:"Research plan: 1. User needs survey (PRIMARY). 2. Analyse 3 existing similar apps (SECONDARY). 3. Research relevant Python libraries (SECONDARY). 4. Define input/output requirements (PRIMARY). Prioritized by design impact.",
            4:"Research Plan: [1] User survey (PRIMARY) - highest priority; defines all features and acceptance criteria. [2] Existing app analysis (SECONDARY) - identifies proven UI patterns. [3] Python library research (SECONDARY) - determines what is technically feasible. [4] User workflow mapping (PRIMARY) - defines the exact problem the app must solve. Each source directly informs a specific specification criterion."},
        2: {1:"Not applicable at this level.",
            2:"I analysed [existing app]. It does [function] well, has a simple interface, but crashes when given invalid input. I will build better input validation into my app.",
            3:"I analysed 3 existing apps solving similar problems. Patterns: the most usable ones have clear prompts, handle errors gracefully, and provide confirmation before irreversible actions. All lacked the specific feature my users need.",
            4:"I analysed 5 existing apps using a comparative analysis across: input validation, error handling, output clarity, feature completeness, and ease of first use. Key gaps in all existing solutions: none validate all edge cases, none provide context-sensitive help, and none are free. These 3 gaps directly define my 3 highest-priority specification criteria."},
        3: {1:"Not applicable at this level.",
            2:"My research shows users need [feature 1], [feature 2], and [feature 3]. The app must run from the command line and handle invalid inputs.",
            3:"Design brief: User survey (n=10) defines 5 required features in priority order. Existing app analysis shows 3 gaps my app will fill. Python is the appropriate language (libraries available, no installation needed for target users). All findings connect to at least one specification criterion.",
            4:"Design Brief: Research reveals 3 critical insights - (1) 90% of users need [primary feature], (2) all existing solutions fail on input validation, (3) users have beginner Python knowledge so the app must be runnable with a single command. My app must: implement [primary feature], validate all inputs with clear error messages, and run with python app.py. Every specification criterion derives from one of these three insights."}
      },
      B: {
        0: {1:"My app must complete [task].",
            2:"Success criteria: 1. Complete [primary task]. 2. Handle invalid input. 3. Display results clearly. 4. Run without crashing.",
            3:"Specifications: 1. FUNCTIONALITY - completes [task] correctly for all valid inputs (tested with 10 test cases). 2. ROBUSTNESS - handles invalid input with clear error messages, does not crash. 3. USABILITY - all prompts clear enough for first-time user to complete task without help. 4. PERFORMANCE - completes task in under 2 seconds.",
            4:"Detailed Specifications (all linked to research): [1] [Primary feature] correct output for 10 documented test cases (user need #1). [2] 0 crashes on 20 test inputs including edge cases (gap in existing apps). [3] First-time user completes primary task without assistance (beginner user context). [4] Run time under 2 seconds for all test cases. [5] Clear output format - tested with 5 users who all interpret results correctly."},
        1: {1:"[Basic flowchart sketch of the app logic]",
            2:"Idea 1: Text-based menu interface with numbered options. Idea 2: Direct command-line arguments. Both wireframed as pseudocode.",
            3:"Idea A: Menu-driven interface - most accessible for beginners, handles errors well, slightly more code. Idea B: Command-line argument interface - faster for experienced users, harder for beginners. Idea C: File-based input/output - useful for batch processing, not intuitive for single tasks. All three feasible.",
            4:"Idea A: Menu-driven - meets C1,2,3,4,5; most accessible; error handling straightforward. Idea B: CLI arguments - meets C1,2,4; fails C3 (requires command-line syntax knowledge). Idea C: File-based - meets C1,4; fails C3,2 for novice users. All annotated with code complexity estimate, library requirements, and criteria match. Idea A is the only design that meets all 5 criteria for the target user."},
        2: {1:"[Basic flowchart, no code structure]",
            2:"I chose the menu-driven interface. It shows a numbered list of options and the user types their choice.",
            3:"I chose Idea A (menu-driven) because it best meets the usability criterion for beginner users and was confirmed as the preferred interface by 8/10 survey respondents. Main challenge: handling non-integer menu input - I will use try/except to catch this.",
            4:"I chose Idea A and justify fully: [C1] All functions achievable with standard library. [C2] try/except blocks handle all non-integer and out-of-range inputs. [C3] Menu tested with 3 first-time users - all completed primary task without help. [C4] Benchmarked: menu overhead adds <0.1 seconds. [C5] Output format confirmed as clear by 5-user panel. Peer review: 4.2/5."},
        3: {1:"Not applicable at this level.",
            2:"Pseudocode: while True → show menu → get input → if 1 → do function 1 → if 2 → do function 2 → if 3 → quit.",
            3:"Flowchart (main loop, all branches, error handling). Pseudocode for each function. Module structure: main.py, functions.py, validator.py. Data structures: list for [data], dictionary for [lookup].",
            4:"Full technical design document: flowchart (all logic paths including error states), pseudocode for all functions, class/module structure, data structure definitions, expected inputs/outputs for all 10 test cases, and a testing plan. Peer developer successfully implemented core module from this document."}
      },
      C: {
        0: {1:"[App file exists but produces syntax error on run.]",
            2:"My app runs and completes the primary function. Error handling is not yet implemented.",
            3:"My app runs without crashes, completes all primary functions, handles invalid input with clear messages, and all prompts are understandable to a first-time user.",
            4:"High-quality code: modular structure (main.py calls separate functions module), comprehensive input validation using custom validator class, docstrings on all functions, all edge cases tested and handled, consistent output formatting with f-strings, and code passes PEP8 style check."},
        1: {1:"[App crashes with ZeroDivisionError when given 0 as input.]",
            2:"My app works for standard inputs. It crashes when the user enters a letter instead of a number.",
            3:"My app demonstrates competent Python skills: all primary functions work correctly, try/except blocks handle common invalid inputs, and the menu navigation is clear.",
            4:"Excellent Python skills: list comprehensions used to reduce code length by 40%, custom exception classes defined for domain-specific errors, all functions have single responsibility, unit tests written for all functions, and code reviewed by teacher with no major issues identified."},
        2: {1:"Not applicable at this level.",
            2:"My app partially works - functions 1 and 2 work correctly but function 3 gives a wrong answer when the input is very large.",
            3:"My app functions as intended: all 5 functions produce correct outputs across all test cases, error handling works for all documented invalid inputs.",
            4:"I followed my design document and the app meets all 5 specification criteria. All 10 planned test cases pass. Bug log: 3 bugs found and fixed during development. All changes documented with commit-style messages."},
        3: {1:"Not applicable at this level.",
            2:"I changed the menu numbering because users kept confusing options 2 and 3.",
            3:"Changes: [1] Reordered menu from frequency-based to logical workflow order - users completed tasks 40% faster in revised testing. [2] Added input confirmation before irreversible actions - 2 users accidentally lost data in initial version.",
            4:"Change log: [1] Menu reordered: frequency-based (most-used first) caused confusion when options 2 and 3 were functionally similar - logical workflow order reduced task completion time by 38% in post-change test. [2] Confirmation prompt added before delete function: 2/5 initial testers accidentally deleted data - confirmation reduces error rate to 0 in post-change test. [3] Output reformatted from comma-separated to tabular (using format() strings): 3/5 testers misread the comma-separated format; tabular format correctly interpreted by 5/5. All changes evidenced by before/after test data."}
      },
      D: {
        0: {1:"My test: I will run the app and check if it gives the right answer.",
            2:"Test 1 - Functionality: run 5 standard test cases and compare output to manually calculated answers. Pass if all 5 correct. This checks Criterion 1.",
            3:"Test 1 - Functionality (C1): 10 test cases (8 standard, 2 edge cases); pass if all correct. Test 2 - Robustness (C2): 10 invalid inputs; pass if app handles all without crashing. Test 3 - Usability (C3): 3 first-time users complete primary task; pass if all succeed unaided. Test 4 - Performance (C4): time 10 runs; pass if all under 2 seconds.",
            4:"Testing plan: [C1 - Functionality] 10 documented test cases with expected outputs; automated where possible using assert statements; target: all pass. [C2 - Robustness] 20 invalid inputs (non-integer, negative, very large, empty, special characters); target: 0 crashes, all produce clear error messages. [C3 - Usability] 5 first-time users given no instructions; target: ≥4/5 complete primary task unaided. [C4 - Performance] time.time() benchmarks 10 runs; target: all under 2 seconds. [C5 - Output clarity] 5 users interpret output without help; target: ≥4/5 correct interpretation."},
        1: {1:"My app gives the right answer for the main task.",
            2:"Test results: C1 PASS (all 5 test cases correct). C4 PASS (all under 0.3 seconds). My app meets 2 criteria.",
            3:"Evaluation: [C1] PASS - all 10 test cases correct. [C2] PARTIAL PASS - app handles 8/10 invalid inputs; crashes on empty string and negative zero. [C3] PASS - 3/3 first-time users completed task. [C4] PASS - max time 0.3 seconds. [C5] PASS - 4/5 users interpreted output correctly.",
            4:"Critical evaluation: [C1] PASS - all 10 test cases pass (3 trials). [C2] PARTIAL FAIL - crashes on empty string input and negative zero (2/20 invalid inputs); root cause: validator does not check for empty string before int() conversion. Fix: add 'if not input_str' check before conversion. [C3] PASS - 4/5 users succeeded; 1 user confused by prompt wording - revised prompt in post-test. [C4] PASS - max 0.28 seconds. [C5] PASS - 5/5 correct after prompt revision. 4/5 full passes; specific fix identified for C2."},
        2: {1:"I could add more features.",
            2:"I would fix the crash on empty input and add a feature to save results to a file.",
            3:"Improvements: [1] Fix empty string crash - add 'if not user_input' check before int() conversion. [2] Add file export - 3/5 users requested the ability to save results.",
            4:"Improvement plan: [C2 - Robustness] Add empty string check: 'if not user_input.strip(): raise ValueError(\"Input cannot be empty\")'; evidence: 2/20 invalid inputs caused crash; this single line fixes both empty string and whitespace-only input. [C2 - Negative zero] Add 'if value == 0 and sign == -1' check. [Feature - File export] 3/5 users requested this; implement using csv module; adds approximately 15 lines of code; stores all session results. All improvements are specific, feasible, and referenced to test evidence or user feedback."},
        3: {1:"My app helps users complete [task] faster.",
            2:"My app helps users complete [task] without errors. 4 out of 5 test users said it saved them time.",
            3:"Impact: [1] Average task completion time with app: 12 seconds vs 3.5 minutes manually (95% time saving, n=5). [2] Error rate with app: 0 errors in 10 test runs vs average 2.3 errors manually. [3] 4/5 users would use the app regularly.",
            4:"Impact analysis: [Efficiency] Average task time 12 seconds (app) vs 3.5 minutes (manual) - 94.3% reduction (n=5, 3 trials each). [Accuracy] 0 calculation errors in 30 app runs vs 23% error rate manually. [Adoption] 4/5 users would use daily; 1 user requested a GUI version for non-technical users. [Limitation] Command-line interface limits accessibility for non-technical users - a future Tkinter GUI version would broaden the user base. This limitation was identified by 3/5 users."}
      }
    }
  }
};

var DATA = {
  A:{name:"Inquiring & Analyzing",strands:[
    {t:"Explain and Justify the Need",d:{
      MYP1:["states the need for a solution to a problem","outlines the need for a solution to a problem","explains the need for a solution to a problem","explains and justifies the need for a solution to a problem"],
      MYP3:["states the need for a solution to a problem","outlines the need for a solution to a problem","explains the need for a solution to a problem","explains and justifies the need for a solution to a problem"],
      MYP5:["states the need for a solution to a problem for a specified client/target audience","outlines the need for a solution to a problem for a specified client/target audience","explains the need for a solution to a problem for a specified client/target audience","explains and justifies the need for a solution to a problem for a client/target audience"]
    }},
    {t:"Identify and Prioritize Research",d:{
      MYP1:["states the findings of research","states some points of research needed to develop a solution, with some guidance","states and prioritizes the main points of research needed to develop a solution to the problem, with some guidance","states and prioritizes the main points of research needed to develop a solution to the problem, with minimal guidance"],
      MYP3:["states some of the main findings of relevant research","states the research needed to develop a solution to the problem, with some guidance","constructs a research plan, which states and prioritizes the primary and secondary research needed to develop a solution, with some guidance","constructs a research plan, which states and prioritizes the primary and secondary research needed to develop a solution independently"],
      MYP5:["develops a basic design brief, which states the findings of relevant research","outlines a research plan, which identifies primary and secondary research needed to develop a solution, with some guidance","constructs a research plan, which identifies and prioritizes primary and secondary research needed to develop a solution, with some guidance","constructs a detailed research plan, which identifies and prioritizes the primary and secondary research needed to develop a solution independently"]
    }},
    {t:"Analyze Existing Products",d:{
      MYP1:["Not Applicable","states the main features of an existing product that inspires a solution to the problem","outlines the main features of an existing product that inspires a solution to the problem","describes the main features of an existing product that inspires a solution to the problem"],
      MYP3:["Not Applicable","outlines one existing product that inspires a solution to the problem","describes a group of similar products that inspire a solution to the problem","analyses a group of similar products that inspire a solution to the problem"],
      MYP5:["Not Applicable","analyses one existing product that inspires a solution to the problem","analyses a range of existing products that inspire a solution to the problem","analyses a range of existing products that inspire a solution to the problem in detail"]
    }},
    {t:"Develop A Design Brief",d:{
      MYP1:["Not Applicable","outlines some of the main findings of research","outlines the main findings of relevant research","presents the main findings of relevant research"],
      MYP3:["Not Applicable","develops a basic design brief, which outlines some of the relevant research","develops a design brief, which outlines the findings of relevant research","develops a design brief, which presents the analysis of relevant research"],
      MYP5:["Not Applicable","develops a design brief, which outlines the analysis of relevant research","develops a design brief, which explains the analysis of relevant research","develops a detailed design brief, which summarizes the analysis of relevant research"]
    }}
  ]},
  B:{name:"Developing Ideas",strands:[
    {t:"Develop A Design Specification",d:{
      MYP1:["states one basic success criterion for a solution","states a few success criteria for the solution","develops a few success criteria for the solution","develops a list of success criteria for the solution"],
      MYP3:["lists a few basic success criteria for the design of a solution","constructs a list of the success criteria for the design of a solution","develops design specifications, which identify the success criteria for the design of a solution","develops a design specification which outlines the success criteria for the design of a solution based on the data collected"],
      MYP5:["lists some basic design specifications for the design of a solution","lists some design specifications, which relate to the success criteria for the design of a solution","develops design specifications, which outline the success criteria for the design of a solution","develops detailed design specifications, which explain the success criteria for the design of a solution based on the analysis of the research"]
    }},
    {t:"Develop Design Ideas",d:{
      MYP1:["presents one design idea, which can be interpreted by others","presents more than one design idea, using an appropriate medium or labels key features, which can be interpreted by others","presents a few feasible design ideas, using an appropriate medium and labels key features, which can be interpreted by others","presents feasible design ideas, using an appropriate medium and outlines the key features, which can be correctly interpreted by others"],
      MYP3:["presents one design idea, which can be interpreted by others","presents a few feasible design ideas, using an appropriate medium or explains key features, which can be interpreted by others","presents a range of feasible design ideas, using an appropriate medium and explains key features, which can be interpreted by others","presents a range of feasible design ideas, using an appropriate medium and annotation, which can be correctly interpreted by others"],
      MYP5:["presents one design, which can be interpreted by others","presents a few feasible designs, using an appropriate medium or annotation, which can be interpreted by others","develops a range of feasible design ideas, using an appropriate medium and annotation, which can be interpreted by others","develops a range of feasible design ideas, using an appropriate medium and detailed annotation, which can be correctly interpreted by others"]
    }},
    {t:"Present the Chosen Design",d:{
      MYP1:["creates an incomplete planning drawing/diagram","states the key features of the chosen design","presents the chosen design stating the key features","presents the chosen design describing the key features"],
      MYP3:["creates incomplete planning drawings/diagrams","outlines the main reasons for choosing the design with reference to the design specification","presents the chosen design and outlines the main reasons for its selection with reference to the design specification","presents the chosen design and outlines the reasons for its selection with reference to the design specification"],
      MYP5:["creates incomplete planning drawings/diagrams","justifies the selection of the chosen design with reference to the design specification","presents the chosen design and justifies its selection with reference to the design specification","presents the chosen design and justifies fully and critically its selection with detailed reference to the design specification"]
    }},
    {t:"Develop Planning Drawings/Diagram",d:{
      MYP1:["Not Applicable","creates a planning drawing/diagram or lists requirements for the creation of the chosen solution","creates a planning drawing/diagram and lists the main details for the creation of the chosen solution","creates a planning drawing/diagram, which outlines the main details for making the chosen solution"],
      MYP3:["Not Applicable","creates planning drawings/diagrams or lists requirements for the chosen solution","develops accurate planning drawings/diagrams and lists requirements for the creation of the chosen solution","develops accurate planning drawings/diagrams and outlines requirements for the creation of the chosen solution"],
      MYP5:["Not Applicable","creates planning drawings/diagrams or lists requirements for the creation of the chosen solution","develops accurate planning drawings/diagrams and lists requirements for the creation of the chosen solution","develops accurate and detailed planning drawings/diagrams and outlines requirements for the creation of the chosen solution"]
    }}
  ]},
  C:{name:"Creating the Solution",strands:[
    {t:"Construct A Logical Plan",d:{
      MYP1:["demonstrates minimal technical skills when making the solution","lists the main steps in a plan that contains some details, resulting in peers having difficulty following","lists the steps in a plan, which considers time and resources, resulting in peers being able to follow","outlines a plan, which considers the use of resources and time, sufficient for peers to be able to follow to create the solution"],
      MYP3:["demonstrates minimal technical skills when making the solution","outlines each step in a plan that contains some details, resulting in peers having difficulty following","constructs a plan, which considers time and resources, sufficient for peers to be able to follow to create the solution","constructs a logical plan, which outlines the efficient use of time and resources, sufficient for peers to follow"],
      MYP5:["demonstrates minimal technical skills when making the solution","constructs a plan that contains some production details, resulting in peers having difficulty following","constructs a logical plan, which considers time and resources, sufficient for peers to be able to follow to create the solution","constructs a detailed logical plan, which describes the efficient use of time and resources, sufficient for peers to follow"]
    }},
    {t:"Demonstrate Technical Skills",d:{
      MYP1:["creates the solution, which functions poorly and is presented in an incomplete form","demonstrates satisfactory technical skills when making the solution","demonstrates competent technical skills when making the solution","demonstrates excellent technical skills when making the solution"],
      MYP3:["creates the solution, which functions poorly and is presented in an incomplete form","demonstrates satisfactory technical skills when making the solution","demonstrates competent technical skills when making the solution","demonstrates excellent technical skills when making the solution"],
      MYP5:["creates the solution, which functions poorly and is presented in an incomplete form","demonstrates satisfactory technical skills when making the solution","demonstrates competent technical skills when making the solution","demonstrates excellent technical skills when making the solution"]
    }},
    {t:"Follow the Plan to Create the Solution",d:{
      MYP1:["Not Applicable","creates the solution, which partially functions and is adequately presented","creates the solution, which functions as intended and is presented appropriately","follows the plan to create the solution, which functions as intended and is presented appropriately"],
      MYP3:["Not Applicable","creates the solution, which partially functions and is adequately presented","creates the solution, which functions as intended and is presented appropriately","follows the plan to create the solution, which functions as intended and is presented appropriately"],
      MYP5:["Not Applicable","creates the solution, which partially functions and is adequately presented","creates the solution, which functions as intended and is presented appropriately","follows the plan to create the solution, which functions as intended and is presented appropriately"]
    }},
    {t:"Justify Changes Made to the Design",d:{
      MYP1:["Not Applicable","states one change made to the chosen design or plan when making the solution","states one change made to the chosen design and plan when making the solution","lists the changes made to the chosen design and plan when making the solution"],
      MYP3:["Not Applicable","outlines changes made to the chosen design or plan when making the solution","outlines changes made to the chosen design and plan when making the solution","explains changes made to the chosen design and plan when making the solution"],
      MYP5:["Not Applicable","outlines changes made to the chosen design and plan when making the solution","describes changes made to the chosen design and plan when making the solution","fully justifies changes made to the chosen design and plan when making the solution"]
    }}
  ]},
  D:{name:"Evaluating",strands:[
    {t:"Design Testing Methods",d:{
      MYP1:["defines a testing method, which is used to measure the success of the solution","defines a relevant testing method, which generates data, to measure the success of the solution","defines relevant testing methods, which generate data, to measure the success of the solution","outlines simple, relevant testing methods, which generate data, to measure the success of the solution"],
      MYP3:["describes a testing method, which is used to measure the success of the solution","describes a relevant testing method, which generates data, to measure the success of the solution","describes relevant testing methods, which generate data, to measure the success of the solution","describes detailed and relevant testing methods, which generate accurate data, to measure the success of the solution"],
      MYP5:["designs a testing method, which is used to measure the success of the solution","designs a relevant testing method, which generates data, to measure the success of the solution","designs relevant testing methods, which generate data, to measure the success of the solution","designs detailed and relevant testing methods, which generate data, to measure the success of the solution"]
    }},
    {t:"Evaluate the Success of the Solution",d:{
      MYP1:["states the success of the solution","states the success of the solution against the design specification based on the results of one relevant test","states the success of the solution against the design specification based on relevant product testing","outlines the success of the solution against the design specification based on authentic product testing"],
      MYP3:["states the success of the solution","outlines the success of the solution against the design specification based on relevant product testing","describes the success of the solution against the design specification based on relevant product testing","explains the success of the solution against the design specification based on authentic product testing"],
      MYP5:["states the success of the solution","outlines the success of the solution against the design specification based on relevant product testing","explains the success of the solution against the design specification based on relevant product testing","critically evaluates the success of the solution against the design specification based on authentic product testing"]
    }},
    {t:"Explain How the Solution Could be Improved",d:{
      MYP1:["Not Applicable","states one way in which the solution could be improved","outlines one way in which the solution could be improved","outlines how the solution could be improved"],
      MYP3:["Not Applicable","lists the ways in which the solution could be improved","outlines how the solution could be improved","describes how the solution could be improved"],
      MYP5:["Not Applicable","outlines how the solution could be improved","describes how the solution could be improved","explains how the solution could be improved"]
    }},
    {t:"Explain the Impact of the Solution",d:{
      MYP1:["Not Applicable","states one way in which the solution can impact the client/target audience","outlines the impact of the solution on the client/target audience, with guidance","outlines the impact of the solution on the client/target audience"],
      MYP3:["Not Applicable","outlines the impact of the solution on the client/target audience","describes the impact of the solution on the client/target audience, with guidance","describes the impact of the solution on the client/target audience"],
      MYP5:["Not Applicable","outlines the impact of the solution on the client/target audience","explains the impact of the solution on the client/target audience, with guidance","explains the impact of the product on the client/target audience"]
    }}
  ]}
};

var ST = {crit:"A",strand:0,grades:{MYP1:true,MYP3:true,MYP5:true},lvls:{1:true,2:true,3:true,4:true},view:"table"};

function escAttr(s){ return s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"); }

function hl(txt,lv){
  if(txt==="Not Applicable") return "<em style=\'color:#888;font-weight:800\'>Not Applicable</em>";
  var cls="lv"+lv;
  var keys=Object.keys(CT).sort(function(a,b){return b.length-a.length;});
  var r=txt;
  keys.forEach(function(w){
    var re=new RegExp("\b("+w+")\b","gi");
    r=r.replace(re,function(m){
      return "<span class=\'ct "+cls+"\' data-ct=\'"+w.toLowerCase()+"\' data-lv=\'"+lv+"\'>" + m + "</span>";
    });
  });
  return r;
}

var tipEl=document.getElementById("tip");

// Event delegation for command term hover
document.addEventListener("mouseover",function(e){
  var el=e.target.closest(".ct[data-ct],.cmd-pill[data-ct-lbl]");
  if(!el) return;
  var lv=parseInt(el.dataset.lv)||1;
  if(el.dataset.ct){ showTip(e,el.dataset.ct,lv); }
  else if(el.getAttribute('data-ct-lbl')){ showTipByLbl(e,el.getAttribute('data-ct-lbl'),lv); }
});
document.addEventListener("mouseout",function(e){
  var el=e.target.closest(".ct[data-ct],.cmd-pill[data-ct-lbl]");
  if(el){ hideTip(); }
});
function showTip(e,k,lv){
  var i=CT[k]; if(!i) return;
  var head=document.getElementById("tipHead");
  head.className="tip-head lv"+lv;
  document.getElementById("tipWord").textContent=i.lbl;
  document.getElementById("tipLvl").textContent=LNAME[lv-1]+" level word";
  document.getElementById("tipSimple").textContent=i.s;
  document.getElementById("tipEx").textContent=(i.ex[lv]||i.ex[1]);
  tipEl.className="tip show";
  posTip(e);
}
function hideTip(){tipEl.className="tip";}
document.addEventListener("mousemove",function(e){if(tipEl.className.indexOf("show")>=0)posTip(e);});
function posTip(e){
  var g=16,tw=tipEl.offsetWidth||330,th=tipEl.offsetHeight||140;
  var x=e.clientX+g,y=e.clientY+g;
  if(x+tw>window.innerWidth-8) x=e.clientX-tw-g;
  if(y+th>window.innerHeight-8) y=e.clientY-th-g;
  tipEl.style.left=x+"px"; tipEl.style.top=y+"px";
}

function renderKey(grades,lvls,strand){
  var found={};
  grades.forEach(function(g){
    lvls.forEach(function(l){
      var txt=strand.d[g][l-1];
      Object.keys(CT).forEach(function(w){
        if(new RegExp("\\b"+w+"\\b","i").test(txt)){
          if(!found[l]) found[l]=[];
          var lbl=CT[w].lbl;
          if(found[l].indexOf(lbl)<0) found[l].push(lbl);
        }
      });
    });
  });
  var keys=Object.keys(found);
  if(!keys.length) return "";
  var items="";
  [1,2,3,4].forEach(function(l){
    if(!found[l]) return;
    found[l].forEach(function(lbl){
      var k=Object.keys(CT).find(function(kk){return CT[kk].lbl===lbl;});
      items+="<span class='cmd-pill lv"+l+"' onmouseenter=\"showTipByLbl(event,\'"+escAttr(lbl)+"\',"+l+")\" onmouseleave=\"hideTip()\">"+lbl+"</span>";
    });
  });
  return "<div class='cmd-key fade'><span class='cmd-key-lbl'>Key Words</span><div class='cmd-key-items'>"+items+"</div><span class='cmd-key-hint'>Hover any word to see what it means!</span></div>";
}
function showTipByLbl(e,lbl,lv){
  var k=Object.keys(CT).find(function(kk){return CT[kk].lbl===lbl;});
  if(k) showTip(e,k,lv);
}

// Sidebar wiring
document.querySelectorAll(".crit-btn").forEach(function(btn){
  btn.addEventListener("click",function(){
    ST.crit=btn.dataset.c; ST.strand=0;
    document.querySelectorAll(".crit-btn").forEach(function(b){b.classList.toggle("on",b===btn);});
    buildStrands(); renderMain();
  });
});
function buildStrands(){
  var html="";
  DATA[ST.crit].strands.forEach(function(s,i){
    html+="<button class='strand-btn"+(i===ST.strand?" on":"")+"' data-si='"+i+"'><span class='snum'>"+(i+1)+"</span><span class='stxt'>"+s.t+"</span></button>";
  });
  document.getElementById("strandBtns").innerHTML=html;
  document.querySelectorAll(".strand-btn").forEach(function(btn){
    btn.addEventListener("click",function(){
      ST.strand=parseInt(btn.dataset.si);
      document.querySelectorAll(".strand-btn").forEach(function(b){b.classList.toggle("on",b===btn);});
      renderMain();
    });
  });
}
document.querySelectorAll(".grade-btn").forEach(function(btn){
  btn.addEventListener("click",function(){
    var g=btn.dataset.g;
    var active=Object.values(ST.grades).filter(Boolean).length;
    if(ST.grades[g]&&active===1) return;
    ST.grades[g]=!ST.grades[g];
    btn.classList.toggle("on",ST.grades[g]);
    btn.querySelector(".tbox").textContent=ST.grades[g]?"v":"";
    renderMain();
  });
});
document.querySelectorAll(".lvl-pill").forEach(function(btn){
  btn.addEventListener("click",function(){
    var l=parseInt(btn.dataset.lv);
    var active=Object.values(ST.lvls).filter(Boolean).length;
    if(ST.lvls[l]&&active===1) return;
    ST.lvls[l]=!ST.lvls[l];
    btn.classList.toggle("on",ST.lvls[l]);
    renderMain();
  });
});
// View is always table

function renderMain(){
  var main=document.getElementById("mainArea");
  var crit=DATA[ST.crit];
  var strand=crit.strands[ST.strand];
  var grades=Object.entries(ST.grades).filter(function(e){return e[1];}).map(function(e){return e[0];});
  var lvls=Object.entries(ST.lvls).filter(function(e){return e[1];}).map(function(e){return parseInt(e[0]);});
  var col=CCOL[ST.crit], bg=CBG[ST.crit];

  var h="<div class='crumb fade'>Criterion "+ST.crit+" <span class='crumb-sep'>></span> <strong>Strand "+(ST.strand+1)+" - "+strand.t+"</strong></div>";
  h+="<div class='sec-hdr fade'>";
  h+="<div class='crit-tag' style='background:"+bg+";color:"+col+";border-color:"+col+"66'>Criterion "+ST.crit+" - "+crit.name+"</div>";
  h+="<div class='sec-title'>"+strand.t+"</div>";
  h+="<div class='sec-meta'>"+grades.length+" grade level"+(grades.length!==1?"s":"")+" - "+lvls.length+" success criteria level"+(lvls.length!==1?"s":"")+" showing</div>";
  h+="</div>";
  h+=renderKey(grades,lvls,strand);

  // Always table view
  if(!grades.length||!lvls.length){
    h+="<div class='empty'><p>Nothing to show</p><span>Turn on at least one grade and one level in the sidebar!</span></div>";
  } else {
    h+="<div class='tbl-wrap fade'><table><thead><tr><th>Grade Level</th>";
    lvls.forEach(function(l){ h+="<th class='th-lv"+l+"'><span class='tbl-tag lv"+l+"'>"+LBL[l-1]+"</span></th>"; });
    h+="</tr></thead><tbody>";
    grades.forEach(function(g){
      h+="<tr><td>"+GLBL[g]+"</td>";
      lvls.forEach(function(lv){ h+="<td class='td-lv"+lv+"'>"+hl(strand.d[g][lv-1],lv)+"</td>"; });
      h+="</tr>";
    });
    h+="</tbody></table></div>";

    // Progression examples below the rubric table
    var si=ST.strand, c=ST.crit;
    var exs=(PROG_EX[c]&&PROG_EX[c][si])||{};
    var hasExamples = lvls.some(function(lv){ return exs[lv]; });
    if(hasExamples){
      h+="<div style='margin-top:28px;'>";
      h+="<div style='font-size:16px;font-weight:900;color:var(--text);margin-bottom:14px;display:flex;align-items:center;gap:8px;'>&#128218; Progression Examples</div>";
      h+="<div class='tbl-wrap'><table><thead><tr><th>Level</th><th>Example Student Response</th></tr></thead><tbody>";
      lvls.forEach(function(lv){
        var ex=exs[lv];
        if(ex && strand.d[Object.keys(strand.d)[0]][lv-1] !== "Not Applicable"){
          h+="<tr>";
          h+="<td style='white-space:nowrap;'><span class='tbl-tag lv"+lv+"'>"+LBL[lv-1]+"</span></td>";
          h+="<td class='td-lv"+lv+"' style='font-style:italic;font-size:15px;'>"+ex+"</td>";
          h+="</tr>";
        }
      });
      h+="</tbody></table></div></div>";
    }
  }
  main.innerHTML=h;
}

// Compare modal
document.getElementById("diffBtn").addEventListener("click",function(){
  document.getElementById("cmpBg").classList.add("open");
  document.getElementById("diffBtn").classList.add("active");
});
document.getElementById("cmpClose").addEventListener("click",function(){
  document.getElementById("cmpBg").classList.remove("open");
  document.getElementById("diffBtn").classList.remove("active");
});
document.getElementById("cmpBg").addEventListener("click",function(e){
  if(e.target===this){ document.getElementById("cmpBg").classList.remove("open"); document.getElementById("diffBtn").classList.remove("active"); }
});

function populateSels(){
  var unique=[];
  Object.values(CT).forEach(function(v){ if(unique.indexOf(v.lbl)<0) unique.push(v.lbl); });
  unique.sort();
  function opts(sel){
    return unique.map(function(lbl){
      var k=Object.keys(CT).find(function(kk){return CT[kk].lbl===lbl;});
      return "<option value='"+k+"'"+(k===sel?" selected":"")+">"+(lbl)+"</option>";
    }).join("");
  }
  document.getElementById("sel1").innerHTML=opts("outline");
  document.getElementById("sel2").innerHTML=opts("explain");
  document.getElementById("sel1").addEventListener("change",renderComp);
  document.getElementById("sel2").addEventListener("change",renderComp);
  renderComp();
}

function renderComp(){
  var k1=document.getElementById("sel1").value, k2=document.getElementById("sel2").value;
  var i1=CT[k1], i2=CT[k2]; if(!i1||!i2) return;
  var l1=i1.lv, l2=i2.lv;
  function getUsed(k){
    var uses=[];
    Object.entries(DATA).forEach(function(ce){
      var ck=ce[0],cd=ce[1];
      cd.strands.forEach(function(s,si){
        var all=[];
        Object.values(s.d).forEach(function(arr){arr.forEach(function(d){all.push(d);});});
        if(all.some(function(d){return new RegExp("\\b"+k+"\\b","i").test(d);}))
          uses.push("Crit. "+ck+" - Strand "+(si+1)+": "+s.t);
      });
    });
    return uses.length?uses.slice(0,3).map(function(u){return "<div style='margin-bottom:3px'>- "+u+"</div>";}).join(""):"<em>Not found in this rubric</em>";
  }
  var diff;
  if(l1===l2){
    diff="Both <strong>"+i1.lbl+"</strong> and <strong>"+i2.lbl+"</strong> are <strong>"+LNAME[l1-1]+"</strong> level words - same difficulty! But "+i1.lbl+" means: "+i1.s+" Whereas "+i2.lbl+" means: "+i2.s;
  } else {
    var hi=l1>l2?i1:i2, lo=l1>l2?i2:i1;
    diff="<strong>"+lo.lbl+"</strong> is a <strong>"+LNAME[lo.lv-1]+"</strong> level word: "+lo.s+" <strong>"+hi.lbl+"</strong> is harder - a <strong>"+LNAME[hi.lv-1]+"</strong> level word: "+hi.s+" Just "+lo.lbl.toLowerCase()+"ing is NOT enough when the rubric asks for "+hi.lbl.toLowerCase()+"!";
  }
  document.getElementById("cmpResult").innerHTML=
    "<div class='ccard lv"+l1+"'><div class='ccard-hd'><div class='ccard-word'>"+i1.lbl+"</div><div class='ccard-lvltag'>"+LBL[l1-1]+"</div></div><div class='ccard-body'><div class='ccard-simple'>"+i1.s+"</div><div class='ccard-ex-lbl'>Example at "+LNAME[l1-1]+" level:</div><div class='ccard-ex'>"+(i1.ex[l1]||i1.ex[1])+"</div><div class='ccard-used'><strong>Found in:</strong><br>"+getUsed(k1)+"</div></div></div>"+
    "<div class='ccard lv"+l2+"'><div class='ccard-hd'><div class='ccard-word'>"+i2.lbl+"</div><div class='ccard-lvltag'>"+LBL[l2-1]+"</div></div><div class='ccard-body'><div class='ccard-simple'>"+i2.s+"</div><div class='ccard-ex-lbl'>Example at "+LNAME[l2-1]+" level:</div><div class='ccard-ex'>"+(i2.ex[l2]||i2.ex[1])+"</div><div class='ccard-used'><strong>Found in:</strong><br>"+getUsed(k2)+"</div></div></div>"+
    "<div class='key-diff'><strong>Key Difference:</strong> "+diff+"</div>";
}

// Progression modal
document.getElementById("progBtn").addEventListener("click",function(){
  document.getElementById("progBg").classList.add("open");
  document.getElementById("progBtn").classList.add("active");
  populateProgSelectors();
  renderProg();
});
document.getElementById("progClose").addEventListener("click",function(){
  document.getElementById("progBg").classList.remove("open");
  document.getElementById("progBtn").classList.remove("active");
});
document.getElementById("progBg").addEventListener("click",function(e){
  if(e.target===this){ document.getElementById("progBg").classList.remove("open"); document.getElementById("progBtn").classList.remove("active"); }
});

function populateProgSelectors(){
  var critSel=document.getElementById("progCrit");
  var names={A:"Criterion A - Inquiring and Analyzing",B:"Criterion B - Developing Ideas",C:"Criterion C - Creating the Solution",D:"Criterion D - Evaluating"};
  critSel.innerHTML=Object.entries(names).map(function(e){return "<option value='"+e[0]+"'"+(e[0]===ST.crit?" selected":"")+">"+e[1]+"</option>";}).join("");
  critSel.addEventListener("change",function(){ updateProgStrands(); renderProg(); });
  updateProgStrands();
  document.getElementById("progStrand").addEventListener("change",renderProg);
  document.getElementById("progGrade").addEventListener("change",renderProg);
  document.getElementById("progUnit").addEventListener("change",function(){
    var unit = this.value;
    var gradeEl = document.getElementById("progGrade");
    // Auto-sync grade level when unit is selected
    if(unit.startsWith("MYP1")) gradeEl.value = "MYP1";
    else if(unit.startsWith("MYP3")) gradeEl.value = "MYP3";
    else if(unit.startsWith("MYP5")) gradeEl.value = "MYP5";
    renderProg();
  });
}

function updateProgStrands(){
  var c=document.getElementById("progCrit").value;
  var strandSel=document.getElementById("progStrand");
  strandSel.innerHTML=DATA[c].strands.map(function(s,i){return "<option value='"+i+"'>"+(i+1)+". "+s.t+"</option>";}).join("");
}

function renderProg(){
  var c=document.getElementById("progCrit").value;
  var si=parseInt(document.getElementById("progStrand").value);
  var g=document.getElementById("progGrade").value;
  var unit=document.getElementById("progUnit") ? document.getElementById("progUnit").value : "";
  var strand=DATA[c].strands[si];
  var notes=(PROG_NOTES[c]&&PROG_NOTES[c][si])||{};
  var exs=(PROG_EX[c]&&PROG_EX[c][si])||{};
  var emojis=["&#128543;","&#128077;","&#128640;","&#127942;"];
  var scores=["1-2","3-4","5-6","7-8"];
  var names=["Not Yet There","Meeting","Exceeding","Excelling"];

  // Check for unit+grade specific examples
  var unitExs = null;
  if(unit && g && UNIT_PROG_EX[unit] && UNIT_PROG_EX[unit][g] && UNIT_PROG_EX[unit][g][c] && UNIT_PROG_EX[unit][g][c][si]){
    unitExs = UNIT_PROG_EX[unit][g][c][si];
  }

  var unitHintText = (unit && UNIT_HINTS[unit] && UNIT_HINTS[unit][c]) ? UNIT_HINTS[unit][c] : "";
  var h="<div class='prog-track'>";
  if(unit && g){
    var unitLabels={"MYP1-PD-desk-organizer":"Desk Organizers","MYP1-DD-scratch":"Scratch Games","MYP3-PD-clock":"Upcycled Clock","MYP3-DD-home":"Sustainable Homes","MYP3-PD-f1":"F1 Car Design","MYP3-DD-capcut":"Content Creation","MYP5-PD-device-station":"Device Station","MYP5-DD-endstar":"Endstar Game Dev","MYP5-PD-assistive":"Assistive Device","MYP5-DD-python":"Python App","SDGs":"SDGs"};
    var glabels={"MYP1":"MYP 1 (Grade 6)","MYP3":"MYP 3 (Gr. 7-8)","MYP5":"MYP 5 (Gr. 9-10)"};
    var tagLabel = (unitLabels[unit]||unit) + " · " + (glabels[g]||g);
    var tagStyle = unitExs
      ? "background:#e2f7ec;border-left:4px solid var(--l2);border-radius:12px;padding:10px 16px;margin-bottom:14px;font-size:13px;font-weight:900;color:var(--l2);display:flex;align-items:center;gap:8px;"
      : "background:#f0eaff;border-left:4px solid var(--l4);border-radius:12px;padding:10px 16px;margin-bottom:14px;font-size:13px;font-weight:900;color:var(--l4);display:flex;align-items:center;gap:8px;";
    var tagIcon = unitExs ? "&#127919;" : "&#128161;";
    var tagMsg = unitExs ? "Showing unit-specific examples for this unit &amp; grade" : "Generic examples shown &mdash; no specific examples for this unit/grade combination yet";
    h += "<div style='"+tagStyle+"'>"+tagIcon+" "+tagLabel+" &mdash; "+tagMsg+"</div>";
  }
  if(unitHintText){
    h+="<div style='background:#f0eaff;border-radius:12px;padding:14px 18px;border-left:4px solid var(--l4);margin-bottom:18px;'>";
    h+="<div style='font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.1em;color:var(--l4);margin-bottom:5px;'>&#127919; Unit context: "+({"MYP1-PD-desk-organizer":"Desk Organizers","MYP1-DD-scratch":"Scratch Games","MYP3-PD-clock":"Upcycled Clock","MYP3-DD-home":"Sustainable Homes","MYP3-PD-f1":"F1 Car Design","MYP3-DD-capcut":"Content Creation","MYP5-PD-device-station":"Device Station","MYP5-DD-endstar":"Endstar Game Dev","MYP5-PD-assistive":"Assistive Device","MYP5-DD-python":"Python App","SDGs":"SDGs"}[unit]||unit)+"</div>";
    h+="<div style='font-size:15px;font-weight:700;color:var(--text);line-height:1.6;'>"+unitHintText+"</div>";
    h+="</div>";
  }
  for(var lv=1;lv<=4;lv++){
    var txt=strand.d[g][lv-1];
    var note=notes[lv]||"";
    var ex=(unitExs && unitExs[lv]) ? unitExs[lv] : (exs[lv]||"");
    var isNA=(txt==="Not Applicable");
    h+="<div class='prog-step'>";
    h+="<div class='prog-spine'><div class='prog-dot lv"+lv+"'>"+emojis[lv-1]+"</div><div class='prog-line lv"+lv+"'></div></div>";
    h+="<div class='prog-content'><div class='prog-card lv"+lv+"'>";
    h+="<div class='prog-card-hd'><div class='prog-lvl-name'>"+names[lv-1]+"</div><div class='prog-score'>"+scores[lv-1]+"</div></div>";
    h+="<div class='prog-card-body'>";
    h+="<div class='prog-rubric'>"+(isNA?"<em style='color:#888'>Not assessed at this level</em>":hl(txt,lv))+"</div>";
    if(note) h+="<div class='prog-changed'><div class='prog-changed-lbl'>"+(lv===1?"Starting point":"What changed from level below")+"</div><div class='prog-changed-txt'>"+note+"</div></div>";
    if(ex&&!isNA) h+="<div class='prog-ex-lbl'>Example student response"+(unitExs?" ("+{"MYP1-PD-desk-organizer":"Desk Organizers","MYP1-DD-scratch":"Scratch Games","MYP3-PD-clock":"Upcycled Clock","MYP3-DD-home":"Sustainable Homes","MYP3-PD-f1":"F1 Car Design","MYP3-DD-capcut":"Content Creation","MYP5-PD-device-station":"Device Station","MYP5-DD-endstar":"Endstar Game Dev","MYP5-PD-assistive":"Assistive Device","MYP5-DD-python":"Python App","SDGs":"SDGs"}[unit]+")":"")+" at this level:</div><div class='prog-ex'>"+ex+"</div>";
    h+="</div></div></div></div>";
    if(lv<4) h+="<div style='text-align:center;font-size:20px;margin:2px 0 6px 26px;color:#888;'>&#8595;</div>";
  }
  h+="</div>";
  document.getElementById("progTrack").innerHTML=h;
}


// ══════════════════════════════════════════════
//  CHECKLIST MODULE
// ══════════════════════════════════════════════
var CL = {crit:null, strand:null, level:null, grade:"MYP5", unit:"", game:null, checks:[]};

// Checklist task hints  -  plain English guidance for each rubric descriptor
// keyed: HINTS[crit][strandIdx][level 1-4] = array of task strings
var HINTS = {
  A:{
    0:{
      1:["Write one clear sentence that names the problem your product will solve.",
         "Name who has the problem (your client or target audience).",
         "Check: does your sentence answer 'What is the problem?'"],
      2:["Write 2-3 sentences explaining the main reasons why this problem exists.",
         "Describe who is affected and how it impacts them.",
         "Give at least one real example or piece of evidence that shows the problem is real.",
         "Check: does your reader understand WHY the problem matters, not just what it is?"],
      3:["Write a full paragraph explaining the problem and its causes.",
         "Include context - where, when, and who is affected.",
         "Explain why existing solutions (if any) are not good enough.",
         "Use evidence: a statistic, observation, or quote that proves the need.",
         "Check: does your explanation answer both WHAT the problem is AND WHY it exists?"],
      4:["Write a detailed explanation of the problem with multiple causes and context.",
         "Clearly identify your specific client or target audience and their exact situation.",
         "Provide at least 2 pieces of evidence (survey data, observation, expert opinion).",
         "Justify WHY your solution is needed - explain what would happen if it was not created.",
         "Link every piece of evidence back to the specific need.",
         "Check: could someone read this and be 100% convinced this solution MUST exist?"]
    },
    1:{
      1:["List at least 3 things you need to find out before you start designing.",
         "Write down where you found your information (source names).",
         "Check: are your findings relevant to your design problem?"],
      2:["Write a list of all the research topics you need to investigate.",
         "Mark which research you will do yourself (primary) and which you will find online (secondary).",
         "Put the most important research topic first.",
         "Check: does your list cover user needs, materials, and existing products?"],
      3:["Create a research plan with at least 4 clearly ordered topics.",
         "For each topic, explain WHY it is important to your design.",
         "Label each as primary (e.g. your survey) or secondary (e.g. articles, books).",
         "Put the topics in order from most to least important and explain your ranking.",
         "Check: could you hand this plan to someone else and they would know exactly what research to do?"],
      4:["Create a detailed research plan with at least 5 prioritised topics.",
         "For each topic: name it, say if it is primary or secondary, explain WHY it matters.",
         "Rank all topics from most to least important with a clear written justification for the order.",
         "Explain how each piece of research will directly affect a specific design decision.",
         "Complete all research independently without needing teacher guidance.",
         "Check: does every research topic connect directly to at least one future design choice?"]
    },
    2:{
      1:["Find one existing product similar to what you want to design.",
         "List its main features (size, material, colour, function).",
         "Write one sentence about what you could take inspiration from."],
      2:["Find and describe at least one existing product in detail.",
         "Identify what works well and what does not work well.",
         "Draw or print a picture of the product and label its key features.",
         "Write how this product inspires your own design."],
      3:["Find and describe at least 3 different similar products.",
         "For each product, list: materials, features, price, strengths, and weaknesses.",
         "Compare the products - which features appear in the best ones?",
         "Write a conclusion: what have you learned that will shape your design?",
         "Check: have you covered a range of different types, not just one brand?"],
      4:["Analyse at least 4-5 existing products in depth.",
         "For each product, evaluate: materials, ergonomics, cost, durability, user experience.",
         "Identify patterns - what do ALL the successful products have in common?",
         "Identify gaps - what does NO product currently do well?",
         "Write a conclusion that directly connects your findings to specific design decisions.",
         "Check: does your analysis go beyond describing - does it explain WHY things work or don't?"]
    },
    3:{
      1:["Write 3-4 bullet points summarising your most important research findings.",
         "Make sure each point is directly relevant to your design problem.",
         "Check: do your findings help explain what your product should do or look like?"],
      2:["Write a paragraph that outlines the key findings from your research.",
         "Cover at least 3 different research areas (user needs, existing products, materials).",
         "Keep it focused - only include findings that affect your design.",
         "Check: does your design brief give a clear picture of what is needed?"],
      3:["Write a design brief of at least 3 paragraphs.",
         "Paragraph 1: explain the problem and who it affects.",
         "Paragraph 2: summarise what your research found about user needs and existing products.",
         "Paragraph 3: explain what your product must do based on your research.",
         "Check: does your brief explain the analysis (WHY things matter), not just what you found?"],
      4:["Write a detailed design brief that brings together ALL your research.",
         "Show how each research finding leads to a specific design requirement.",
         "Summarise the most important insights from each research area.",
         "Include a clear statement of purpose: who is the product for, what must it do, and why.",
         "Write it so that someone with no background could read it and understand exactly what needs to be designed.",
         "Check: does your brief summarise AND connect all research - not just list it?"]
    }
  },
  B:{
    0:{
      1:["Write at least one success criterion: 'My product must...'",
         "Make sure it describes something you can test or measure.",
         "Check: if someone read this criterion, would they know what a successful product looks like?"],
      2:["Write at least 4 success criteria using 'My product must...' statements.",
         "Make each criterion specific - avoid vague words like 'good' or 'nice'.",
         "Check: can each criterion be tested? (e.g. must hold 2kg, must cost under $10)",
         "Check: do your criteria come from your research findings?"],
      3:["Write at least 6 measurable design specifications.",
         "For each specification, include HOW you will test it.",
         "Link each specification to a research finding or user need.",
         "Include criteria for: function, materials, size, cost, safety, and aesthetics.",
         "Check: are all criteria testable and specific enough to actually measure?"],
      4:["Write a complete set of detailed design specifications (at least 8).",
         "For each specification: state the requirement, the test method, the target value, and the research source.",
         "Cover all areas: function, safety, ergonomics, cost, sustainability, aesthetics.",
         "Make sure every specification is directly traceable to a research finding.",
         "Check: could a stranger use your specifications to judge whether a product is successful?"]
    },
    1:{
      1:["Draw or make at least one design idea that clearly shows what your product could look like.",
         "Label the main parts of your design.",
         "Check: could someone else look at your design and understand what it is?"],
      2:["Create at least 2 different design ideas (they should look genuinely different).",
         "Label the key features of each design.",
         "Use a clear medium: pencil sketch, CAD, or physical model.",
         "Check: are both designs realistic and possible to actually make?"],
      3:["Create at least 3 clearly different design ideas.",
         "For each design, label ALL key features and briefly explain how it works.",
         "Each design must realistically meet your specifications.",
         "Include dimensions, materials, or colours where relevant.",
         "Check: would someone be able to understand each design without asking you?"],
      4:["Create a range of at least 3-4 well-developed design ideas.",
         "For each design, write detailed annotations explaining every key feature.",
         "Reference which specifications each design meets.",
         "Show design variations or alternatives within each idea.",
         "Check: are your annotations detailed enough that someone else could build from them?"]
    },
    2:{
      1:["Write which design you have chosen.",
         "List the main features of your chosen design.",
         "Produce at least one planning drawing or sketch of your chosen design."],
      2:["Write which design you chose and list its key features clearly.",
         "Give at least 2 reasons why you chose this design over the others.",
         "Reference your design specification in your reasons.",
         "Start a more detailed planning drawing of your chosen design."],
      3:["Write a clear explanation of why you chose this design.",
         "Reference at least 3 specific criteria from your design specification.",
         "Explain what makes this design better than the alternatives.",
         "Include a well-annotated planning drawing showing all key details.",
         "Check: does your justification explain WHY, not just WHAT you chose?"],
      4:["Write a full, critical justification for your chosen design.",
         "Reference EVERY relevant criterion from your design specification.",
         "Explain why this design outperforms all other designs for each criterion.",
         "Include evidence: scores from evaluation, peer feedback, or testing.",
         "Acknowledge any weaknesses in your chosen design and explain how you will address them.",
         "Check: is your justification so strong that no one could argue against your choice?"]
    },
    3:{
      1:["Create a planning drawing OR write a step-by-step list of how to make your product.",
         "Include the main materials you will need.",
         "Check: does your plan show the main parts of making?"],
      2:["Create a planning drawing AND a requirements list.",
         "Your drawing should show the product from at least one angle with labels.",
         "Your requirements list should include all materials and tools needed.",
         "Check: would a classmate be able to start making based on this?"],
      3:["Create accurate planning drawings from multiple angles (front, side, top).",
         "Add dimensions to your drawings (actual measurements).",
         "Write a full materials and tools list with quantities.",
         "Include a step-by-step construction sequence.",
         "Check: could a classmate follow your plan to build your product without asking you?"],
      4:["Create detailed, accurate planning drawings from all relevant angles.",
         "Include all dimensions, tolerances, and material specifications.",
         "Write a detailed requirements list with quantities, costs, and sources.",
         "Write a step-by-step construction plan with time estimates.",
         "Add notes about potential problems and how to solve them.",
         "Check: is your plan complete enough that a stranger could build your product exactly?"]
    }
  },
  C:{
    0:{
      1:["Write a basic list of the main steps to make your product.",
         "Make sure the steps are in the correct order.",
         "Check: does your plan help you know where to start?"],
      2:["Write a step-by-step plan with at least 5 clear steps.",
         "For each step, list the materials or tools you will need.",
         "Check: could a classmate read your plan and follow it (even if with some difficulty)?"],
      3:["Write a detailed plan with clear steps, time estimates, and materials for each step.",
         "Organise your plan so it fits within the time you have.",
         "Make sure a classmate could follow your plan successfully.",
         "Check: does your plan consider BOTH time AND resources efficiently?"],
      4:["Create a logical, detailed production plan (e.g. Gantt chart or table).",
         "Include time estimates for each step and total time.",
         "List all materials, tools, and quantities for each stage.",
         "Show how you will use your time efficiently - no gaps or wasted sessions.",
         "Write notes about contingency (what to do if something goes wrong).",
         "Check: could a peer follow this plan to create your solution independently?"]
    },
    1:{
      1:["Show evidence that you attempted to make your product.",
         "Take photos at different stages of making.",
         "Identify one thing that went well and one thing that was difficult."],
      2:["Complete your product so it is functional (even if not perfect).",
         "Make sure it is presented neatly.",
         "Document your making process with photos or notes.",
         "Check: does your product do what it is supposed to do, at least partially?"],
      3:["Complete your product to a competent standard.",
         "Make sure it functions properly and is presented well.",
         "Show that you used the correct techniques and materials.",
         "Document your making process thoroughly.",
         "Check: does your product meet the functional requirements of your specification?"],
      4:["Complete your product to an excellent standard with high-quality craftsmanship.",
         "Every join, seam, or connection should be neat and strong.",
         "Present your product professionally (clean, finished, well-assembled).",
         "Document your making process in detail including challenges overcome.",
         "Check: does your product demonstrate the best possible use of your skills and materials?"]
    },
    2:{
      1:["Make sure your product is at least partially functional.",
         "Present it as neatly as you can.",
         "Write a sentence explaining what it does and does not do yet."],
      2:["Complete your product so it works as intended.",
         "Present it cleanly and appropriately.",
         "Make sure it matches your planning drawings.",
         "Check: does your product function as you intended when you planned it?"],
      3:["Complete your product so it fully functions as intended.",
         "Present it appropriately and professionally.",
         "Make sure it matches your planning drawings in dimensions and materials.",
         "Check: when you use your product, does it do everything it was designed to do?"],
      4:["Complete your product following your plan step by step.",
         "Verify that your product matches the dimensions and materials in your plan.",
         "Test that it functions exactly as intended.",
         "Present it professionally.",
         "Document how closely your final product matches your original plan.",
         "Check: is the connection between your plan and your product clear and complete?"]
    },
    3:{
      1:["Write down one change you made while making your product.",
         "Explain what the original plan was and what you changed it to.",
         "Check: is it clear what changed and why?"],
      2:["Write down every significant change you made during making.",
         "For each change, explain what the problem was that caused it.",
         "Check: have you covered changes to both the design AND the making plan?"],
      3:["Write a clear record of all changes made during making.",
         "For each change, explain the reason (what problem or opportunity caused it).",
         "Note whether each change improved or affected your product.",
         "Check: is it clear how the change affected both the design AND the plan?"],
      4:["Write a full, justified account of every change made during making.",
         "For each change: describe the original plan, what went wrong or could improve, the change made, and the outcome.",
         "Use evidence where possible (photos, measurements, test results).",
         "Explain how each change brought your product closer to your specification.",
         "Check: does your justification prove that every change was a deliberate, reasoned improvement?"]
    }
  },
  D:{
    0:{
      1:["Write a description of one test you will use to measure if your product works.",
         "Explain what you will do and what result would mean it was successful.",
         "Check: does your test measure something that actually matters?"],
      2:["Design one relevant test that will produce data (numbers or measurable results).",
         "Write exactly how you will carry out the test, step by step.",
         "Say what result would mean your product has passed.",
         "Link your test to at least one specification criterion.",
         "Check: will your test produce data you can actually compare to your target?"],
      3:["Design at least 3 different tests, one for each main specification criterion.",
         "For each test, write: what you will test, how you will do it, what data it generates, and what counts as a pass.",
         "Make sure each test generates measurable data (not just yes/no).",
         "Check: do your tests cover all the key criteria in your specification?"],
      4:["Design a complete testing plan with a test for EVERY specification criterion.",
         "For each test: state the criterion, describe the method in detail, state the target value, and explain how data will be recorded.",
         "Make sure all tests generate quantitative data (numbers).",
         "Include multiple trials for each test to make results reliable.",
         "Check: would your tests give enough data to make a definitive judgement about every criterion?"]
    },
    1:{
      1:["Write whether your product succeeded or failed overall.",
         "Give one piece of evidence that supports your conclusion.",
         "Check: have you said HOW you know it worked or did not work?"],
      2:["Test your product against at least 2 specification criteria.",
         "Record the results of each test.",
         "Say for each criterion: did your product PASS or FAIL, and why?",
         "Check: are your conclusions based on test results, not just opinion?"],
      3:["Test your product against all your specification criteria.",
         "Record results for each test clearly.",
         "For each criterion, explain: what result you got, what the target was, and whether it passed.",
         "Write an overall summary of success.",
         "Check: is your evaluation honest - do you admit where it did not fully succeed?"],
      4:["Critically evaluate your product against every specification criterion.",
         "For each criterion: record test results, compare to target, state pass/partial/fail, and explain why.",
         "Use authentic testing data (real measurements, real user feedback).",
         "Be completely honest - identify every weakness, not just the successes.",
         "Write a final overall judgement that weighs all criteria together.",
         "Check: would a reader trust this evaluation because it is thorough, honest, and evidence-based?"]
    },
    2:{
      1:["Write at least one specific way your product could be made better.",
         "Be specific - not 'make it better' but 'make the handle 2cm longer'.",
         "Check: is your improvement realistic and connected to a real problem you noticed?"],
      2:["Write at least 3 specific improvements you would make to your product.",
         "For each improvement, explain what problem it would fix.",
         "Check: are your improvements connected to the results of your evaluation?"],
      3:["Write a clear improvement plan linked to your evaluation results.",
         "For each improvement: describe exactly what you would change and why.",
         "Prioritise improvements - which ones would make the biggest difference?",
         "Check: is every improvement directly connected to a test that showed a weakness?"],
      4:["Write a detailed, evidence-based improvement plan.",
         "For every criterion that partially failed or fully failed, write a specific, realistic improvement.",
         "For each improvement: explain the problem, describe the solution, and say how it would be tested.",
         "Prioritise improvements by impact and feasibility.",
         "Check: does every improvement directly address a specific failure identified in your evaluation?"]
    },
    3:{
      1:["Write one way your product positively impacts your client or target audience.",
         "Be specific - who benefits and how?",
         "Check: does your impact statement go beyond 'it helps people'?"],
      2:["Write 2-3 ways your product impacts your client or target audience.",
         "For each point, give a specific example or piece of evidence.",
         "Consider both positive impacts and any limitations.",
         "Check: are your impact points connected to your testing results?"],
      3:["Write a detailed explanation of how your product impacts your target audience.",
         "Cover: how it solves the original problem, how users responded to it, and any limitations.",
         "Use evidence from user testing or feedback.",
         "Check: does your explanation go beyond what the product does to explain HOW it affects real people?"],
      4:["Write a comprehensive impact analysis.",
         "Cover: direct impact on the client, broader impact on the target audience, sustainability or ethical considerations.",
         "Use specific evidence: user feedback data, test results, observations.",
         "Acknowledge limitations: who does the product NOT help, or what could still be improved?",
         "Check: does your analysis explain the real-world significance of your solution, not just its features?"]
    }
  }
};

// Game state
var GAME_STATE = {done:0, total:0, type:null};

// Open/close checklist modal
document.getElementById("check-btn-hdr").addEventListener("click", function(){
  document.getElementById("clBg").classList.add("open");
  document.getElementById("check-btn-hdr").classList.add("active");
  // Reset to step 1
  CL = {crit:null, strand:null, level:null, grade:"MYP5", unit:"", game:null, checks:[]};
  clGoStep(1);
});
document.getElementById("clClose").addEventListener("click", function(){
  document.getElementById("clBg").classList.remove("open");
  document.getElementById("check-btn-hdr").classList.remove("active");
});
document.getElementById("clBg").addEventListener("click", function(e){
  if(e.target===this){ document.getElementById("clBg").classList.remove("open"); document.getElementById("check-btn-hdr").classList.remove("active"); }
});

// Wire choice cards
function wireChoices(containerId, stateKey, nextBtnId, onSelect){
  document.getElementById(containerId).addEventListener("click", function(e){
    var card = e.target.closest(".cl-choice");
    if(!card) return;
    document.querySelectorAll("#"+containerId+" .cl-choice").forEach(function(c){ c.classList.remove("sel"); });
    card.classList.add("sel");
    CL[stateKey] = card.dataset.val;
    document.getElementById(nextBtnId).disabled = false;
    if(onSelect) onSelect(card.dataset.val);
  });
}
wireChoices("clCritChoices", "crit", "clNext1", function(val){
  // Populate strand choices
  var strands = DATA[val].strands;
  var h = "";
  strands.forEach(function(s,i){
    var icons = ["&#128269;","&#128203;","&#128736;","&#128200;"];
    h += "<div class='cl-choice' data-val='"+i+"'><div class='cl-choice-icon'>"+icons[i%4]+"</div><div class='cl-choice-name'>Strand "+(i+1)+"</div><div class='cl-choice-sub'>"+s.t+"</div></div>";
  });
  document.getElementById("clStrandChoices").innerHTML = h;
  CL.strand = null;
  document.getElementById("clNext2").disabled = true;
  wireChoices("clStrandChoices", "strand", "clNext2", null);
});
wireChoices("clLvlChoices", "level", "clNext3", null);
wireChoices("clGameChoices", "game", "clNext4", null);

function clGoStep(n){
  for(var i=1;i<=5;i++) document.getElementById("clStep"+i).classList.toggle("active", i===n);
  if(n===5 && document.getElementById("clUnit")) CL.unit = document.getElementById("clUnit").value;
  if(n===5 && document.getElementById("clGrade")) CL.grade = document.getElementById("clGrade").value;
  document.getElementById("clModalSub").textContent = [
    "Set your goal and choose your game!",
    "Step 1: Choose your Criterion",
    "Step 2: Choose your Strand",
    "Step 3: Set your target level and unit",
    "Step 4: Pick your game",
    "Your personalised checklist!"
  ][n] || "";
}

// Unit-specific example hints
var UNIT_HINTS = {
  "MYP1-PD-desk-organizer": {
    A: "Think about students who have messy desks and need better organisation. Survey 10 classmates about what they keep on their desks.",
    B: "Design at least 3 different desk organizer ideas. Consider using cardboard, foam, or recycled materials. Label compartments for pens, rulers, and USB drives.",
    C: "Document your cutting, folding, and assembly steps. Take photos every 10 minutes. Note if any compartment dimensions need adjusting.",
    D: "Test by placing your actual school supplies in each compartment. Ask 3 classmates to try it. Measure if everything fits as planned."
  },
  "MYP1-DD-scratch": {
    A: "Research what makes a good educational game for your target audience. Think carefully about who will play your game - it could be classmates, younger students, or a broader audience. Survey potential players about what subjects they find boring and could be made more fun.",
    B: "Strand 2 - Design Ideas: Create 3 sketch storyboards showing each screen and gameplay flow of your game - draw each scene by hand showing the layout, sprites, buttons, and what happens when the player interacts. Label clearly. Strand 4 - Chosen Design: Present your chosen design as a digital version using Canva or an AI image tool to create a polished visual mockup of your game screens. Annotate the digital version explaining your design decisions and how it meets your specification.",
    C: "Document your Scratch block sequences with screenshots. Note when you change a loop or add a new sprite. Test with a player from your target audience as you build.",
    D: "Have 5 players from your target audience play your game and answer: Was it educational? Was it fun? Did it work without crashing? Record their scores and feedback."
  },
  "MYP3-PD-clock": {
    A: "Research upcycling and sustainability. Find 3 existing upcycled clock products online. Survey your class about what materials they consider waste.",
    B: "Design 3 clock concepts using salvaged materials (vinyl records, tin cans, wooden boards). Show where the clock mechanism goes and how it will be mounted.",
    C: "Document your making with photos. Note when you modify a design because the material behaves differently than expected. Record drilling or cutting adjustments.",
    D: "Test your clock accuracy over 24 hours. Have 5 people rate its aesthetic appeal 1-10. Evaluate if it uses genuinely upcycled materials or new ones."
  },
  "MYP3-DD-home": {
    A: "Research natural disasters relevant to your region. Use HomeByMe to analyse 2 existing floor plans. Survey family about what features matter most in a home.",
    B: "Strand 2 - Design Ideas: Create 2 hand-sketched floor plan designs showing room layouts, emergency exits, and structural features. Each floor plan must be labelled with room names, dimensions, and annotations explaining how the design addresses safety and sustainability. Strand 3 - Chosen Design: Use Microsoft Forms to create a survey that combines BOTH qualitative questions (e.g. 'Which design feels more spacious and why?') and quantitative questions (e.g. 'Rate each design 1-5 for safety features') to present your chosen design to an audience and justify your selection using the survey results.",
    C: "Document your HomeByMe process with screenshots. Note when you revise a room layout and why. Record the 3D view at each major stage.",
    D: "Evaluate your floor plan against safety criteria: Does it have emergency exits? Is it built for local hazards? Get feedback from 3 people about liveability."
  },
  "MYP3-PD-f1": {
    A: "Research aerodynamics and F1 car design principles. Analyse 2 existing F1 car designs using ACCESS FM. Survey classmates about what car features matter most.",
    B: "Create 3 F1 car concepts in Onshape. Consider aerodynamic shapes, weight distribution, and tyre design. Label all key components with dimensions.",
    C: "Document your Onshape modelling process with screenshots. Record when you use mirror, extrude, or fillet tools. Note when you revise a shape for aerodynamics.",
    D: "Test your design in a virtual wind tunnel or use calculations. Have classmates evaluate the aesthetics and functionality. Measure if dimensions match your plan."
  },
  "MYP3-DD-capcut": {
    A: "Research effective video content for your target audience. Analyse 2 existing videos using ACCESS FM adapted for digital media. Survey classmates on video preferences.",
    B: "Plan 3 different content concepts with storyboards. Consider transitions, text overlays, and music choices. Show your shot list and editing plan.",
    C: "Document your CapCut editing process with screenshots. Record when you change a cut, add an effect, or adjust audio. Note each revision and why you made it.",
    D: "Show your video to 5 people and collect ratings on engagement, clarity, and production quality. Evaluate against your original creative brief."
  },
  "MYP5-PD-device-station": {
    A: "Survey 15 students about device charging habits and problems. Research 5 existing charging station products. Analyse the gap between what exists and what students need.",
    B: "Design 3 detailed device station concepts with technical drawings. Consider cable management, number of ports, materials, and safety. Specify dimensions for all versions.",
    C: "Follow your production plan precisely. Document every step with photos. Justify each design change with reference to your specification criteria.",
    D: "Test all specification criteria with measurable data: cable capacity, charging speed, stability, safety. Collect user feedback from 5 students. Evaluate every criterion honestly."
  },
  "MYP5-DD-endstar": {
    A: "Research game design principles and your target audience's preferences. Analyse 3 existing games in the Endstar platform. Identify what makes a game engaging vs frustrating.",
    B: "Design 3 game concepts with level maps, character designs, and mechanics diagrams. Create a full Game Design Document specifying objectives, rules, and win conditions.",
    C: "Document your game development with screenshots at each feature completion. Record and justify every change to mechanics, level design, or visual assets.",
    D: "Conduct playtesting with 5 users. Record completion rates, bug frequency, and enjoyment ratings. Evaluate every game design specification criterion with authentic data."
  },
  "MYP5-PD-assistive": {
    A: "Interview or survey elderly users or their caregivers about daily challenges. Research 4 existing assistive devices. Identify the most critical unmet need you can address.",
    B: "Design 3 assistive device concepts with ergonomics as the priority. Create detailed technical drawings with dimensions scaled to elderly hand sizes. Include materials and cost estimates.",
    C: "Build your device following your production plan. Take photos at every stage. Carefully document and justify any changes to dimensions, materials, or mechanisms.",
    D: "Test with elderly users if possible, or simulate with appropriate constraints. Evaluate safety, usability, and effectiveness against every specification criterion with real data."
  },
  "MYP5-DD-python": {
    A: "Define your app's target user with specificity. Research 3 existing similar apps. Survey 10 potential users about what features they most need and what frustrates them.",
    B: "Design 3 different app interface concepts with wireframes. Plan your Python code structure with flowcharts. Write a full specification listing every feature and its acceptance criteria.",
    C: "Document your Python development with code screenshots and commit messages. Note every bug found and the fix applied. Record all UI changes and why you made them.",
    D: "User-test your app with 5 people completing real tasks. Record error rates, task completion times, and satisfaction scores. Evaluate every specification criterion with authentic data."
  },
  "SDGs": {
    A: "Choose a specific SDG and research the local or global problem it addresses. Survey your community about awareness and impact. Identify the specific gap your design will address.",
    B: "Design 3 solutions that directly address your chosen SDG. Consider sustainability, scalability, and community impact. Link every design decision to the SDG framework.",
    C: "Build your solution documenting every step. Record how your design choices contribute to sustainability goals. Note changes made and how they improve SDG alignment.",
    D: "Evaluate your solution's real impact: Does it address the SDG? Is it sustainable? Could it scale? Collect feedback from community members or experts if possible."
  }
};

var GEN_Z_TICK = [
  "It's the productivity for me.",
  "Task completed. Energy: Immaculate.",
  "We love a checked box. Period.",
  "Now you're cooking, let's go!",
  "Valid move. Keep that same energy.",
  "That's a massive W for Criterion {c} Strand {s}.",
  "No cap, you just levelled up.",
  "Understood the assignment fr fr.",
  "This is giving main character energy.",
  "Slay. Next task incoming!"
];

function clGenerate(){
  var c = CL.crit, si = parseInt(CL.strand), lv = parseInt(CL.level), g = CL.grade||"MYP5";
  CL.unit = document.getElementById("clUnit") ? document.getElementById("clUnit").value : "";
  var strand = DATA[c].strands[si];
  var tasks = (HINTS[c]&&HINTS[c][si]&&HINTS[c][si][lv]) || [];
  var lvNames = ["Not Yet There","Meeting","Exceeding","Excelling"];
  var lvCls   = ["lv1","lv2","lv3","lv4"];
  var lvScores = ["1-2","3-4","5-6","7-8"];
  var lvEmoji  = ["😟","👍","🚀","🏆"];
  var lvCheer  = [
    "Every journey starts somewhere. Let's get you going!",
    "You're aiming to meet the standard. Great start!",
    "You're pushing beyond the basics. That takes courage!",
    "You've challenged yourself to reach the TOP level. Let's go!"
  ];
  // Unit hint
  var unitHint = "";
  if(CL.unit && UNIT_HINTS[CL.unit] && UNIT_HINTS[CL.unit][c]) {
    unitHint = UNIT_HINTS[CL.unit][c];
  }
  // Store checks state
  CL.checks = tasks.map(function(){ return false; });
  GAME_STATE.done = 0;
  GAME_STATE.total = tasks.length;
  GAME_STATE.type = CL.game;

  // Banner
  var bannerIcons = {plant:"🌱",f1:"🏁",animal:"🐾"};
  var bIcon = bannerIcons[CL.game]||"✅";
  var rubricText = strand.d[g][lv-1];

  var h = "";
  // Banner
  h += "<div class='cl-banner "+lvCls[lv-1]+"'>";
  h += "<div class='cl-banner-icon'>"+lvEmoji[lv-1]+"</div>";
  h += "<div class='cl-banner-title'>You've challenged yourself to reach "+lvScores[lv-1]+" - "+lvNames[lv-1]+"!</div>";
  h += "<div class='cl-banner-sub'>"+lvCheer[lv-1]+" "+tasks.length+" tasks to complete.</div>";
  h += "</div>";

  // Unit tip
  if(unitHint){
    var unitLabels = {
      "MYP1-PD-desk-organizer":"Desk Organizers","MYP1-DD-scratch":"Scratch Games",
      "MYP3-PD-clock":"Upcycled Clock","MYP3-DD-home":"Sustainable Homes",
      "MYP3-PD-f1":"F1 Car Design","MYP3-DD-capcut":"Content Creation",
      "MYP5-PD-device-station":"Device Station","MYP5-DD-endstar":"Endstar Game Dev",
      "MYP5-PD-assistive":"Assistive Device","MYP5-DD-python":"Python App",
      "SDGs":"Designing for a Better Future"
    };
    h += "<div style='background:#f0eaff;border-radius:12px;padding:14px 18px;border-left:4px solid var(--l4);margin-bottom:4px;'>";
    h += "<div style='font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.1em;color:var(--l4);margin-bottom:5px;'>&#127919; Unit tip: "+(unitLabels[CL.unit]||CL.unit)+"</div>";
    h += "<div style='font-size:15px;font-weight:700;color:var(--text);line-height:1.6;'>"+unitHint+"</div>";
    h += "</div>";
  }

  // Rubric quote
  h += "<div style='background:var(--surface2);border-radius:12px;padding:14px 18px;border-left:4px solid var(--"+lvCls[lv-1]+")'>";
  h += "<div style='font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.1em;color:var(--dim);margin-bottom:5px;'>The rubric says you must...</div>";
  h += "<div style='font-size:16px;font-weight:800;color:var(--text);line-height:1.6;'>"+rubricText+"</div>";
  h += "</div>";

  // Game widget
  h += "<div class='cl-game'>";
  h += "<div class='cl-game-hdr'><div class='cl-game-title'>"+bIcon+" Your Reward: "+({plant:"Grow a Plant",f1:"F1 Race",animal:"Rescue the Animal"}[CL.game]||"Game")+"</div><div class='cl-game-prog' id='gameProg'>0 / "+tasks.length+" tasks done</div></div>";
  h += "<div class='cl-game-canvas'><canvas id='gameCanvas' width='560' height='110'></canvas></div>";
  h += "</div>";

  // Progress bar
  h += "<div class='cl-progress-wrap'>";
  h += "<div class='cl-progress-label'>Progress</div>";
  h += "<div class='cl-progress-bar'><div class='cl-progress-fill' id='clProgressFill' style='width:0%'></div></div>";
  h += "<div class='cl-progress-pct' id='clProgressPct'>0%</div>";
  h += "</div>";

  // Checklist
  h += "<div id='clTickMsg' style='min-height:28px;padding:4px 0;font-size:14px;font-weight:900;color:var(--l4);text-align:center;transition:opacity .3s;opacity:0;'></div>";
  h += "<div class='cl-list' id='clList'>";
  tasks.forEach(function(task, i){
    // Get unit example if exists
    var exHint = "";
    h += "<div class='cl-item' data-idx='"+i+"'>";
    h += "<div class='cl-checkbox'></div>";
    h += "<div class='cl-item-body'><div class='cl-item-txt'>"+task+"</div></div>";
    h += "</div>";
  });
  h += "</div>";

  document.getElementById("clOutput").innerHTML = h;
  document.getElementById("clProgressCheckResult").style.display = "none";
  clGoStep(5);

  // Draw initial game frame
  setTimeout(function(){ drawGame(0, tasks.length); }, 100);

  // Wire checklist items
  document.getElementById("clList").addEventListener("click", function(e){
    var item = e.target.closest(".cl-item");
    if(!item) return;
    var idx = parseInt(item.dataset.idx);
    CL.checks[idx] = !CL.checks[idx];
    item.classList.toggle("done", CL.checks[idx]);
    item.querySelector(".cl-checkbox").textContent = CL.checks[idx] ? "\u2713" : "";
    var done = CL.checks.filter(Boolean).length;
    var pct = Math.round(done/CL.checks.length*100);
    document.getElementById("clProgressFill").style.width = pct+"%";
    document.getElementById("clProgressPct").textContent = pct+"%";
    document.getElementById("gameProg").textContent = done+" / "+CL.checks.length+" tasks done";
    drawGame(done, CL.checks.length);
    if(CL.checks[idx]) {
      fireConfetti();
      var msg = GEN_Z_TICK[Math.floor(Math.random()*GEN_Z_TICK.length)];
      msg = msg.replace("{c}", c).replace("{s}", (si+1));
      var tickEl = document.getElementById("clTickMsg");
      if(tickEl){ tickEl.textContent = msg; tickEl.style.opacity="1"; setTimeout(function(){ tickEl.style.opacity="0"; },2500); }
    }
    if(done===CL.checks.length) clCelebrate();
    // Hide progress check result on change
    document.getElementById("clProgressCheckResult").style.display = "none";
  });
}

function clProgressCheck(){
  var done = CL.checks ? CL.checks.filter(Boolean).length : 0;
  var total = CL.checks ? CL.checks.length : 0;
  if(total===0) return;
  var pct = done/total;
  var msgs;
  var resultEl = document.getElementById("clProgressCheckResult");
  if(!resultEl) return;

  if(pct >= 1){
    var completes = [
      "You ATE (8) and left no boxes unticked. Legendary!",
      "That's tough! No cap, you're giving designer pro max.",
      "What comes after 7? ATE! PERIOD.",
      "You understood the assignment. Literally. MASSIVE WIN!"
    ];
    msgs = [completes[Math.floor(Math.random()*completes.length)]];
    for(var i=0;i<5;i++) setTimeout(fireConfetti, i*200);
  } else if(pct >= 0.8){
    var highs = [
      "You're the GOAT of design, this is a massive W! "+done+" out of "+total+" done, you're almost there!",
      "Absolute cinema, your progress is giving. "+done+" / "+total+" done - lock in for the final stretch!",
      "You're literally in 4K resolution right now, keep the momentum fire! Just "+(total-done)+" left!"
    ];
    msgs = [highs[Math.floor(Math.random()*highs.length)]];
  } else if(pct >= 0.4){
    var mids = [
      done+" out of "+total+" done. You're starting to cook. Lock in! Almost there!",
      "You're giving 'Main Character' energy right now. "+done+"/"+total+" done. Let's keep going!"
    ];
    msgs = [mids[Math.floor(Math.random()*mids.length)]];
  } else if(pct > 0){
    var lows = [
      "Only "+done+" out of "+total+" boxes ticked? That's mid. I know you can do better, let's go!",
      "We see you starting! "+done+"/"+total+" done. No cap, the rubric is ready when you are. Let's make it happen!"
    ];
    msgs = [lows[Math.floor(Math.random()*lows.length)]];
  } else {
    msgs = ["The checklist is currently at zero. No cap, the rubric is ready when you are. Let's make it happen!"];
  }

  resultEl.style.display = "block";
  resultEl.innerHTML = "&#128200; " + msgs[0];
  resultEl.scrollIntoView({behavior:"smooth", block:"nearest"});
}
// ── GAME RENDERER ──────────────────────────────────────────────────────────
function drawGame(done, total){
  var canvas = document.getElementById("gameCanvas");
  if(!canvas) return;
  var ctx = canvas.getContext("2d");
  var W=canvas.width, H=canvas.height;
  var pct = total>0 ? done/total : 0;
  ctx.clearRect(0,0,W,H);

  if(GAME_STATE.type==="plant"){
    drawPlantGame(ctx,W,H,pct);
  } else if(GAME_STATE.type==="f1"){
    drawF1Game(ctx,W,H,pct);
  } else if(GAME_STATE.type==="animal"){
    drawAnimalGame(ctx,W,H,pct);
  }
}

function drawPlantGame(ctx,W,H,pct){
  // Sky bg
  var sky=ctx.createLinearGradient(0,0,0,H);
  sky.addColorStop(0,"#e8f5e9"); sky.addColorStop(1,"#c8e6c9");
  ctx.fillStyle=sky; ctx.fillRect(0,0,W,H);
  // Ground
  ctx.fillStyle="#6d4c41"; ctx.fillRect(0,H-20,W,20);
  ctx.fillStyle="#8bc34a"; ctx.fillRect(0,H-24,W,8);
  // Sun
  ctx.fillStyle="#FFD54F";
  ctx.beginPath(); ctx.arc(W-50,35,20,0,Math.PI*2); ctx.fill();

  var cx=W/2, baseY=H-24;
  if(pct<=0){
    // Seed in ground
    ctx.fillStyle="#795548";
    ctx.beginPath(); ctx.ellipse(cx,baseY-4,6,5,0,0,Math.PI*2); ctx.fill();
    ctx.fillStyle="#a1887f"; ctx.font="bold 13px Nunito,sans-serif"; ctx.textAlign="center";
    ctx.fillText("Plant your seed... 🌱",cx,H-30);
    return;
  }

  var stemH = Math.max(5, pct*80);
  // Stem
  ctx.strokeStyle="#388e3c"; ctx.lineWidth=5; ctx.lineCap="round";
  ctx.beginPath(); ctx.moveTo(cx,baseY); ctx.lineTo(cx,baseY-stemH); ctx.stroke();

  // Leaves appear progressively
  if(pct>0.2){
    ctx.fillStyle="#66bb6a";
    ctx.beginPath(); ctx.ellipse(cx-18,baseY-stemH*0.35,14,8,-0.5,0,Math.PI*2); ctx.fill();
  }
  if(pct>0.45){
    ctx.fillStyle="#4caf50";
    ctx.beginPath(); ctx.ellipse(cx+18,baseY-stemH*0.6,14,8,0.5,0,Math.PI*2); ctx.fill();
  }
  if(pct>0.7){
    ctx.fillStyle="#81c784";
    ctx.beginPath(); ctx.ellipse(cx-14,baseY-stemH*0.82,10,6,-0.3,0,Math.PI*2); ctx.fill();
  }

  // Flower / bud
  if(pct<0.5){
    ctx.fillStyle="#a5d6a7";
    ctx.beginPath(); ctx.ellipse(cx,baseY-stemH-6,6,8,0,0,Math.PI*2); ctx.fill();
  } else if(pct<0.85){
    // Partial bloom
    ["#ffb300","#ef6c00","#f57c00"].forEach(function(c,i){
      ctx.fillStyle=c;
      ctx.beginPath(); ctx.ellipse(cx+Math.cos(i*1.2)*10,baseY-stemH-6+Math.sin(i*1.2)*10,8,5,i*1.2,0,Math.PI*2); ctx.fill();
    });
    ctx.fillStyle="#ffcc02";
    ctx.beginPath(); ctx.arc(cx,baseY-stemH-6,7,0,Math.PI*2); ctx.fill();
  } else {
    // Full bloom
    for(var a=0;a<6;a++){
      ctx.fillStyle=a%2===0?"#FF80AB":"#F48FB1";
      ctx.beginPath();
      ctx.ellipse(cx+Math.cos(a*Math.PI/3)*13,baseY-stemH-6+Math.sin(a*Math.PI/3)*13,9,6,a*Math.PI/3,0,Math.PI*2);
      ctx.fill();
    }
    ctx.fillStyle="#FFD700";
    ctx.beginPath(); ctx.arc(cx,baseY-stemH-6,9,0,Math.PI*2); ctx.fill();
    // Sparkles
    if(pct>=1){
      ctx.fillStyle="#FFD700";
      [[cx-30,baseY-stemH-25],[cx+28,baseY-stemH-30],[cx,baseY-stemH-38]].forEach(function(p){
        ctx.font="16px serif"; ctx.textAlign="center";
        ctx.fillText("✨",p[0],p[1]);
      });
    }
  }
  // Label
  ctx.fillStyle="#2e7d32"; ctx.font="bold 12px Nunito,sans-serif"; ctx.textAlign="center";
  var labels=["Sprouting...","Growing...","Budding...","Blooming!","Full Flower! 🌸"];
  ctx.fillText(labels[Math.min(4,Math.floor(pct*4.9))],cx,H-6);
}

function drawF1Game(ctx,W,H,pct){
  // Track bg
  var bg=ctx.createLinearGradient(0,0,0,H);
  bg.addColorStop(0,"#f5f5f5"); bg.addColorStop(1,"#e0e0e0");
  ctx.fillStyle=bg; ctx.fillRect(0,0,W,H);
  // Road
  ctx.fillStyle="#424242"; ctx.fillRect(0,H*0.45,W,H*0.35);
  // Dashed centre line
  ctx.strokeStyle="#FFF"; ctx.lineWidth=3; ctx.setLineDash([20,15]);
  ctx.beginPath(); ctx.moveTo(0,H*0.625); ctx.lineTo(W,H*0.625); ctx.stroke();
  ctx.setLineDash([]);
  // Start line
  ctx.fillStyle="#fff"; ctx.fillRect(30,H*0.44,12,H*0.37);
  ctx.fillStyle="#111"; ctx.font="10px Nunito,sans-serif"; ctx.textAlign="center";
  ctx.fillText("START",36,H*0.42);
  // Finish
  ctx.fillStyle="#fff"; ctx.fillRect(W-42,H*0.44,12,H*0.37);
  ctx.fillStyle="#111"; ctx.fillText("FINISH",W-36,H*0.42);
  // Chequered finish block
  var fx=W-42;
  for(var row=0;row<6;row++) for(var col=0;col<2;col++){
    if((row+col)%2===0){ ctx.fillStyle="#111"; ctx.fillRect(fx+col*6,H*0.44+row*7,6,7); }
  }
  // Crowd stands
  ctx.fillStyle="#bdbdbd"; ctx.fillRect(0,0,W,H*0.35);
  ctx.fillStyle="#9e9e9e"; ctx.fillRect(0,H*0.35,W,10);
  // Simple crowd dots
  for(var ci=0;ci<30;ci++){
    var colors=["#e53935","#1e88e5","#43a047","#fb8c00","#8e24aa"];
    ctx.fillStyle=colors[ci%5];
    ctx.beginPath(); ctx.arc(20+ci*18+(ci%3)*4, 30+(ci%4)*16, 5,0,Math.PI*2); ctx.fill();
  }
  // Car position
  var carX = 45 + pct*(W-110);
  var carY = H*0.52;
  // Shadow
  ctx.fillStyle="rgba(0,0,0,0.2)"; ctx.beginPath(); ctx.ellipse(carX+18,carY+28,22,6,0,0,Math.PI*2); ctx.fill();
  // Car body
  ctx.fillStyle="#e53935"; ctx.beginPath();
  ctx.roundRect(carX,carY+6,36,14,4); ctx.fill();
  // Cockpit
  ctx.fillStyle="#1a1a2e";
  ctx.beginPath(); ctx.roundRect(carX+10,carY,16,10,3); ctx.fill();
  // Wheels
  ctx.fillStyle="#111";
  [[carX+4,carY+20],[carX+28,carY+20]].forEach(function(w){
    ctx.beginPath(); ctx.arc(w[0],w[1],6,0,Math.PI*2); ctx.fill();
    ctx.fillStyle="#555"; ctx.beginPath(); ctx.arc(w[0],w[1],3,0,Math.PI*2); ctx.fill();
    ctx.fillStyle="#111";
  });
  // Speed lines when moving
  if(pct>0.05){
    ctx.strokeStyle="rgba(255,255,255,0.6)"; ctx.lineWidth=2;
    [8,14,20].forEach(function(offset){
      ctx.beginPath(); ctx.moveTo(carX-5,carY+offset); ctx.lineTo(carX-18,carY+offset); ctx.stroke();
    });
  }
  // Number
  ctx.fillStyle="#fff"; ctx.font="bold 9px Nunito,sans-serif"; ctx.textAlign="center";
  ctx.fillText("44",carX+18,carY+16);
  // Label
  ctx.fillStyle="#212121"; ctx.font="bold 12px Nunito,sans-serif"; ctx.textAlign="center";
  var speed=["Ready on the grid...","Accelerating!","Mid-race, pushing hard!","Almost there!","FINISH LINE! 🏆"][Math.min(4,Math.floor(pct*4.9))];
  ctx.fillText(speed,W/2,H-6);
  // Finish flag celebration
  if(pct>=1){
    ctx.font="22px serif"; ctx.textAlign="center";
    ctx.fillText("🏁",W-36,H*0.35);
    ctx.fillText("🎉",carX+18,carY-10);
  }
}

function drawAnimalGame(ctx,W,H,pct){
  // Vet room bg
  var bg=ctx.createLinearGradient(0,0,0,H);
  bg.addColorStop(0,"#e3f2fd"); bg.addColorStop(1,"#bbdefb");
  ctx.fillStyle=bg; ctx.fillRect(0,0,W,H);
  // Floor
  ctx.fillStyle="#fff8e1"; ctx.fillRect(0,H*0.72,W,H*0.28);
  ctx.strokeStyle="#ffe082"; ctx.lineWidth=2; ctx.beginPath(); ctx.moveTo(0,H*0.72); ctx.lineTo(W,H*0.72); ctx.stroke();
  // Table / bed
  ctx.fillStyle="#a1887f"; ctx.fillRect(W/2-80,H*0.55,160,10);
  ctx.fillStyle="#d7ccc8"; ctx.fillRect(W/2-80,H*0.58,160,30);

  // --- Koala on the bed ---
  var bx=W/2, by=H*0.52;
  // Body
  ctx.fillStyle="#9e9e9e";
  ctx.beginPath(); ctx.ellipse(bx,by+22,22,18,0,0,Math.PI*2); ctx.fill();
  // Head
  ctx.fillStyle="#9e9e9e";
  ctx.beginPath(); ctx.arc(bx,by,20,0,Math.PI*2); ctx.fill();
  // Ears
  ctx.fillStyle="#9e9e9e";
  ctx.beginPath(); ctx.ellipse(bx-18,by-16,10,9,-.4,0,Math.PI*2); ctx.fill();
  ctx.beginPath(); ctx.ellipse(bx+18,by-16,10,9,.4,0,Math.PI*2); ctx.fill();
  ctx.fillStyle="#f8bbd0";
  ctx.beginPath(); ctx.ellipse(bx-18,by-16,6,5,-.4,0,Math.PI*2); ctx.fill();
  ctx.beginPath(); ctx.ellipse(bx+18,by-16,6,5,.4,0,Math.PI*2); ctx.fill();
  // Nose
  ctx.fillStyle="#555";
  ctx.beginPath(); ctx.ellipse(bx,by+3,7,5,0,0,Math.PI*2); ctx.fill();

  // Bandages / health indicators
  var bandageCount = Math.floor(pct*4);
  if(bandageCount>=1){ // Arm bandage off
    ctx.strokeStyle="#ef9a9a"; ctx.lineWidth=3;
    ctx.beginPath(); ctx.moveTo(bx-22,by+18); ctx.lineTo(bx-32,by+30); ctx.stroke();
  } else {
    // Bandaged arm
    ctx.fillStyle="#fff"; ctx.fillRect(bx-34,by+20,14,8);
    ctx.strokeStyle="#ef9a9a"; ctx.lineWidth=1.5;
    ctx.beginPath(); ctx.moveTo(bx-34,by+24); ctx.lineTo(bx-20,by+24); ctx.stroke();
  }

  // Eyes change with health
  var eyeColor = pct<0.3?"#999":(pct<0.6?"#5d4037":"#1a237e");
  var eyeSize  = pct<0.3?2.5:(pct<0.6?3.5:4.5);
  ctx.fillStyle=eyeColor;
  ctx.beginPath(); ctx.arc(bx-8,by-2,eyeSize,0,Math.PI*2); ctx.fill();
  ctx.beginPath(); ctx.arc(bx+8,by-2,eyeSize,0,Math.PI*2); ctx.fill();
  // Eye shine
  if(pct>0.4){
    ctx.fillStyle="#fff";
    ctx.beginPath(); ctx.arc(bx-6,by-4,1.5,0,Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.arc(bx+10,by-4,1.5,0,Math.PI*2); ctx.fill();
  }

  // Smile
  ctx.strokeStyle=pct<0.3?"#aaa":"#5d4037"; ctx.lineWidth=2; ctx.lineCap="round";
  ctx.beginPath();
  if(pct<0.25){ // Sad
    ctx.arc(bx,by+10,7,0.3,Math.PI-0.3,true);
  } else if(pct<0.7){ // Neutral
    ctx.moveTo(bx-6,by+10); ctx.lineTo(bx+6,by+10);
  } else { // Happy
    ctx.arc(bx,by+6,7,0.2,Math.PI-0.2);
  }
  ctx.stroke();

  // IV drip / cast healing away
  if(pct<0.4){
    // IV pole
    ctx.strokeStyle="#90a4ae"; ctx.lineWidth=3;
    ctx.beginPath(); ctx.moveTo(bx+80,H*0.2); ctx.lineTo(bx+80,H*0.62); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(bx+65,H*0.22); ctx.lineTo(bx+95,H*0.22); ctx.stroke();
    // IV bag
    ctx.fillStyle="#b3e5fc"; ctx.fillRect(bx+62,H*0.22,26,18); ctx.strokeStyle="#4fc3f7"; ctx.lineWidth=2; ctx.strokeRect(bx+62,H*0.22,26,18);
    // Drip line
    ctx.strokeStyle="#4fc3f7"; ctx.lineWidth=1.5; ctx.setLineDash([3,3]);
    ctx.beginPath(); ctx.moveTo(bx+75,H*0.4); ctx.lineTo(bx+75,H*0.62); ctx.stroke();
    ctx.setLineDash([]);
  }

  // Heart rate monitor at higher health
  if(pct>0.5){
    ctx.strokeStyle=pct>0.8?"#4caf50":"#ef9a9a"; ctx.lineWidth=2;
    var mx=bx-60, my=by+45;
    ctx.beginPath(); ctx.moveTo(mx,my); ctx.lineTo(mx+10,my); ctx.lineTo(mx+14,my-12); ctx.lineTo(mx+18,my+8);
    ctx.lineTo(mx+22,my); ctx.lineTo(mx+32,my); ctx.stroke();
  }

  // Healing glow at high pct
  if(pct>0.8){
    var grd=ctx.createRadialGradient(bx,by,5,bx,by,40);
    grd.addColorStop(0,"rgba(200,255,200,0.4)"); grd.addColorStop(1,"rgba(200,255,200,0)");
    ctx.fillStyle=grd; ctx.beginPath(); ctx.arc(bx,by,40,0,Math.PI*2); ctx.fill();
  }

  // Hearts at full health
  if(pct>=1){
    ctx.font="18px serif"; ctx.textAlign="center";
    ctx.fillText("💚",bx-35,by-25);
    ctx.fillText("💚",bx+35,by-25);
    ctx.fillText("💚",bx,by-40);
  }

  // Status label
  var labels=["Our koala is hurt... 😔","Getting a little better 🩺","Healing well! 💊","Almost fully healed! 🌿","Fully recovered! 💚🌟"][Math.min(4,Math.floor(pct*4.9))];
  ctx.fillStyle="#1a237e"; ctx.font="bold 12px Nunito,sans-serif"; ctx.textAlign="center";
  ctx.fillText(labels, W/2, H-6);
}

// ── CONFETTI ────────────────────────────────────────────────────────────────
function fireConfetti(){
  var colours=["#FF80AB","#69F0AE","#40C4FF","#FFD740","#E040FB","#FF6D00"];
  for(var i=0;i<18;i++){
    var el=document.createElement("div");
    el.className="confetti-piece";
    el.style.cssText="left:"+(30+Math.random()*40)+"%;top:"+( Math.random()*30+30)+"%;width:"+(6+Math.random()*8)+"px;height:"+(6+Math.random()*8)+"px;background:"+colours[Math.floor(Math.random()*colours.length)]+";animation-delay:"+(Math.random()*0.4)+"s;";
    document.body.appendChild(el);
    setTimeout(function(e){ e.remove(); }, 1800, el);
  }
}

function clCelebrate(){
  for(var i=0;i<5;i++) setTimeout(fireConfetti, i*200);
  var banner=document.querySelector(".cl-banner");
  if(banner) banner.style.transform="scale(1.04)";
  setTimeout(function(){ if(banner) banner.style.transform=""; },300);
}

// ── MLA CITATION GENERATOR ──────────────────────────────────────────────────
var savedCitations = [];
function generateMLACite(){
  var url = document.getElementById("citeUrlInput") ? document.getElementById("citeUrlInput").value.trim() : "";
  var author = document.getElementById("citeAuthor") ? document.getElementById("citeAuthor").value.trim() : "";
  var title = document.getElementById("citeTitle") ? document.getElementById("citeTitle").value.trim() : "";
  var year = document.getElementById("citeYear") ? document.getElementById("citeYear").value.trim() : "";
  var resultEl = document.getElementById("citeResult");
  if(!resultEl) return;
  if(!url){ resultEl.innerHTML="<div style='color:#c00;font-weight:700;padding:10px;'>Please paste a URL first!</div>"; resultEl.style.display="block"; return; }
  // Parse domain as site name
  var siteName = "";
  try { siteName = new URL(url).hostname.replace("www.",""); } catch(e){ siteName = url; }
  // Today's date for access date
  var now = new Date();
  var months = ["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."];
  var accessDate = now.getDate()+" "+months[now.getMonth()]+" "+now.getFullYear();
  // Build MLA citation
  var parts = [];
  if(author) parts.push(author+".");
  if(title) parts.push('"'+title+'."');
  parts.push("<em>"+(siteName||"Website")+"</em>,");
  if(year) parts.push(year+",");
  parts.push(url+".");
  parts.push("Accessed "+accessDate+".");
  var citation = parts.join(" ");
  resultEl.style.display = "block";
  resultEl.innerHTML = "<div style='font-size:11px;font-weight:900;text-transform:uppercase;letter-spacing:.08em;color:var(--l4);margin-bottom:8px;'>&#9989; Your MLA Citation</div>"
    +"<div class='cite-box' id='generatedCite' style='margin:0 0 10px 0;'>"+citation+"</div>"
    +"<div style='display:flex;gap:10px;'>"
    +"<button onclick='copyMLACite()' style='padding:9px 18px;border-radius:10px;border:2px solid var(--l4-bd);background:var(--l4-bg);color:var(--l4);font-family:Nunito,sans-serif;font-size:13px;font-weight:900;cursor:pointer;'>&#128203; Copy</button>"
    +"<button onclick='saveMLACite()' style='padding:9px 18px;border-radius:10px;border:none;background:var(--l4);color:#fff;font-family:Nunito,sans-serif;font-size:13px;font-weight:900;cursor:pointer;'>&#128204; Save to List</button>"
    +"</div>";
}
function copyMLACite(){
  var el = document.getElementById("generatedCite");
  if(!el) return;
  var text = el.innerText;
  navigator.clipboard.writeText(text).catch(function(){ });
  var btns = document.querySelectorAll("#citeResult button");
  if(btns[0]){ btns[0].textContent = "\u2713 Copied!"; setTimeout(function(){ if(btns[0]) btns[0].textContent = "\uD83D\uDCCB Copy"; },1500); }
}
function saveMLACite(){
  var el = document.getElementById("generatedCite");
  if(!el) return;
  var text = el.innerText;
  if(savedCitations.indexOf(text)<0){
    savedCitations.push(text);
    renderSavedCitations();
  }
}
function renderSavedCitations(){
  var el = document.getElementById("citeSaved"), listEl = document.getElementById("citeSavedList");
  if(!el||!listEl) return;
  el.style.display = savedCitations.length ? "block" : "none";
  listEl.innerHTML = savedCitations.map(function(c,i){
    return "<div style='display:flex;align-items:flex-start;gap:10px;margin-bottom:8px;'>"
      +"<div style='background:var(--surface2);border-radius:8px;padding:10px 14px;flex:1;font-family:monospace;font-size:13px;'>"+c+"</div>"
      +"<button onclick='removeCite("+i+")' style='padding:6px 10px;border-radius:8px;border:2px solid var(--l1-bd);background:var(--l1-bg);color:var(--l1);font-family:Nunito,sans-serif;font-size:12px;font-weight:900;cursor:pointer;flex-shrink:0;'>&#128465;</button>"
      +"</div>";
  }).join("");
}
function removeCite(i){ savedCitations.splice(i,1); renderSavedCitations(); }


// ── MODE SWITCHER ──
document.getElementById("modeRubric").addEventListener("click", function(){
  document.getElementById("modeRubric").classList.add("on");
  document.getElementById("modeLearn").classList.remove("on");
  document.getElementById("panelRubric").style.display = "flex";
  document.getElementById("panelLearn").style.display = "none";
});
document.getElementById("modeLearn").addEventListener("click", function(){
  document.getElementById("modeLearn").classList.add("on");
  document.getElementById("modeRubric").classList.remove("on");
  document.getElementById("panelRubric").style.display = "none";
  document.getElementById("panelLearn").style.display = "flex";
});

// ── LEARN NAV ──
document.querySelectorAll(".learn-nav-btn").forEach(function(btn){
  btn.addEventListener("click", function(){
    document.querySelectorAll(".learn-nav-btn").forEach(function(b){ b.classList.remove("on"); });
    btn.classList.add("on");
    var sec = btn.dataset.sec;
    document.querySelectorAll(".learn-section").forEach(function(s){ s.classList.remove("on"); });
    var target = document.getElementById("sec-"+sec);
    if(target) target.classList.add("on");
  });
});

// ── AI ACCORDION ──
function toggleAI(hdr){
  hdr.classList.toggle("open");
}

function init(){
  buildStrands();
  renderMain();
  populateSels();
}
init();
</script>
</body>
</html>
